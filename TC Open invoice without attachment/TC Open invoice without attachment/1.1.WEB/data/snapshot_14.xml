<?xml version="1.0" encoding="utf-8"?>
<HTTPSnapshot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="14">
  <HTTPTask id="519" hostname="sapui5.hana.ondemand.com" path="https://sapui5.hana.ondemand.com/1.71.4/resources/sap/fiori/flp-controls.js" url="https://sapui5.hana.ondemand.com/1.71.4/resources/sap/fiori/flp-controls.js" ip="2.23.181.71" port="443" connectionId="105" origin="Primary" frame="1" startDateTime="2019-11-15T17:22:27.471+03:00" startTime="1676515" endTime="1676515">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="User-Agent" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzYzLjAuMzIzOS4xMzIgU2FmYXJpLzUzNy4zNg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ki8q</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cHM6Ly9wcm9jdXJlcGFydGVzdGMxLXNhcGNpbS10ZXN0LXBlcmZvcm1hbmNlLmludGVybmFsLmNmYXBwcy5zYXAuaGFuYS5vbmRlbWFuZC5jb20vY3AucG9ydGFsL3NpdGU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ZW4tVVMsZW47cT0wLjk=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>c2FwdWk1LmhhbmEub25kZW1hbmQuY29t</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIGh0dHBzOi8vc2FwdWk1LmhhbmEub25kZW1hbmQuY29tLzEuNzEuNC9yZXNvdXJjZXMvc2FwL2Zpb3JpL2ZscC1jb250cm9scy5qcyBIVFRQLzEuMQ0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzYzLjAuMzIzOS4xMzIgU2FmYXJpLzUzNy4zNg0KQWNjZXB0OiAqLyoNClJlZmVyZXI6IGh0dHBzOi8vcHJvY3VyZXBhcnRlc3RjMS1zYXBjaW0tdGVzdC1wZXJmb3JtYW5jZS5pbnRlcm5hbC5jZmFwcHMuc2FwLmhhbmEub25kZW1hbmQuY29tL2NwLnBvcnRhbC9zaXRlDQpBY2NlcHQtRW5jb2Rpbmc6IGd6aXAsIGRlZmxhdGUNCkFjY2VwdC1MYW5ndWFnZTogZW4tVVMsZW47cT0wLjkNCkhvc3Q6IHNhcHVpNS5oYW5hLm9uZGVtYW5kLmNvbQ0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <contentLenght>45426</contentLenght>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Content-Type" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Access-Control-Allow-Origin" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Kg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Encoding" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Vy8iMS43MS40Ig==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>V2VkLCAzMCBPY3QgMjAxOSAyMzozMjo1NSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Server" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QWthbWFpIFJlc291cmNlIE9wdGltaXplcg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Strict-Transport-Security" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>bWF4LWFnZT0zMTUzNjAwMDsgaW5jbHVkZVN1YkRvbWFpbnM7IHByZWxvYWQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Vary" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-XSS-Protection" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Length" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>NDU0MjY=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cache-Control" index="10">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>cHVibGljLCBtYXgtYWdlPTMwMjEyNTU3</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Expires" index="11">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>RnJpLCAzMCBPY3QgMjAyMCAwNjo0NDo1NSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="12">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>RnJpLCAxNSBOb3YgMjAxOSAxNDoyMjoxOCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="13">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>a2VlcC1hbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="timing-allow-origin" index="14">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Kg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-cache-akamai" index="15">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>c3RhYmxl</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2phdmFzY3JpcHQNCkFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbjogKg0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KRVRhZzogVy8iMS43MS40Ig0KTGFzdC1Nb2RpZmllZDogV2VkLCAzMCBPY3QgMjAxOSAyMzozMjo1NSBHTVQNClNlcnZlcjogQWthbWFpIFJlc291cmNlIE9wdGltaXplcg0KU3RyaWN0LVRyYW5zcG9ydC1TZWN1cml0eTogbWF4LWFnZT0zMTUzNjAwMDsgaW5jbHVkZVN1YkRvbWFpbnM7IHByZWxvYWQNClZhcnk6IEFjY2VwdC1FbmNvZGluZw0KWC1YU1MtUHJvdGVjdGlvbjogMA0KQ29udGVudC1MZW5ndGg6IDQ1NDI2DQpDYWNoZS1Db250cm9sOiBwdWJsaWMsIG1heC1hZ2U9MzAyMTI1NTcNCkV4cGlyZXM6IEZyaSwgMzAgT2N0IDIwMjAgMDY6NDQ6NTUgR01UDQpEYXRlOiBGcmksIDE1IE5vdiAyMDE5IDE0OjIyOjE4IEdNVA0KQ29ubmVjdGlvbjoga2VlcC1hbGl2ZQ0KdGltaW5nLWFsbG93LW9yaWdpbjogKg0KWC1jYWNoZS1ha2FtYWk6IHN0YWJsZQ0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>Ly9AdWk1LWJ1bmRsZSBzYXAvZmlvcmkvZmxwLWNvbnRyb2xzLmpzCnNhcC51aS5wcmVkZWZpbmUoJ3NhcC91c2hlbGwvVUlBY3Rpb25zJyxmdW5jdGlvbigpeyJ1c2Ugc3RyaWN0Ijt2YXIgVT1mdW5jdGlvbihjKXtpZighY3x8IWMucm9vdFNlbGVjdG9yfHwhYy5jb250YWluZXJTZWxlY3Rvcnx8IWMuZHJhZ2dhYmxlU2VsZWN0b3Ipe3Rocm93IG5ldyBFcnJvcigiTm8gY29uZmlndXJhdGlvbiBvYmplY3QgdG8gaW5pdGlhbGl6ZSBVc2VyIEludGVyYWN0aW9uIG1vZHVsZS4iKTt9dGhpcy5hbmltYXRpb25EdXJhdGlvbj1udWxsO3RoaXMuY2FwdHVyZVN0YXJ0PW51bGw7dGhpcy5jYXB0dXJlTW92ZT1udWxsO3RoaXMuY2FwdHVyZUVuZD1udWxsO3RoaXMuY2xpY2tDYWxsYmFjaz1udWxsO3RoaXMuY2xpY2tFdmVudD1udWxsO3RoaXMuY2xpY2tIYW5kbGVyPW51bGw7dGhpcy5jbG9uZT1udWxsO3RoaXMuY2xvbmVDbGFzcz1udWxsO3RoaXMuY29udGFpbmVyPW51bGw7dGhpcy5jb250ZXh0TWVudUV2ZW50PW51bGw7dGhpcy5kZWJ1Zz1udWxsO3RoaXMuZGVmYXVsdERyYWdTdGFydEV2ZW50PW51bGw7dGhpcy5kZWZhdWx0TW91c2VNb3ZlRXZlbnQ9bnVsbDt0aGlzLmRlbHRhVG9wPTA7dGhpcy5kaXNhYmxlZERyYWdnYWJsZVNlbGVjdG9yPW51bGw7dGhpcy5kcmFnQW5kU2Nyb2xsQ2FsbGJhY2s9bnVsbDt0aGlzLmRyYWdBbmRTY3JvbGxEdXJhdGlvbj1udWxsO3RoaXMuZHJhZ0FuZFNjcm9sbFRpbWVyPW51bGw7dGhpcy5kcmFnZ2FibGU9bnVsbDt0aGlzLnBsYWNlSG9sZGVyQ2xhc3M9bnVsbDt0aGlzLmRyYWdnYWJsZVNlbGVjdG9yPW51bGw7dGhpcy5kcmFnZ2FibGVTZWxlY3RvckV4Y2x1ZGU9bnVsbDt0aGlzLmRvdWJsZVRhcENhbGxiYWNrPW51bGw7dGhpcy5kb3VibGVUYXBEZWxheT1udWxsO3RoaXMuZWxlbWVudD1udWxsO3RoaXMuZW5kRHJhZ0FuZFNjcm9sbENhbGxiYWNrO3RoaXMuZW5kWD1udWxsO3RoaXMuZW5kWT1udWxsO3RoaXMuaXNMYXlvdXRFbmdpbmU9bnVsbDt0aGlzLmlzVG91Y2g9bnVsbDt0aGlzLmlzQ29tYmk9bnVsbDt0aGlzLmxhc3RFbGVtZW50PW51bGw7dGhpcy5sYXN0VGFwVGltZT1udWxsO3RoaXMubG9ja01vZGU9bnVsbDt0aGlzLmxvZz1udWxsO3RoaXMubW9kZT1udWxsO3RoaXMubW91c2VEb3duRXZlbnQ9bnVsbDt0aGlzLm1vdXNlTW92ZUV2ZW50PW51bGw7dGhpcy5tb3VzZVVwRXZlbnQ9bnVsbDt0aGlzLm1vdmVUb2xlcmFuY2U9bnVsbDt0aGlzLm1vdmVYPW51bGw7dGhpcy5tb3ZlWT1udWxsO3RoaXMubm9vcD1udWxsO3RoaXMub25EcmFnU3RhcnRVSUhhbmRsZXI9bnVsbDt0aGlzLm9uRHJhZ0VuZFVJSGFuZGxlcj1udWxsO3RoaXMucHJldmVudENsaWNrRmxhZzt0aGlzLnByZXZlbnRDbGlja1RpbWVvdXRJZDt0aGlzLnNjcm9sbENvbnRhaW5lcj1udWxsO3RoaXMuc2Nyb2xsQ29udGFpbmVyU2VsZWN0b3I9bnVsbDt0aGlzLnNjcm9sbEV2ZW50PW51bGw7dGhpcy5zY3JvbGxUaW1lcj1udWxsO3RoaXMuc3RhcnRYPW51bGw7dGhpcy5zdGFydFk9bnVsbDt0aGlzLnN3aXRjaE1vZGVEZWxheT1udWxsO3RoaXMudGFwc051bWJlcj1udWxsO3RoaXMudGltZXI9bnVsbDt0aGlzLnNjcm9sbEhhbmRsZXI9bnVsbDt0aGlzLnRvdWNoQ2FuY2VsRXZlbnQ9bnVsbDt0aGlzLmRyYWdDYWxsYmFjaz1udWxsO3RoaXMub25CZWZvcmVDcmVhdGVDbG9uZT1udWxsO3RoaXMuZW5kQ2FsbGJhY2s9bnVsbDt0aGlzLnRvdWNoRW5kRXZlbnQ9bnVsbDt0aGlzLnRvdWNoTW92ZUV2ZW50PW51bGw7dGhpcy5zdGFydENhbGxiYWNrPW51bGw7dGhpcy50b3VjaFN0YXJ0RXZlbnQ9bnVsbDt0aGlzLndyYXBwZXI9bnVsbDt0aGlzLndyYXBwZXJSZWN0PW51bGw7dGhpcy5zY3JvbGxDYWxsYmFjaz1udWxsO3RoaXMuZHJhZ2dhYmxlRWxlbWVudDt0aGlzLm9mZnNldExlZnQ9MDt0aGlzLmVsZW1lbnRzVG9DYXB0dXJlPW51bGw7dGhpcy5pbml0PWZ1bmN0aW9uKGMpe3RoaXMuc3RhcnRYPS0xO3RoaXMuc3RhcnRZPS0xO3RoaXMubW92ZVg9LTE7dGhpcy5tb3ZlWT0tMTt0aGlzLmVuZFg9LTE7dGhpcy5lbmRZPS0xO3RoaXMubm9vcD1mdW5jdGlvbigpe307dGhpcy5pc0xheW91dEVuZ2luZT1jLmlzTGF5b3V0RW5naW5lfHxmYWxzZTtpZih0aGlzLmlzTGF5b3V0RW5naW5lKXt0aGlzLm1vdmVEcmFnZ2FibGU9dGhpcy5ub29wO310aGlzLmlzVG91Y2g9Yy5pc1RvdWNoPyEhYy5pc1RvdWNoOmZhbHNlO3RoaXMuaXNDb21iaT1jLmlzQ29tYmk/ISFjLmlzQ29tYmk6ZmFsc2U7dGhpcy5jb250YWluZXI9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjLmNvbnRhaW5lclNlbGVjdG9yKTt0aGlzLnNjcm9sbENvbnRhaW5lclNlbGVjdG9yPWMuc2Nyb2xsQ29udGFpbmVyU2VsZWN0b3J8fGMuY29udGFpbmVyU2VsZWN0b3I7dGhpcy5zd2l0Y2hNb2RlRGVsYXk9Yy5zd2l0Y2hNb2RlRGVsYXl8fDE1MDA7dGhpcy5kcmFnQW5kU2Nyb2xsRHVyYXRpb249Yy5kcmFnQW5kU2Nyb2xsRHVyYXRpb258fDIzMDt0aGlzLm1vdmVUb2xlcmFuY2U9Yy5tb3ZlVG9sZXJhbmNlPT09MD8wOmMubW92ZVRvbGVyYW5jZXx8MTA7dGhpcy5kcmFnZ2FibGVTZWxlY3Rvcj1jLmRyYWdnYWJsZVNlbGVjdG9yO3RoaXMuZHJhZ2dhYmxlU2VsZWN0b3JCbG9ja2VyPWMuZHJhZ2dhYmxlU2VsZWN0b3JCbG9ja2VyfHxjLnJvb3RTZWxlY3Rvcjt0aGlzLmRyYWdnYWJsZVNlbGVjdG9yRXhjbHVkZT1jLmRyYWdnYWJsZVNlbGVjdG9yRXhjbHVkZTt0aGlzLm1vZGU9J25vcm1hbCc7dGhpcy5kZWJ1Zz1jLmRlYnVnfHxmYWxzZTt0aGlzLnJvb3Q9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihjLnJvb3RTZWxlY3Rvcil8fGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNjYW52YXMiKTt0aGlzLmFuaW1hdGlvbkR1cmF0aW9uPWMuYW5pbWF0aW9uRHVyYXRpb258fDMzMDt0aGlzLnRhcHNOdW1iZXI9MDt0aGlzLmxhc3RUYXBUaW1lPTA7dGhpcy5sb2c9dGhpcy5kZWJ1Zz90aGlzLmxvZ1RvQ29uc29sZTp0aGlzLm5vb3A7dGhpcy5sb2NrTW9kZT1mYWxzZTt0aGlzLnBsYWNlSG9sZGVyQ2xhc3M9Yy5wbGFjZUhvbGRlckNsYXNzfHwiIjt0aGlzLmNsb25lQ2xhc3M9Yy5jbG9uZUNsYXNzfHwiIjt0aGlzLmRlbHRhVG9wPWMuZGVsdGFUb3B8fDA7dGhpcy53cmFwcGVyPWMud3JhcHBlclNlbGVjdG9yP2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYy53cmFwcGVyU2VsZWN0b3IpOnRoaXMuY29udGFpbmVyLnBhcmVudE5vZGU7dGhpcy5jbGlja0NhbGxiYWNrPXR5cGVvZiBjLmNsaWNrQ2FsbGJhY2s9PT0nZnVuY3Rpb24nP2MuY2xpY2tDYWxsYmFjazp0aGlzLm5vb3A7dGhpcy5zdGFydENhbGxiYWNrPXR5cGVvZiBjLnN0YXJ0Q2FsbGJhY2s9PT0nZnVuY3Rpb24nP2Muc3RhcnRDYWxsYmFjazp0aGlzLm5vb3A7dGhpcy5kb3VibGVUYXBDYWxsYmFjaz10eXBlb2YgYy5kb3VibGVUYXBDYWxsYmFjaz09PSdmdW5jdGlvbic/Yy5kb3VibGVUYXBDYWxsYmFjazp0aGlzLm5vb3A7dGhpcy5lbmRDYWxsYmFjaz10eXBlb2YgYy5lbmRDYWxsYmFjaz09PSdmdW5jdGlvbic/Yy5lbmRDYWxsYmFjazp0aGlzLm5vb3A7dGhpcy5kcmFnQ2FsbGJhY2s9dHlwZW9mIGMuZHJhZ0NhbGxiYWNrPT09J2Z1bmN0aW9uJz9jLmRyYWdDYWxsYmFjazp0aGlzLm5vb3A7dGhpcy5vbkJlZm9yZUNyZWF0ZUNsb25lPXR5cGVvZiBjLm9uQmVmb3JlQ3JlYXRlQ2xvbmU9PT0nZnVuY3Rpb24nP2Mub25CZWZvcmVDcmVhdGVDbG9uZTp0aGlzLm5vb3A7dGhpcy5kcmFnQW5kU2Nyb2xsQ2FsbGJhY2s9dHlwZW9mIGMuZHJhZ0FuZFNjcm9sbENhbGxiYWNrPT09J2Z1bmN0aW9uJz9jLmRyYWdBbmRTY3JvbGxDYWxsYmFjazp0aGlzLm5vb3A7dGhpcy5lbmREcmFnQW5kU2Nyb2xsQ2FsbGJhY2s9dHlwZW9mIGMuZW5kRHJhZ0FuZFNjcm9sbENhbGxiYWNrPT09J2Z1bmN0aW9uJz9jLmVuZERyYWdBbmRTY3JvbGxDYWxsYmFjazp0aGlzLm5vb3A7dGhpcy5zY3JvbGxDYWxsYmFjaz10eXBlb2YgYy5zY3JvbGxDYWxsYmFjaz09PSdmdW5jdGlvbic/Yy5zY3JvbGxDYWxsYmFjazp0aGlzLm5vb3A7dGhpcy5kb3VibGVUYXBEZWxheT1jLmRvdWJsZVRhcERlbGF5fHw1MDA7dGhpcy53cmFwcGVyUmVjdD10aGlzLndyYXBwZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7dGhpcy5zY3JvbGxFdmVudD0nc2Nyb2xsJzt0aGlzLnRvdWNoU3RhcnRFdmVudD0ndG91Y2hzdGFydCc7dGhpcy50b3VjaE1vdmVFdmVudD0ndG91Y2htb3ZlJzt0aGlzLnRvdWNoRW5kRXZlbnQ9J3RvdWNoZW5kJzt0aGlzLm1vdXNlRG93bkV2ZW50PSdtb3VzZWRvd24nO3RoaXMubW91c2VNb3ZlRXZlbnQ9J21vdXNlbW92ZSc7dGhpcy5tb3VzZVVwRXZlbnQ9J21vdXNldXAnO3RoaXMuY29udGV4dE1lbnVFdmVudD0nY29udGV4dG1lbnUnO3RoaXMudG91Y2hDYW5jZWxFdmVudD0ndG91Y2hjYW5jZWwnO3RoaXMuZGVmYXVsdERyYWdTdGFydEV2ZW50PSdkcmFnc3RhcnQnO3RoaXMuZGVmYXVsdE1vdXNlTW92ZUV2ZW50PSdtb3VzZW1vdmUnO3RoaXMuY2xpY2tFdmVudD0nY2xpY2snO3RoaXMuaXNWZXJ0aWNhbERyYWdPbmx5PWMuaXNWZXJ0aWNhbERyYWdPbmx5fHxmYWxzZTt0aGlzLmRyYWdnYWJsZUVsZW1lbnQ9Yy5kcmFnZ2FibGVFbGVtZW50O3RoaXMub2Zmc2V0TGVmdD1jLm9mZnNldExlZnQ7dGhpcy5lbGVtZW50c1RvQ2FwdHVyZT1jLmVsZW1lbnRUb0NhcHR1cmU/alF1ZXJ5KGMuZWxlbWVudFRvQ2FwdHVyZSk6dGhpcy5yb290O3RoaXMuZGlzYWJsZWREcmFnZ2FibGVTZWxlY3Rvcj1jLmRpc2FibGVkRHJhZ2dhYmxlU2VsZWN0b3I7dGhpcy5vbkRyYWdTdGFydFVJSGFuZGxlcj10eXBlb2YgYy5vbkRyYWdTdGFydFVJSGFuZGxlcj09PSdmdW5jdGlvbic/Yy5vbkRyYWdTdGFydFVJSGFuZGxlcjp0aGlzLm5vb3A7dGhpcy5vbkRyYWdFbmRVSUhhbmRsZXI9dHlwZW9mIGMub25EcmFnRW5kVUlIYW5kbGVyPT09J2Z1bmN0aW9uJz9jLm9uRHJhZ0VuZFVJSGFuZGxlcjp0aGlzLm5vb3A7dGhpcy5kZWZhdWx0TW91c2VNb3ZlSGFuZGxlcj1jLmRlZmF1bHRNb3VzZU1vdmVIYW5kbGVyfHxmdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCk7fTt9O3RoaXMuZm9yRWFjaD1mdW5jdGlvbihzLGEpe3JldHVybiBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKHMsYSk7fTt0aGlzLmluZGV4T2Y9ZnVuY3Rpb24ocyxpKXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChzLGkpO307dGhpcy5pbnNlcnRCZWZvcmU9ZnVuY3Rpb24ocyxpLHIpe3ZhciBhLGIsZDtkPUFycmF5LnByb3RvdHlwZS5zcGxpY2U7YT10aGlzLmluZGV4T2YocyxpKTtiPXRoaXMuaW5kZXhPZihzLHIpO2QuY2FsbChzLGItKGE8Yj8xOjApLDAsZC5jYWxsKHMsYSwxKVswXSk7fTt0aGlzLmxvZ1RvQ29uc29sZT1mdW5jdGlvbigpe3dpbmRvdy5jb25zb2xlLmxvZy5hcHBseShjb25zb2xlLGFyZ3VtZW50cyk7fTt0aGlzLmdldERyYWdnYWJsZUVsZW1lbnQ9ZnVuY3Rpb24oYSl7dmFyIGUsaT1mYWxzZSxJPWZhbHNlO3RoaXMuZHJhZ2dhYmxlPWpRdWVyeSh0aGlzLmRyYWdnYWJsZVNlbGVjdG9yLHRoaXMuY29udGFpbmVyKTt3aGlsZSh0eXBlb2YgZT09PSd1bmRlZmluZWQnJiZhIT09dGhpcy5yb290JiYhalF1ZXJ5KGEpLmlzKHRoaXMuZHJhZ2dhYmxlU2VsZWN0b3JCbG9ja2VyKSl7aT1pfHxqUXVlcnkoYSkuaXModGhpcy5kcmFnZ2FibGVFbGVtZW50KXx8dGhpcy5kcmFnZ2FibGVFbGVtZW50PT09dW5kZWZpbmVkO2lmKCEoalF1ZXJ5KGEpLm5vdCh0aGlzLmRyYWdnYWJsZVNlbGVjdG9yRXhjbHVkZSkubGVuZ3RoPjApKXtJPXRydWU7fWlmKCFJJiZpJiZ0aGlzLmluZGV4T2YodGhpcy5kcmFnZ2FibGUsYSk+PTApe2U9YTt9YT1hLnBhcmVudE5vZGU7fXJldHVybiBlO307dGhpcy5jYXB0dXJlU3RhcnQ9ZnVuY3Rpb24oZSl7dmFyIGE7aWYoZS50eXBlPT09J3RvdWNoc3RhcnQnJiZlLnRvdWNoZXMubGVuZ3RoPT09MSl7YT1lLnRvdWNoZXNbMF07fWVsc2UgaWYoZS50eXBlPT09J21vdXNlZG93bicpe2E9ZTtpZihlLndoaWNoIT0xKXtyZXR1cm47fX1pZihhKXt0aGlzLmVsZW1lbnQ9dGhpcy5nZXREcmFnZ2FibGVFbGVtZW50KGEudGFyZ2V0KTt0aGlzLnN0YXJ0WD10aGlzLm1vdmVYPWEucGFnZVg7dGhpcy5zdGFydFk9dGhpcy5tb3ZlWT1hLnBhZ2VZO3RoaXMubGFzdE1vdmVYPTA7dGhpcy5sYXN0TW92ZVk9MDtpZih0aGlzLmxhc3RUYXBUaW1lJiZ0aGlzLmxhc3RFbGVtZW50JiZ0aGlzLmVsZW1lbnQmJih0aGlzLmxhc3RFbGVtZW50PT09dGhpcy5lbGVtZW50KSYmTWF0aC5hYnMoRGF0ZS5ub3coKS10aGlzLmxhc3RUYXBUaW1lKTx0aGlzLmRvdWJsZVRhcERlbGF5KXt0aGlzLmxhc3RUYXBUaW1lPTA7dGhpcy50YXBzTnVtYmVyPTI7fWVsc2V7dGhpcy5sYXN0VGFwVGltZT1EYXRlLm5vdygpO3RoaXMudGFwc051bWJlcj0xO3RoaXMubGFzdEVsZW1lbnQ9dGhpcy5lbGVtZW50O310aGlzLmxvZygnY2FwdHVyZVN0YXJ0KCcrdGhpcy5zdGFydFgrJywgJyt0aGlzLnN0YXJ0WSsnKScpO319O3RoaXMuc3RhcnRIYW5kbGVyPWZ1bmN0aW9uKGUpe3RoaXMubG9nKCdzdGFydEhhbmRsZXInKTtpZih0aGlzLmlzQ29tYmkmJiEoZSBpbnN0YW5jZW9mIE1vdXNlRXZlbnQpKXt0aGlzLmlzVG91Y2hFdmVudD10cnVlO31jbGVhclRpbWVvdXQodGhpcy50aW1lcik7ZGVsZXRlIHRoaXMudGltZXI7dGhpcy5jYXB0dXJlU3RhcnQoZSk7aWYodGhpcy5lbGVtZW50KXt0aGlzLnN0YXJ0Q2FsbGJhY2soZSx0aGlzLmVsZW1lbnQpO2lmKHRoaXMubG9ja01vZGU9PT1mYWxzZSl7aWYodGhpcy50YXBzTnVtYmVyPT09Mil7dGhpcy5tb2RlPSdkb3VibGUtdGFwJztyZXR1cm47fWlmKHRoaXMuaXNUb3VjaHx8dGhpcy5pc1RvdWNoRXZlbnQpe3RoaXMudGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe2lmKCFqUXVlcnkodGhpcy5lbGVtZW50KS5oYXNDbGFzcyh0aGlzLmRpc2FibGVkRHJhZ2dhYmxlU2VsZWN0b3IpKXt0aGlzLmxvZygnbW9kZSBzd2l0Y2hlZCB0byBkcmFnJyk7dGhpcy5tb2RlPSdkcmFnJzt0aGlzLm9uQmVmb3JlQ3JlYXRlQ2xvbmUoZSx0aGlzLmVsZW1lbnQpO3RoaXMuY3JlYXRlQ2xvbmUoKTt0aGlzLmRyYWdDYWxsYmFjayhlLHRoaXMuZWxlbWVudCk7fWVsc2V7dGhpcy5vbkRyYWdTdGFydFVJSGFuZGxlcigpO310aGlzLmlzVG91Y2hFdmVudD1mYWxzZTt9LmJpbmQodGhpcyksdGhpcy5zd2l0Y2hNb2RlRGVsYXkpO319fX0uYmluZCh0aGlzKTt0aGlzLmNhcHR1cmVNb3ZlPWZ1bmN0aW9uKGUpe3ZhciBhO2lmKGUudHlwZT09PSd0b3VjaG1vdmUnJiZlLnRvdWNoZXMubGVuZ3RoPT09MSl7YT1lLnRvdWNoZXNbMF07fWVsc2UgaWYoZS50eXBlPT09J21vdXNlbW92ZScpe2E9ZTt9aWYoYSl7dGhpcy5tb3ZlWD1hLnBhZ2VYO3RoaXMubW92ZVk9YS5wYWdlWTt0aGlzLmxvZygnY2FwdHVyZU1vdmUoJyt0aGlzLm1vdmVYKycsICcrdGhpcy5tb3ZlWSsnKScpO319O3RoaXMubW92ZUhhbmRsZXI9ZnVuY3Rpb24oZSl7dmFyIGk7dGhpcy5sb2coJ21vdmVIYW5kbGVyJyk7dGhpcy5jYXB0dXJlTW92ZShlKTtpZih0aGlzLmVsZW1lbnQmJmUudHlwZT09PSJtb3VzZW1vdmUiJiZlLmJ1dHRvbnM9PT0wKXtyZXR1cm4gdGhpcy5lbmRIYW5kbGVyKGUpO31zd2l0Y2godGhpcy5tb2RlKXtjYXNlJ25vcm1hbCc6aWYoKE1hdGguYWJzKHRoaXMuc3RhcnRYLXRoaXMubW92ZVgpPnRoaXMubW92ZVRvbGVyYW5jZXx8TWF0aC5hYnModGhpcy5zdGFydFktdGhpcy5tb3ZlWSk+dGhpcy5tb3ZlVG9sZXJhbmNlKSl7aWYodGhpcy5pc1RvdWNofHx0aGlzLmlzVG91Y2hFdmVudCl7dGhpcy5sb2coJy0+IG5vcm1hbCcpO2NsZWFyVGltZW91dCh0aGlzLnRpbWVyKTtkZWxldGUgdGhpcy50aW1lcjt9ZWxzZSBpZih0aGlzLmVsZW1lbnQpe3RoaXMub25EcmFnU3RhcnRVSUhhbmRsZXIoKTtpZighalF1ZXJ5KHRoaXMuZWxlbWVudCkuaGFzQ2xhc3ModGhpcy5kaXNhYmxlZERyYWdnYWJsZVNlbGVjdG9yKSl7dGhpcy5sb2coJ21vZGUgc3dpdGNoZWQgdG8gZHJhZycpO3RoaXMubW9kZT0nZHJhZyc7dGhpcy5vbkJlZm9yZUNyZWF0ZUNsb25lKGUsdGhpcy5lbGVtZW50KTt0aGlzLmNyZWF0ZUNsb25lKCk7fWVsc2V7dGhpcy5wcmV2ZW50Q2xpY2soKTt0aGlzLmVsZW1lbnQ9bnVsbDt9fX1icmVhaztjYXNlJ2RyYWcnOmUucHJldmVudERlZmF1bHQoKTt0aGlzLm9uRHJhZ1N0YXJ0VUlIYW5kbGVyKCk7dGhpcy5sb2coJy0+IGRyYWcnKTtpZih0aGlzLmlzVmVydGljYWxEcmFnT25seSl7dGhpcy5tb2RlPSd2ZXJ0aWNhbC1kcmFnJzt9ZWxzZXt0aGlzLm1vZGU9J2RyYWctYW5kLXNjcm9sbCc7fXdpbmRvdy5hZGRFdmVudExpc3RlbmVyKHRoaXMubW91c2VVcEV2ZW50LHRoaXMuZW5kSGFuZGxlcix0cnVlKTt0aGlzLnRyYW5zbGF0ZUNsb25lKCk7dGhpcy5zY3JvbGxDb250YWluZXI9ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnNjcm9sbENvbnRhaW5lclNlbGVjdG9yKTt0aGlzLmRyYWdBbmRTY3JvbGwoKTtpZighdGhpcy5pc1RvdWNoKXt0aGlzLmRyYWdDYWxsYmFjayhlLHRoaXMuZWxlbWVudCk7fWJyZWFrO2Nhc2UnZHJhZy1hbmQtc2Nyb2xsJzplLnN0b3BQcm9wYWdhdGlvbigpO2UucHJldmVudERlZmF1bHQoKTt0aGlzLmxvZygnLT4gZHJhZy1hbmQtc2Nyb2xsJyk7aT10aGlzLmRyYWdBbmRTY3JvbGwoKTt0aGlzLnRyYW5zbGF0ZUNsb25lKCk7aWYoIWkpe3RoaXMubW92ZURyYWdnYWJsZSgpO310aGlzLmRyYWdBbmRTY3JvbGxDYWxsYmFjayh7ZXZ0OmUsY2xvbmU6dGhpcy5jbG9uZSxpc1Njcm9sbGluZzppLG1vdmVYOnRoaXMubW92ZVgsbW92ZVk6dGhpcy5tb3ZlWX0pO2JyZWFrO2Nhc2UndmVydGljYWwtZHJhZyc6ZS5zdG9wUHJvcGFnYXRpb24oKTtlLnByZXZlbnREZWZhdWx0KCk7aT10aGlzLmRyYWdBbmRTY3JvbGwoKTt0aGlzLnRyYW5zbGF0ZUNsb25lKCk7aWYoIWkpe3RoaXMubW92ZURyYWdnYWJsZVZlcnRpY2FsT25seSh0aGlzLm1vdmVYLHRoaXMubW92ZVkpO310aGlzLmRyYWdBbmRTY3JvbGxDYWxsYmFjayh7ZXZ0OmUsY2xvbmU6dGhpcy5jbG9uZSxpc1Njcm9sbGluZzppLG1vdmVYOnRoaXMubW92ZVgsbW92ZVk6dGhpcy5tb3ZlWX0pO2JyZWFrO2RlZmF1bHQ6YnJlYWs7fX0uYmluZCh0aGlzKTt0aGlzLmNhcHR1cmVFbmQ9ZnVuY3Rpb24oZSl7dmFyIGE7aWYoKGUudHlwZT09PSd0b3VjaGVuZCd8fGUudHlwZT09PSd0b3VjaGNhbmNlbCcpJiYoZS5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg9PT0xKSl7YT1lLmNoYW5nZWRUb3VjaGVzWzBdO31lbHNlIGlmKGUudHlwZT09PSdtb3VzZXVwJyl7YT1lO31pZihhKXt0aGlzLmVuZFg9YS5wYWdlWDt0aGlzLmVuZFk9YS5wYWdlWTt0aGlzLmxvZygnY2FwdHVyZUVuZCgnK3RoaXMuZW5kWCsnLCAnK3RoaXMuZW5kWSsnKScpO319O3RoaXMuY29udGV4dE1lbnVIYW5kbGVyPWZ1bmN0aW9uKGUpe2lmKHRoaXMuaXNUb3VjaCl7ZS5wcmV2ZW50RGVmYXVsdCgpO319LmJpbmQodGhpcyk7dGhpcy5jbGlja0hhbmRsZXI9ZnVuY3Rpb24oZSl7aWYodGhpcy5wcmV2ZW50Q2xpY2tGbGFnKXt0aGlzLnByZXZlbnRDbGlja0ZsYWc9ZmFsc2U7ZS5wcmV2ZW50RGVmYXVsdCgpO2Uuc3RvcFByb3BhZ2F0aW9uKCk7ZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtjbGVhclRpbWVvdXQodGhpcy5wcmV2ZW50Q2xpY2tUaW1lb3V0SWQpO310aGlzLmNsaWNrQ2FsbGJhY2soKTt9LmJpbmQodGhpcyk7dGhpcy5wcmV2ZW50Q2xpY2s9ZnVuY3Rpb24oKXt0aGlzLnByZXZlbnRDbGlja0ZsYWc9dHJ1ZTt0aGlzLnByZXZlbnRDbGlja1RpbWVvdXRJZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dGhpcy5wcmV2ZW50Q2xpY2tGbGFnPWZhbHNlO30uYmluZCh0aGlzKSwxMDApO307dGhpcy5lbmRDYWxsYmFja0FkYXB0ZXI9ZnVuY3Rpb24oZSxhLG8pe3ZhciBiPXRoaXMuZW5kQ2FsbGJhY2suYXBwbHkobnVsbCxhcmd1bWVudHMpO2pRdWVyeS53aGVuKGIpLnRoZW4oZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUNsb25lKGEsby5jbG9uZSk7dGhpcy5vbkRyYWdFbmRVSUhhbmRsZXIoZSk7fS5iaW5kKHRoaXMpKTt0aGlzLnByZXZlbnRDbGljaygpO307dGhpcy5lbmRIYW5kbGVyPWZ1bmN0aW9uKGUpe3RoaXMubG9nKCdlbmRIYW5kbGVyJyk7dGhpcy5jYXB0dXJlRW5kKGUpO3N3aXRjaCh0aGlzLm1vZGUpe2Nhc2Unbm9ybWFsJzp0aGlzLm9uRHJhZ0VuZFVJSGFuZGxlcihlKTt0aGlzLmxvZygnLT4gbm9ybWFsJyk7YnJlYWs7Y2FzZSdkcmFnJzp0aGlzLmxvZygnLT4gZHJhZycpO3RoaXMuZW5kQ2FsbGJhY2tBZGFwdGVyKGUsdGhpcy5lbGVtZW50LHtjbG9uZTp0aGlzLmNsb25lfSk7YnJlYWs7Y2FzZSdkcmFnLWFuZC1zY3JvbGwnOnRoaXMubG9nKCctPiBkcmFnLWFuZC1zY3JvbGwnKTt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLm1vdXNlVXBFdmVudCx0aGlzLmVuZEhhbmRsZXIsdHJ1ZSk7dGhpcy5lbmRDYWxsYmFja0FkYXB0ZXIoZSx0aGlzLmVsZW1lbnQse2RlbHRhWDp0aGlzLm1vdmVYLXRoaXMuc3RhcnRYLGRlbHRhWTp0aGlzLm1vdmVZLXRoaXMuc3RhcnRZLGNsb25lOnRoaXMuY2xvbmV9KTtlLnN0b3BQcm9wYWdhdGlvbigpO2UucHJldmVudERlZmF1bHQoKTticmVhaztjYXNlJ3ZlcnRpY2FsLWRyYWcnOnRoaXMubG9nKCctPiB2ZXJ0aWNhbC1kcmFnJyk7d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5tb3VzZVVwRXZlbnQsdGhpcy5lbmRIYW5kbGVyLHRydWUpO3RoaXMuZW5kQ2FsbGJhY2tBZGFwdGVyKGUsdGhpcy5lbGVtZW50LHtjbG9uZTp0aGlzLmNsb25lfSk7ZS5zdG9wUHJvcGFnYXRpb24oKTtlLnByZXZlbnREZWZhdWx0KCk7YnJlYWs7Y2FzZSdkb3VibGUtdGFwJzp0aGlzLmxvZygnLT4gZG91YmxlLXRhcCcpO3RoaXMuZG91YmxlVGFwQ2FsbGJhY2soZSx0aGlzLmVsZW1lbnQpO2JyZWFrO2RlZmF1bHQ6YnJlYWs7fWNsZWFyVGltZW91dCh0aGlzLnRpbWVyKTtkZWxldGUgdGhpcy50aW1lcjt0aGlzLmxhc3RNb3ZlWD0wO3RoaXMubGFzdE1vdmVZPTA7dGhpcy5lbGVtZW50PW51bGw7dGhpcy5jbG9uZT1udWxsO3RoaXMubW9kZT0nbm9ybWFsJzt9LmJpbmQodGhpcyk7dGhpcy5kZWZhdWx0RHJhZ1N0YXJ0SGFuZGxlcj1mdW5jdGlvbihlKXtlLnByZXZlbnREZWZhdWx0KCk7fTt0aGlzLnNjcm9sbEhhbmRsZXI9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy5zY3JvbGxUaW1lcik7dGhpcy5sb2NrTW9kZT10cnVlO3RoaXMuc2Nyb2xsVGltZXI9c2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMubG9ja01vZGU9ZmFsc2U7fS5iaW5kKHRoaXMpLDUwMCk7fS5iaW5kKHRoaXMpO3RoaXMuY3JlYXRlQ2xvbmU9ZnVuY3Rpb24oKXt2YXIgcyxyO3RoaXMucHJldmVudENsaWNrRmxhZz10cnVlO2lmKHNhcC51aS5nZXRDb3JlKCkuYnlJZCh0aGlzLmVsZW1lbnQuaWQpJiZzYXAudWkuZ2V0Q29yZSgpLmJ5SWQodGhpcy5lbGVtZW50LmlkKS5nZXRCb3VuZGluZ1JlY3RzKXtyPXNhcC51aS5nZXRDb3JlKCkuYnlJZCh0aGlzLmVsZW1lbnQuaWQpLmdldEJvdW5kaW5nUmVjdHMoKVswXTtyLnRvcD1yLm9mZnNldC55O3IubGVmdD1yLm9mZnNldC54O3Iud2lkdGgrPTU7fWVsc2V7cj10aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7fXRoaXMuY2xvbmU9dGhpcy5lbGVtZW50LmNsb25lTm9kZSh0cnVlKTt0aGlzLmNsb25lLnJlbW92ZUF0dHJpYnV0ZSgiaWQiKTt0aGlzLmNsb25lLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1zYXAtdWkiKTt0aGlzLmNsb25lLmNsYXNzTmFtZSs9KCcgJyt0aGlzLmNsb25lQ2xhc3MpO3RoaXMuZWxlbWVudC5jbGFzc05hbWUrPSgnICcrdGhpcy5wbGFjZUhvbGRlckNsYXNzKTtzPXRoaXMuY2xvbmUuc3R5bGU7cy5wb3NpdGlvbj0nZml4ZWQnO3MuZGlzcGxheT0nYmxvY2snO3MudG9wPShyLnRvcCt0aGlzLmRlbHRhVG9wKSsncHgnO3MubGVmdD1yLmxlZnQrJ3B4JztzLndpZHRoPXIud2lkdGgrJ3B4JztzLnpJbmRleD0nMTAwJztzLndlYmtpdFRyYW5zaXRpb249Jy13ZWJraXQtdHJhbnNmb3JtIDBtcyBjdWJpYy1iZXppZXIoMC4zMywgMC42NiwgMC42NiwgMSknO3MubW96VHJhbnNpdGlvbj0nLW1vei10cmFuc2Zvcm0gMG1zIGN1YmljLWJlemllcigwLjMzLCAwLjY2LCAwLjY2LCAxKSc7cy5tc1RyYW5zaXRpb249Jy1tcy10cmFuc2Zvcm0gMG1zIGN1YmljLWJlemllcigwLjMzLCAwLjY2LCAwLjY2LCAxKSc7cy50cmFuc2l0aW9uPSd0cmFuc2Zvcm0gMG1zIGN1YmljLWJlemllcigwLjMzLCAwLjY2LCAwLjY2LCAxKSc7cy53ZWJraXRUcmFuc2Zvcm09J3RyYW5zbGF0ZTNkKDBweCwgMHB4LCAwcHgpICc7cy5tb3pUcmFuc2Zvcm09J3RyYW5zbGF0ZTNkKDBweCwgMHB4LCAwcHgpICc7cy5tc1RyYW5zZm9ybT0ndHJhbnNsYXRlM2QoMHB4LCAwcHgsIDBweCkgJztzLnRyYW5zZm9ybT0ndHJhbnNsYXRlM2QoMHB4LCAwcHgsIDBweCkgJzt0aGlzLnJvb3QuYXBwZW5kQ2hpbGQodGhpcy5jbG9uZSk7dGhpcy5sb2coJ2NyZWF0ZUNsb25lJyk7fTt0aGlzLnJlbW92ZUNsb25lPWZ1bmN0aW9uKGUsYSl7dGhpcy5wcmV2ZW50Q2xpY2soKTtlLmNsYXNzTmFtZT1lLmNsYXNzTmFtZS5zcGxpdCgnICcrdGhpcy5wbGFjZUhvbGRlckNsYXNzKS5qb2luKCcnKTthLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoYSk7dGhpcy5sb2coJ3JlbW92ZUNsb25lJyk7fTt0aGlzLnRyYW5zbGF0ZUNsb25lPWZ1bmN0aW9uKCl7dmFyIGQsYTtkPXRoaXMubW92ZVgtdGhpcy5zdGFydFg7YT10aGlzLm1vdmVZLXRoaXMuc3RhcnRZO3RoaXMuY2xvbmUuc3R5bGUud2Via2l0VHJhbnNmb3JtPSd0cmFuc2xhdGUzZCgnK2QrJ3B4LCAnK2ErJ3B4LCAwcHgpJzt0aGlzLmNsb25lLnN0eWxlLm1velRyYW5zZm9ybT0ndHJhbnNsYXRlM2QoJytkKydweCwgJythKydweCwgMHB4KSc7dGhpcy5jbG9uZS5zdHlsZS5tc1RyYW5zZm9ybT0ndHJhbnNsYXRlKCcrZCsncHgsICcrYSsncHgpJzt0aGlzLmNsb25lLnN0eWxlLnRyYW5zZm9ybT0ndHJhbnNsYXRlM2QoJytkKydweCwgJythKydweCwgMHB4KSc7dGhpcy5sb2coJ3RyYW5zbGF0ZUNsb25lICgnK2QrJywgJythKycpJyk7fTt0aGlzLmRyYWdBbmRTY3JvbGw9ZnVuY3Rpb24oKXt2YXIgZCxhLHMsdD10aGlzO2Z1bmN0aW9uIGIoKXtzLndlYmtpdFRyYW5zaXRpb249Jy13ZWJraXQtdHJhbnNmb3JtICcrYSsnbXMgbGluZWFyJztzLnRyYW5zaXRpb249J3RyYW5zZm9ybSAnK2ErJ21zIGxpbmVhcic7cy5tb3pUcmFuc2l0aW9uPSctbW96LXRyYW5zZm9ybSAnK2ErJ21zIGxpbmVhcic7cy5tc1RyYW5zaXRpb249Jy1tcy10cmFuc2Zvcm0gJythKydtcyBsaW5lYXInO3Mud2Via2l0VHJhbnNmb3JtPSd0cmFuc2xhdGUzZCgwcHgsICcrZCsncHggMHB4KSc7cy5tb3pUcmFuc2Zvcm09J3RyYW5zbGF0ZTNkKDBweCwgJytkKydweCAwcHgpJztzLm1zVHJhbnNmb3JtPSd0cmFuc2xhdGUzZCgwcHgsICcrZCsncHggMHB4KSc7cy50cmFuc2Zvcm09J3RyYW5zbGF0ZTNkKDBweCwgJytkKydweCAwcHgpJzt9ZnVuY3Rpb24gZSgpe3Mud2Via2l0VHJhbnNpdGlvbj0nJztzLm1velRyYW5zaXRpb249Jyc7cy5tc1RyYW5zaXRpb249Jyc7cy50cmFuc2l0aW9uPScnO3Mud2Via2l0VHJhbnNmb3JtPScnO3MubW96VHJhbnNmb3JtPScnO3MubXNUcmFuc2Zvcm09Jyc7cy50cmFuc2Zvcm09Jyc7dC53cmFwcGVyLnNjcm9sbFRvcC09ZDt9ZnVuY3Rpb24gZygpe3ZhciByLGg7aWYodC5jbG9uZSl7cj10LmNsb25lLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2g9dC53cmFwcGVyUmVjdC50b3Atci50b3A7aWYoaD4wKXtyZXR1cm4gaDt9aD10LndyYXBwZXIub2Zmc2V0VG9wK3Qud3JhcHBlci5vZmZzZXRIZWlnaHQtKHIudG9wK3QuY2xvbmUub2Zmc2V0SGVpZ2h0KTtpZihoPDApe3JldHVybiBoO319cmV0dXJuIDA7fWZ1bmN0aW9uIGkoKXtpZih0LmVuZERyYWdBbmRTY3JvbGxDYWxsYmFjayh0Lm1vdmVZKSl7cmV0dXJuIGZhbHNlO31pZihkPDApe3JldHVybiB0LndyYXBwZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLSh0LmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3ArdC5jb250YWluZXIub2Zmc2V0SGVpZ2h0KSt0LndyYXBwZXIub2Zmc2V0SGVpZ2h0PDA7fXJldHVybiB0LmNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AtKHQud3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3ArdC5jb250YWluZXIub2Zmc2V0VG9wKTwwO31mdW5jdGlvbiBmKCl7YigpO3QuZHJhZ0FuZFNjcm9sbFRpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtlKCk7dC5kcmFnQW5kU2Nyb2xsVGltZXI9dW5kZWZpbmVkO2lmKChkPWcoKSkhPT0wJiZpKCkpe2YoKTt9dC5zY3JvbGxDYWxsYmFjaygpO30sYSk7fWQ9ZygpO2lmKGQhPT0wJiYhdGhpcy5kcmFnQW5kU2Nyb2xsVGltZXImJmkoKSl7YT10aGlzLmRyYWdBbmRTY3JvbGxEdXJhdGlvbjt0aGlzLnNjcm9sbENvbnRhaW5lcj10aGlzLnNjcm9sbENvbnRhaW5lcnx8ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnNjcm9sbENvbnRhaW5lclNlbGVjdG9yKTtzPXRoaXMuc2Nyb2xsQ29udGFpbmVyLnN0eWxlO2YoKTt9dGhpcy5sb2coJ2RyYWdBbmRTY3JvbGwgKCcrZCsnKScpO3JldHVybihkIT0wKSYmaSgpO307dGhpcy5tb3ZlRHJhZ2dhYmxlVmVydGljYWxPbmx5PWZ1bmN0aW9uKCl7dmFyIGgsaSxyLG09dHJ1ZTt0aGlzLmZvckVhY2godGhpcy5kcmFnZ2FibGUsZnVuY3Rpb24oYSxiKXtpZighaCl7cj1hLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2k9IShyLmJvdHRvbTx0aGlzLm1vdmVZfHxyLnRvcD50aGlzLm1vdmVZKTtpZihpKXtoPWE7aWYoci50b3Arci5oZWlnaHQvMjx0aGlzLm1vdmVZKXttPWZhbHNlO319fX0uYmluZCh0aGlzKSk7aWYoaCYmdGhpcy5lbGVtZW50IT09aCl7aWYobSl7dGhpcy5pbnNlcnRCZWZvcmUodGhpcy5kcmFnZ2FibGUsdGhpcy5lbGVtZW50LGgpO2gucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5lbGVtZW50LGgpO31lbHNle3RoaXMuaW5zZXJ0QmVmb3JlKHRoaXMuZHJhZ2dhYmxlLHRoaXMuZWxlbWVudCxoLm5leHRTaWJsaW5nKTtoLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMuZWxlbWVudCxoLm5leHRTaWJsaW5nKTt9dGhpcy5sYXN0TW92ZVg9dGhpcy5tb3ZlWDt0aGlzLmxhc3RNb3ZlWT10aGlzLm1vdmVZO310aGlzLmxvZygnbW92ZURyYWdnYWJsZVZlcnRpY2Fsb25seScpO307dGhpcy5tb3ZlRHJhZ2dhYmxlPWZ1bmN0aW9uKG0sYSl7dmFyIGUsaCxiLGksZCxyO3RoaXMuZm9yRWFjaCh0aGlzLmRyYWdnYWJsZSxmdW5jdGlvbihmLGcpe2lmKCFoKXtyPWYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aT0hKHIucmlnaHQ8dGhpcy5tb3ZlWHx8ci5sZWZ0PnRoaXMubW92ZVgpO2Q9IShyLmJvdHRvbTx0aGlzLm1vdmVZfHxyLnRvcD50aGlzLm1vdmVZKTtpZihpJiZkKXtoPWY7Yj1nO319fS5iaW5kKHRoaXMpKTtpZihoJiZ0aGlzLmVsZW1lbnQhPT1oKXtlPXRoaXMuaW5kZXhPZih0aGlzLmRyYWdnYWJsZSx0aGlzLmVsZW1lbnQpO2lmKE1hdGguYWJzKHRoaXMubGFzdE1vdmVYLXRoaXMubW92ZVgpPj10aGlzLm1vdmVUb2xlcmFuY2V8fE1hdGguYWJzKHRoaXMubGFzdE1vdmVZLXRoaXMubW92ZVkpPj10aGlzLm1vdmVUb2xlcmFuY2Upe2lmKGI8PWUpe2gucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5lbGVtZW50LGgpO3RoaXMuaW5zZXJ0QmVmb3JlKHRoaXMuZHJhZ2dhYmxlLHRoaXMuZWxlbWVudCxoKTt9ZWxzZSBpZihiPmUpe2gucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5lbGVtZW50LGgubmV4dFNpYmxpbmcpO3RoaXMuaW5zZXJ0QmVmb3JlKHRoaXMuZHJhZ2dhYmxlLHRoaXMuZWxlbWVudCx0aGlzLmRyYWdnYWJsZVtiKzFdKTt9dGhpcy5sYXN0TW92ZVg9dGhpcy5tb3ZlWDt0aGlzLmxhc3RNb3ZlWT10aGlzLm1vdmVZO319dGhpcy5sb2coJ21vdmVEcmFnZ2FibGUnKTt9O3RoaXMuZW5hYmxlPWZ1bmN0aW9uKCl7dGhpcy5sb2coJ2VuYWJsZScpO3RoaXMucm9vdC5hZGRFdmVudExpc3RlbmVyKHRoaXMudG91Y2hNb3ZlRXZlbnQsdGhpcy5tb3ZlSGFuZGxlcix0cnVlKTt0aGlzLnJvb3QuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLm1vdXNlTW92ZUV2ZW50LHRoaXMubW92ZUhhbmRsZXIsdHJ1ZSk7dGhpcy5yb290LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5jb250ZXh0TWVudUV2ZW50LHRoaXMuY29udGV4dE1lbnVIYW5kbGVyLGZhbHNlKTt0aGlzLnJvb3QuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmNsaWNrRXZlbnQsdGhpcy5jbGlja0hhbmRsZXIsdHJ1ZSk7dGhpcy5yb290LmFkZEV2ZW50TGlzdGVuZXIodGhpcy5kZWZhdWx0RHJhZ1N0YXJ0RXZlbnQsdGhpcy5kZWZhdWx0RHJhZ1N0YXJ0SGFuZGxlcix0cnVlKTt0aGlzLnJvb3QuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmRlZmF1bHRNb3VzZU1vdmVFdmVudCx0aGlzLmRlZmF1bHRNb3VzZU1vdmVIYW5kbGVyLHRydWUpO3RoaXMud3JhcHBlci5hZGRFdmVudExpc3RlbmVyKHRoaXMuc2Nyb2xsRXZlbnQsdGhpcy5zY3JvbGxIYW5kbGVyLGZhbHNlKTtpZih0aGlzLmVsZW1lbnRzVG9DYXB0dXJlLmxlbmd0aCl7dmFyIHQ9dGhpczt0aGlzLmVsZW1lbnRzVG9DYXB0dXJlLmVhY2goZnVuY3Rpb24oKXt0aGlzLmFkZEV2ZW50TGlzdGVuZXIodC50b3VjaFN0YXJ0RXZlbnQsdC5zdGFydEhhbmRsZXIsZmFsc2UpO3RoaXMuYWRkRXZlbnRMaXN0ZW5lcih0LnRvdWNoRW5kRXZlbnQsdC5lbmRIYW5kbGVyLGZhbHNlKTt0aGlzLmFkZEV2ZW50TGlzdGVuZXIodC50b3VjaENhbmNlbEV2ZW50LHQuZW5kSGFuZGxlcixmYWxzZSk7dGhpcy5hZGRFdmVudExpc3RlbmVyKHQubW91c2VEb3duRXZlbnQsdC5zdGFydEhhbmRsZXIsZmFsc2UpO3RoaXMuYWRkRXZlbnRMaXN0ZW5lcih0Lm1vdXNlVXBFdmVudCx0LmVuZEhhbmRsZXIsZmFsc2UpO30pO31lbHNle3RoaXMuZWxlbWVudHNUb0NhcHR1cmUuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnRvdWNoU3RhcnRFdmVudCx0aGlzLnN0YXJ0SGFuZGxlcixmYWxzZSk7dGhpcy5lbGVtZW50c1RvQ2FwdHVyZS5hZGRFdmVudExpc3RlbmVyKHRoaXMudG91Y2hFbmRFdmVudCx0aGlzLmVuZEhhbmRsZXIsZmFsc2UpO3RoaXMuZWxlbWVudHNUb0NhcHR1cmUuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnRvdWNoQ2FuY2VsRXZlbnQsdGhpcy5lbmRIYW5kbGVyLGZhbHNlKTt0aGlzLmVsZW1lbnRzVG9DYXB0dXJlLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5tb3VzZURvd25FdmVudCx0aGlzLnN0YXJ0SGFuZGxlcixmYWxzZSk7dGhpcy5lbGVtZW50c1RvQ2FwdHVyZS5hZGRFdmVudExpc3RlbmVyKHRoaXMubW91c2VVcEV2ZW50LHRoaXMuZW5kSGFuZGxlcixmYWxzZSk7fXJldHVybiB0aGlzO307dGhpcy5kZWxldGU9ZnVuY3Rpb24oKXt0aGlzLmxvZygnZGVsZXRlJyk7dGhpcy5kaXNhYmxlKCk7dGhpcy5kcmFnQ2FsbGJhY2s9bnVsbDt0aGlzLm9uQmVmb3JlQ3JlYXRlQ2xvbmU9bnVsbDt0aGlzLmVuZENhbGxiYWNrPW51bGw7dGhpcy5zdGFydENhbGxiYWNrPW51bGw7dGhpcy5zY3JvbGxDYWxsYmFjaz1udWxsO3RoaXMuZG91YmxlVGFwQ2FsbGJhY2s9bnVsbDt0aGlzLmNsaWNrQ2FsbGJhY2s9bnVsbDt0aGlzLmRyYWdBbmRTY3JvbGxDYWxsYmFjaz1udWxsO2RlbGV0ZSB0aGlzO307dGhpcy5kaXNhYmxlPWZ1bmN0aW9uKCl7dGhpcy5sb2coJ2Rpc2FibGUnKTtpZih0aGlzLmVsZW1lbnRzVG9DYXB0dXJlLmxlbmd0aCl7dmFyIHQ9dGhpczt0aGlzLmVsZW1lbnRzVG9DYXB0dXJlLmVhY2goZnVuY3Rpb24oKXt0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodC50b3VjaFN0YXJ0RXZlbnQsdC5zdGFydEhhbmRsZXIsZmFsc2UpO3RoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LnRvdWNoRW5kRXZlbnQsdC5lbmRIYW5kbGVyLGZhbHNlKTt0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodC50b3VjaENhbmNlbEV2ZW50LHQuZW5kSGFuZGxlcixmYWxzZSk7dGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKHQubW91c2VEb3duRXZlbnQsdC5zdGFydEhhbmRsZXIsZmFsc2UpO3RoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcih0Lm1vdXNlVXBFdmVudCx0LmVuZEhhbmRsZXIsZmFsc2UpO30pO31lbHNle3RoaXMuZWxlbWVudHNUb0NhcHR1cmUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLnRvdWNoU3RhcnRFdmVudCx0aGlzLnN0YXJ0SGFuZGxlcixmYWxzZSk7dGhpcy5lbGVtZW50c1RvQ2FwdHVyZS5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMudG91Y2hFbmRFdmVudCx0aGlzLmVuZEhhbmRsZXIsZmFsc2UpO3RoaXMuZWxlbWVudHNUb0NhcHR1cmUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLnRvdWNoQ2FuY2VsRXZlbnQsdGhpcy5lbmRIYW5kbGVyLGZhbHNlKTt0aGlzLmVsZW1lbnRzVG9DYXB0dXJlLnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5tb3VzZURvd25FdmVudCx0aGlzLnN0YXJ0SGFuZGxlcixmYWxzZSk7dGhpcy5lbGVtZW50c1RvQ2FwdHVyZS5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMubW91c2VVcEV2ZW50LHRoaXMuZW5kSGFuZGxlcixmYWxzZSk7fXRoaXMucm9vdC5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMudG91Y2hNb3ZlRXZlbnQsdGhpcy5tb3ZlSGFuZGxlcix0cnVlKTt0aGlzLnJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLm1vdXNlTW92ZUV2ZW50LHRoaXMubW92ZUhhbmRsZXIsdHJ1ZSk7dGhpcy5yb290LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5jb250ZXh0TWVudUV2ZW50LHRoaXMuY29udGV4dE1lbnVIYW5kbGVyLGZhbHNlKTt0aGlzLnJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLmNsaWNrRXZlbnQsdGhpcy5jbGlja0hhbmRsZXIsdHJ1ZSk7dGhpcy5yb290LnJlbW92ZUV2ZW50TGlzdGVuZXIodGhpcy5kZWZhdWx0RHJhZ1N0YXJ0RXZlbnQsdGhpcy5kZWZhdWx0RHJhZ1N0YXJ0SGFuZGxlcix0cnVlKTt0aGlzLnJvb3QucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLmRlZmF1bHRNb3VzZU1vdmVFdmVudCx0aGlzLmRlZmF1bHRNb3VzZU1vdmVIYW5kbGVyLHRydWUpO3RoaXMud3JhcHBlci5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuc2Nyb2xsRXZlbnQsdGhpcy5zY3JvbGxIYW5kbGVyLGZhbHNlKTtyZXR1cm4gdGhpczt9O3RoaXMuaW5pdChjKTt0aGlzLmdldE1vdmU9ZnVuY3Rpb24oKXtyZXR1cm57eDp0aGlzLm1vdmVYLHk6dGhpcy5tb3ZlWX07fTt9O3JldHVybiBVO30sdHJ1ZSk7Ci8vIENvcHlyaWdodCAoYykgMjAwOS0yMDE3IFNBUCBTRSwgQWxsIFJpZ2h0cyBSZXNlcnZlZApzYXAudWkucHJlZGVmaW5lKCdzYXAvdXNoZWxsL0xheW91dCcsWyJzYXAvdXNoZWxsL0NvbmZpZyIsInNhcC91aS9EZXZpY2UiLCJzYXAvdWkvdGhpcmRwYXJ0eS9qcXVlcnkiXSxmdW5jdGlvbihDLEQscSl7InVzZSBzdHJpY3QiO3ZhciBhPWZ1bmN0aW9uKHMpe3RoaXMuaW5pdChzKTt9O2EucHJvdG90eXBlPXtzZXR0aW5nczpudWxsLHRpbGVXaWR0aDowLHRpbGVIZWlnaHQ6MCx0aWxlTWFyZ2luOjAsY3VyVG91Y2hNYXRyaXhDb3JkczpudWxsLHRpbGVzSW5Sb3c6bnVsbCxncm91cHNMaXN0Om51bGwsaXRlbTpudWxsLG1hdHJpeDpudWxsLHRpbGVzOm51bGwsY29sbGlzaW9uTGVmdDpmYWxzZSxzdGFydEdyb3VwOm51bGwsY3VycmVudEdyb3VwOm51bGwsZW5kR3JvdXA6bnVsbCxpbml0OmZ1bmN0aW9uKHMpe3RoaXMuY3VyVG91Y2hNYXRyaXhDb3Jkcz17Y29sdW1uOm51bGwscm93Om51bGx9O3RoaXMuZW5kR3JvdXA9bnVsbDt0aGlzLmdyb3VwU3dpdGNoZWQ9ZmFsc2U7dGhpcy5pdGVtPW51bGw7dGhpcy5tYXRyaXg9bnVsbDt0aGlzLnRpbGVzPW51bGw7dGhpcy5jb2xsaXNpb25MZWZ0PWZhbHNlO3RoaXMuc3RhcnRBcmVhPW51bGw7dGhpcy5jdXJyZW50QXJlYT1udWxsO3RoaXMuZW5kQXJlYT11bmRlZmluZWQ7dGhpcy5zdGFydEdyb3VwPW51bGw7dGhpcy5kcmFnZ2VkVGlsZURvbVJlZj1udWxsO3RoaXMuc0RyYWdTdGFydEdyb3VwTW9kZWxJZD11bmRlZmluZWQ7dGhpcy5zRHJhZ1RhcmdldEdyb3VwTW9kZWxJZD11bmRlZmluZWQ7dGhpcy5jdXJyZW50R3JvdXA9bnVsbDt0aGlzLmdyb3Vwc0xpc3Q9bnVsbDt0aGlzLmFsbEdyb3Vwcz1udWxsO3RoaXMuc2V0dGluZ3M9dGhpcy5zZXR0aW5nc3x8cztxLmV4dGVuZCh0aGlzLHRoaXMuc2V0dGluZ3MpO3RoaXMudGlsZVdpZHRoPXRoaXMudGhpc0xheW91dC5zdHlsZUluZm8udGlsZVdpZHRoO3RoaXMudGlsZUhlaWdodD10aGlzLnRoaXNMYXlvdXQuc3R5bGVJbmZvLnRpbGVIZWlnaHQ7dGhpcy50aWxlTWFyZ2luPXRoaXMudGhpc0xheW91dC5zdHlsZUluZm8udGlsZU1hcmdpbldpZHRoO3RoaXMuYUV4Y2x1ZGVkQ29udHJvbENsYXNzPXRoaXMuYUV4Y2x1ZGVkQ29udHJvbENsYXNzfHxbXTt0aGlzLnJlb3JkZXJFbGVtZW50c0NhbGxiYWNrPXRoaXMucmVvcmRlckVsZW1lbnRzQ2FsbGJhY2t8fGZ1bmN0aW9uKCl7fTt0aGlzLnJpZ2h0VG9MZWZ0PXNhcC51aS5nZXRDb3JlKCkuZ2V0Q29uZmlndXJhdGlvbigpLmdldFJUTCgpO3RoaXMudGFiQmFyQXJyb3dDb2xsaXNpb25SaWdodD1mYWxzZTt0aGlzLnRhYkJhckFycm93Q29sbGlzaW9uTGVmdD1mYWxzZTt0aGlzLmNvbGxpZGVkTGlua0FyZWFzPVtdO3RoaXMuaW50ZXJzZWN0ZWRMaW5rPW51bGw7dGhpcy5hTGlua3NCb3VuZGluZ1JlY3RzPVtdO3RoaXMuaW50ZXJzZWN0ZWRMaW5rUGxhY2VIb2xkZXI9dW5kZWZpbmVkO3RoaXMuaXNMaW5rUGVyc29uYWxpemF0aW9uU3VwcG9ydGVkPXNhcC51c2hlbGwuQ29udGFpbmVyP3NhcC51c2hlbGwuQ29udGFpbmVyLmdldFNlcnZpY2UoIkxhdW5jaFBhZ2UiKS5pc0xpbmtQZXJzb25hbGl6YXRpb25TdXBwb3J0ZWQoKTpudWxsO3RoaXMuaXNMaW5rTWFya2VyU2hvd249ZmFsc2U7dGhpcy5iSXNUYWJCYXJDb2xsaXNpb249ZmFsc2U7fSxpc1RhYkJhckNvbGxpc2lvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJJc1RhYkJhckNvbGxpc2lvbjt9LG1vdmVEcmFnZ2FibGU6ZnVuY3Rpb24obSxjLHQpe3ZhciBvPXRoaXMuZ2V0Q29sbGlzaW9uT2JqZWN0KG0sYyx0KSxuO2lmKG8pe3RoaXMuX3RvZ2dsZUFuY2hvckl0ZW1IaWdobGlnaHRpbmcoZmFsc2UpO2lmKG8uY29sbGlkZWRPYmplY3RUeXBlIT09IlRhYkJhciIpe3RoaXMuX3RvZ2dsZVRhYkJhck92ZXJmbG93QXJyb3dzKGZhbHNlKTt0aGlzLnRoaXNMYXlvdXQuc2V0T25UYWJCYXJFbGVtZW50KGZhbHNlKTt0aGlzLl9yZXNldE92ZXJGbG93QnV0dG9uRWxlbWVudHMoKTt0aGlzLmJJc1RhYkJhckNvbGxpc2lvbj1mYWxzZTt9ZWxzZXt0aGlzLmJJc1RhYkJhckNvbGxpc2lvbj10cnVlO3RoaXMuX3RvZ2dsZVRhYkJhck92ZXJmbG93QXJyb3dzKHRydWUpO3RoaXMucmVtb3ZlUGxhY2VIb2xkZXJzKCk7dGhpcy5faGFuZGxlVGFiQmFyQ29sbGlzaW9uKG0sdCk7fWlmKHRoaXMuaXNMaW5rUGVyc29uYWxpemF0aW9uU3VwcG9ydGVkJiZvLmNvbGxpZGVkT2JqZWN0VHlwZT09PSJHcm91cC1saW5rIil7bj10aGlzLl9oYW5kbGVMaW5rQXJlYUludGVyc2VjdGlvbihvLmNvbGxpZGVkT2JqZWN0LG0sYyk7fWVsc2UgaWYoby5jb2xsaWRlZE9iamVjdFR5cGU9PT0iR3JvdXAtdGlsZSIpe249dGhpcy5faGFuZGxlVGlsZUFyZWFJbnRlcnNlY3Rpb24oby5jb2xsaWRlZE9iamVjdCxtLGMpO3RoaXMuX3RvZ2dsZVRpbGVDbG9uZUhvdmVyT3BhY2l0eShmYWxzZSk7fWlmKG58fHRoaXMuZW5kQXJlYUNoYW5nZWQpe3RoaXMuaGFuZGxlUGxhY2VIb2xkZXIoby5jb2xsaWRlZE9iamVjdCk7fX1lbHNle3RoaXMuX3JlbW92ZUVtcHR5TGlua0FyZWFNYXJrKCk7fX0sX3RvZ2dsZUFuY2hvckl0ZW1IaWdobGlnaHRpbmc6ZnVuY3Rpb24oaCl7aWYodGhpcy50YXJnZXRHcm91cCl7dGhpcy50YXJnZXRHcm91cC5jbGFzc0xpc3QudG9nZ2xlKCJzYXBVc2hlbGxBbmNob3JJdGVtRHJvcENvbGxpc2lvbiIsaCk7dGhpcy50YXJnZXRHcm91cC5maXJzdEVsZW1lbnRDaGlsZC5jbGFzc0xpc3QudG9nZ2xlKCJzYXBVc2hlbGxBbmNob3JJbm5lck1hcmtlciIsaCk7fX0scmVtb3ZlUGxhY2VIb2xkZXJzOmZ1bmN0aW9uKCl7dGhpcy5fcmVtb3ZlTGlua0Ryb3BNYXJrZXIoKTt0aGlzLl9yZW1vdmVFbXB0eUxpbmtBcmVhTWFyaygpO3RoaXMuX2hhbmRsZUNoYW5nZWRHcm91cCgpO30saGFuZGxlUGxhY2VIb2xkZXI6ZnVuY3Rpb24oYyl7aWYodGhpcy5lbmRBcmVhPT09InRpbGVzIil7aWYodGhpcy5lbmRBcmVhQ2hhbmdlZCl7dGhpcy5fcmVtb3ZlTGlua0Ryb3BNYXJrZXIoKTt9dGhpcy5oYW5kbGVQbGFjZWhvbGRlckNoYW5nZSgpO31lbHNlIGlmKHRoaXMuZW5kQXJlYT09PSJsaW5rcyImJnRoaXMuaW50ZXJzZWN0ZWRMaW5rKXt0aGlzLl9jaGFuZ2VMaW5rUGxhY2Vob2xkZXIodGhpcy5pbnRlcnNlY3RlZExpbmssYyk7aWYodGhpcy5lbmRBcmVhQ2hhbmdlZCl7dGhpcy5oYW5kbGVQbGFjZWhvbGRlckNoYW5nZSgpO319fSxzd2l0Y2hMaW5rV2l0aENsb25lOmZ1bmN0aW9uKGkpe2lmKGkpe3RoaXMuaW50ZXJzZWN0ZWRMaW5rUGxhY2VIb2xkZXI9aS5nZXREb21SZWYoKS5jbG9uZU5vZGUodHJ1ZSk7dGhpcy5pbnRlcnNlY3RlZExpbmtQbGFjZUhvbGRlci5pZD0ic2FwVXNoZWxsSW50ZXJzZWN0ZWRMaW5rUGxhY2VIb2xkZXIiO3EoaS5nZXREb21SZWYoKSkucmVwbGFjZVdpdGgodGhpcy5pbnRlcnNlY3RlZExpbmtQbGFjZUhvbGRlcik7fX0sX3JlbW92ZUxpbmtEcm9wTWFya2VyOmZ1bmN0aW9uKCl7cSgiI3NhcFVzaGVsbExpbmtEcm9wTWFya2VyIikucmVtb3ZlKCk7dGhpcy5pc0xpbmtNYXJrZXJTaG93bj1mYWxzZTt9LHNhdmVMaW5rQm91bmRpbmdSZWN0czpmdW5jdGlvbihlKXt2YXIgbD1zYXAudWkuZ2V0Q29yZSgpLmJ5SWQoZS5pZCk7dGhpcy5kcmFnZ2VkTGlua0JvdW5kaW5nUmVjdHM9bC5nZXRCb3VuZGluZ1JlY3RzKCk7fSxfZ2V0TWFya2VyT2Zmc2V0OmZ1bmN0aW9uKHIsYyl7dmFyIG49cShjLmdldERvbVJlZigpKS5maW5kKCIuc2FwVXNoZWxsTGluZU1vZGVDb250YWluZXIiKVswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LGQ9cShjLmdldERvbVJlZigpKS5maW5kKCIuc2FwVXNoZWxsTGluZU1vZGVDb250YWluZXIiKVswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AsZT10aGlzLnJpZ2h0VG9MZWZ0PzIwOi0xLGY9dGhpcy5yaWdodFRvTGVmdD80MjoyMSxnPXJbci5sZW5ndGgtMV0ub2Zmc2V0LngtbityW3IubGVuZ3RoLTFdLndpZHRoLWUsbD1yW3RoaXMucmlnaHRUb0xlZnQ/ci5sZW5ndGgtMTowXS5vZmZzZXQueC1uLWYsdD1yW3RoaXMucmlnaHRUb0xlZnQ/ci5sZW5ndGgtMTowXS5vZmZzZXQueS1kLGg9clt0aGlzLnJpZ2h0VG9MZWZ0PzA6ci5sZW5ndGgtMV0ub2Zmc2V0LnktZDtpZihxKCJib2R5LnNhcFVpU2l6ZUNvbXBhY3QiKS5sZW5ndGgpe3QtPTY7aC09Njt9aWYodGhpcy5yaWdodFRvTGVmdCl7aWYocShjLmdldERvbVJlZigpKS5maW5kKCIuc2FwVXNoZWxsTGluZU1vZGVDb250YWluZXIiKVswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodC1yW3IubGVuZ3RoLTFdLm9mZnNldC54LXJbci5sZW5ndGgtMV0ud2lkdGg8MTYpe2c9Zy04O319ZWxzZSBpZihsPDE2KXtsPTA7fXJldHVybntyaWdodDpnLGxlZnQ6bCx0b3BMZWZ0OnQsdG9wUmlnaHQ6aH07fSxfY2hhbmdlTGlua1BsYWNlaG9sZGVyOmZ1bmN0aW9uKGwsYyl7dmFyIG89dGhpcy5hTGlua3NCb3VuZGluZ1JlY3RzW2wubGluay5nZXRJZCgpXSxkPW8ubGVmdCx0PW8udG9wTGVmdCxlPW8udG9wUmlnaHQscj1vLnJpZ2h0O2lmKHEoYy5nZXREb21SZWYoKSkuZmluZCgiI3NhcFVzaGVsbExpbmtEcm9wTWFya2VyIikubGVuZ3RoPT09MCl7dGhpcy5fcmVtb3ZlTGlua0Ryb3BNYXJrZXIoKTtxKGMuZ2V0RG9tUmVmKCkpLmZpbmQoIi5zYXBVc2hlbGxMaW5rc0lubmVyQ29udGFpbmVyIikucHJlcGVuZCh0aGlzLkxpbmtEcm9wTWFya2VyKTt9cSh0aGlzLkxpbmtEcm9wTWFya2VyKS5jc3Moe2xlZnQ6bC5sZWZ0U2lkZT9kOnIsdG9wOmwubGVmdFNpZGU/dDplfSk7dGhpcy5pc0xpbmtNYXJrZXJTaG93bj10cnVlO30sc2hvd1RpbGVQbGFjZWhvbGRlcjpmdW5jdGlvbihjLHQsVCl7dmFyIGQscj10aGlzLmN1clRvdWNoTWF0cml4Q29yZHMucm93LGU9dGhpcy5jdXJUb3VjaE1hdHJpeENvcmRzLmNvbHVtbjt0aGlzLmRvbVJlZj10aGlzLml0ZW0uZ2V0RG9tUmVmKCk/dGhpcy5pdGVtLmdldERvbVJlZigpOnRoaXMuZG9tUmVmO3EodGhpcy5kb21SZWYpLnNob3coKTt0aGlzLnJlbW92ZUV4Y2x1ZGVkRWxlbWVudHNGcm9tTWF0cml4KHRoaXMuYUV4Y2x1ZGVkQ29udHJvbENsYXNzKTtkPXRoaXMudGlsZXN8fHRoaXMudGhpc0xheW91dC5nZXRHcm91cFRpbGVzKHRoaXMuZW5kR3JvdXApLnNsaWNlKDApO2lmKHRoaXMubWF0cml4W3JdJiZ0eXBlb2YgdGhpcy5tYXRyaXhbcl1bZV09PT0ib2JqZWN0Iil7dGhpcy5oYW5kbGVNYXRyaXhDb2xsaXNpb24oZCxjLHQsVCk7cmV0dXJuO310aGlzLl9oYW5kbGVNb3ZlT3V0T2ZCb3JkZXJzKGQsYyk7fSxyZW1vdmVUaWxlUGxhY2Vob2xkZXI6ZnVuY3Rpb24oZyxBKXt2YXIgYyxoO3RoaXMuZG9tUmVmPXRoaXMuaXRlbS5nZXREb21SZWYoKT90aGlzLml0ZW0uZ2V0RG9tUmVmKCk6dGhpcy5kb21SZWY7Yz10aGlzLnRoaXNMYXlvdXQuZ2V0R3JvdXBUaWxlcyh0aGlzLmN1cnJlbnRHcm91cCk7Yz1jLnNsaWNlKDApO2lmKHRoaXMuc3RhcnRBcmVhIT09ImxpbmtzIiYmYy5pbmRleE9mKHRoaXMuaXRlbSk+LTEpe2Muc3BsaWNlKGMuaW5kZXhPZih0aGlzLml0ZW0pLDEpO31pZighcSh0aGlzLmRvbVJlZi5wYXJlbnROb2RlKS5oYXNDbGFzcygic2FwVXNoZWxsTGlua3NJbm5lckNvbnRhaW5lciIpKXtxKHRoaXMuZG9tUmVmKS5oaWRlKCk7fWlmKEEpe2g9cSh0aGlzLmN1cnJlbnRHcm91cC5nZXREb21SZWYoKSkuZmluZCgiLnNhcFVzaGVsbFRpbGVzQ29udGFpbmVyLXNvcnRhYmxlIikuaGVpZ2h0KCktcSh0aGlzLmRvbVJlZikuaGVpZ2h0KCk7dGhpcy5jb2xsaWRlZExpbmtBcmVhcz1bXTtxKHRoaXMuY3VycmVudEdyb3VwLmdldERvbVJlZigpKS5maW5kKCIuc2FwVXNoZWxsVGlsZXNDb250YWluZXItc29ydGFibGUiKS5hbmltYXRlKHtoZWlnaHQ6aH0sMzAwKTt9fSxoYW5kbGVQbGFjZWhvbGRlckNoYW5nZTpmdW5jdGlvbigpe3ZhciBjPXRoaXMuY3VycmVudEdyb3VwLHQ9KHRoaXMuZW5kR3JvdXAhPT10aGlzLmN1cnJlbnRHcm91cCksVD10aGlzLmVuZEFyZWFDaGFuZ2VkJiZ0aGlzLmVuZEFyZWE9PT0ibGlua3MiLGk9dGhpcy50aGlzTGF5b3V0LmlzVGFiQmFyQWN0aXZlKCkmJnRoaXMuZ3JvdXBTd2l0Y2hlZCxBPWZhbHNlLG09dGhpcy5tYXRyaXhbdGhpcy5tYXRyaXgubGVuZ3RoLTFdO2lmKHRoaXMuaXRlbSYmbVswXSl7aWYoIW1bMV0pe0E9dHJ1ZTt9aWYobVswXS5nZXRMb25nJiZtWzBdLmdldExvbmcoKSYmbVsxXSYmIW1bMl0pe0E9dHJ1ZTt9fXRoaXMudGlsZXM9dGhpcy50aGlzTGF5b3V0LmdldEdyb3VwVGlsZXModGhpcy5lbmRHcm91cCkuc2xpY2UoMCk7dGhpcy5tYXRyaXg9dGhpcy50aGlzTGF5b3V0Lm9yZ2FuaXplR3JvdXAodGhpcy50aWxlcyk7aWYoaSl7dGhpcy5oYW5kbGVUYWJCYXJTd2l0Y2goYyk7fWlmKHQpe3RoaXMuX2hhbmRsZUNoYW5nZWRHcm91cCgpO31lbHNlIGlmKFQpe3RoaXMucmVtb3ZlVGlsZVBsYWNlaG9sZGVyKHVuZGVmaW5lZCxBKTt9aWYoIVQpe3RoaXMuc2hvd1RpbGVQbGFjZWhvbGRlcihjLHQsVCk7fX0saGFuZGxlTWF0cml4Q29sbGlzaW9uOmZ1bmN0aW9uKHQsYyxULGQpe3ZhciByLGUsZixuO3I9dGhpcy5tYXRyaXhbdGhpcy5jdXJUb3VjaE1hdHJpeENvcmRzLnJvd11bdGhpcy5jdXJUb3VjaE1hdHJpeENvcmRzLmNvbHVtbl07ZT10LmluZGV4T2Yocik7Zj10LmluZGV4T2YodGhpcy5pdGVtKTtpZih0aGlzLnJpZ2h0VG9MZWZ0KXt0aGlzLmNvbGxpc2lvbkxlZnQ9IXRoaXMuY29sbGlzaW9uTGVmdDt9aWYoZj4tMSYmZjxlKXtyPXRbZSsxXTt9aWYocj09PXRoaXMuaXRlbSl7aWYoVHx8ZCl7dC5zcGxpY2UodC5pbmRleE9mKHRoaXMuaXRlbSksMSk7fXRoaXMuX2hhbmRsZVRpbGVSZXBsYWNlKHQsYyk7cmV0dXJuO31uPXRoaXMuY2hhbmdlVGlsZXNPcmRlcih0aGlzLml0ZW0scix0LHRoaXMubWF0cml4KTtpZihuJiYhdGhpcy5pc0xpbmtNYXJrZXJTaG93bil7dGhpcy5faGFuZGxlVGlsZVJlcGxhY2UobixjKTt9fSxoYW5kbGVUYWJCYXJTd2l0Y2g6ZnVuY3Rpb24oYyl7dGhpcy5fYXBwZW5kVGFyZ2V0R3JvdXBEb21SZWZXaXRoRHJhZ2dlZFRpbGUoKTtpZighdGhpcy5pdGVtLmdldERvbVJlZigpKXt0aGlzLmVuZEdyb3VwLmdldElubmVyQ29udGFpbmVyc0RvbVJlZnMoKVswXS5hcHBlbmRDaGlsZCh0aGlzLmRyYWdnZWRUaWxlRG9tUmVmKTt9ZWxzZXt0aGlzLmVuZEdyb3VwLmdldElubmVyQ29udGFpbmVyc0RvbVJlZnMoKVswXS5hcHBlbmRDaGlsZCh0aGlzLml0ZW0uZ2V0RG9tUmVmKCkpO310aGlzLmN1cnJlbnRHcm91cD10aGlzLmVuZEdyb3VwO30sX2hhbmRsZU1vdmVPdXRPZkJvcmRlcnM6ZnVuY3Rpb24odCxjKXt2YXIgbT10aGlzLmZpbmRUaWxlVG9QbGFjZUFmdGVyKHRoaXMubWF0cml4LHQpLHI7aWYodFttKzFdPT10aGlzLml0ZW0pe3JldHVybjt9aWYodFttKzFdKXtyPXRbbSsxXTt9ZWxzZSBpZih0aGlzLmN1cnJlbnRHcm91cC5nZXRTaG93UGxhY2Vob2xkZXIoKSl7cj10WzBdO312YXIgbj10aGlzLmNoYW5nZVRpbGVzT3JkZXIodGhpcy5pdGVtLHIsdCx0aGlzLm1hdHJpeCk7aWYobil7dGhpcy5faGFuZGxlVGlsZVJlcGxhY2UobixjKTt9fSxfaGFuZGxlQ2hhbmdlZEdyb3VwOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy50aGlzTGF5b3V0LmdldEdyb3VwVGlsZXModGhpcy5jdXJyZW50R3JvdXApLGk7aWYodGhpcy5jdXJyZW50R3JvdXA9PT10aGlzLnN0YXJ0R3JvdXAmJih0aGlzLnN0YXJ0QXJlYT09PSJ0aWxlcyJ8fHRoaXMuaW50ZXJzZWN0ZWRMaW5rUGxhY2VIb2xkZXIpKXtjPWMuc2xpY2UoMCk7aWYoYy5pbmRleE9mKHRoaXMuaXRlbSk+LTEpe2Muc3BsaWNlKGMuaW5kZXhPZih0aGlzLml0ZW0pLDEpO319aWYodGhpcy5zdGFydEdyb3VwPT09dGhpcy5lbmRHcm91cCYmdGhpcy5zdGFydEFyZWE9PT0idGlsZXMiKXt0aGlzLnRpbGVzLnNwbGljZSh0aGlzLnRpbGVzLmluZGV4T2YodGhpcy5pdGVtKSwxKTt9aT10aGlzLml0ZW0uZ2V0RG9tUmVmKCl8fHRoaXMuZG9tUmVmO2lmKHRoaXMuc3RhcnRBcmVhPT09ImxpbmtzIiYmIXRoaXMuaW50ZXJzZWN0ZWRMaW5rUGxhY2VIb2xkZXIpe3RoaXMuc3dpdGNoTGlua1dpdGhDbG9uZSh0aGlzLml0ZW0pO31pZih0aGlzLmVuZEFyZWE9PT0idGlsZXMiKXt0aGlzLmVuZEdyb3VwLmdldElubmVyQ29udGFpbmVyc0RvbVJlZnMoKVswXS5hcHBlbmRDaGlsZChpKTt9aWYoIXEoaS5wYXJlbnROb2RlKS5oYXNDbGFzcygic2FwVXNoZWxsTGlua3NJbm5lckNvbnRhaW5lciIpKXtxKGkpLmhpZGUoKTt9dGhpcy5jdXJyZW50R3JvdXA9dGhpcy5lbmRHcm91cDt9LF9oYW5kbGVUaWxlUmVwbGFjZTpmdW5jdGlvbih0LGMpe3RoaXMucmVvcmRlckVsZW1lbnRzQ2FsbGJhY2soe2N1cnJlbnRHcm91cDpjLGVuZEdyb3VwOnRoaXMuZW5kR3JvdXAsdGlsZXM6dCxpdGVtOnRoaXMuaXRlbX0pO3RoaXMucmVvcmRlclRpbGVzVmlldyh0LHRoaXMuZW5kR3JvdXApO3RoaXMucmVvcmRlclRpbGVzSW5Eb20oKTt9LF9nZXRJbnRlcnNlY3RlZExpbms6ZnVuY3Rpb24oYyxtLGQpe3ZhciBlPXEoIi5zYXBVc2hlbGxMaW5rVGlsZSIpWzBdO2lmKCFlKXtyZXR1cm47fXZhciBmPWMuZ2V0RG9tUmVmKCkucXVlcnlTZWxlY3RvcigiLnNhcFVzaGVsbExpbmVNb2RlQ29udGFpbmVyIikuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksZz0hcSgiYm9keS5zYXBVaVNpemVDb21wYWN0IikubGVuZ3RoLHI9TWF0aC5mbG9vcigoZC1mLnRvcCkvKGc/NDU6MzEpKSxoPXRoaXMuY29sbGlkZWRMaW5rQXJlYXNbYy5nZXRJZCgpXSxpO2lmKHRoaXMucmlnaHRUb0xlZnQpe2k9TWF0aC5mbG9vcigoZi5yaWdodC1tKS8yMCk7fWVsc2V7aT1NYXRoLmZsb29yKChtLWYubGVmdCkvMjApO31pZihyPGgubGVuZ3RoJiZoW3JdJiZpPGhbcl0ubGVuZ3RoKXtyZXR1cm4gaFtyXVtpXTt9ZWxzZSBpZihoLmxlbmd0aCl7dmFyIGw9aC5sZW5ndGg7aWYocj49bCl7cj1sLTE7fWlmKCF0aGlzLmNvbGxpZGVkTGlua0FyZWFzW2MuZ2V0SWQoKV1bcl0pe3JldHVybjt9aT10aGlzLmNvbGxpZGVkTGlua0FyZWFzW2MuZ2V0SWQoKV1bcl0ubGVuZ3RoO3JldHVybiB0aGlzLmNvbGxpZGVkTGlua0FyZWFzW2MuZ2V0SWQoKV1bcl1baS0xXTt9fSxfbWFwR3JvdXBMaW5rczpmdW5jdGlvbihjKXt2YXIgZz1jLmdldElkKCksbCxyLFI9MDtpZighdGhpcy5jb2xsaWRlZExpbmtBcmVhc1tnXXx8dGhpcy5iRWxhcHNlR3JvdXBMaW5rc01hcCl7dGhpcy5iRWxhcHNlR3JvdXBMaW5rc01hcD1mYWxzZTt2YXIgZD1jLmdldExpbmtzKCksZT1bXTt0aGlzLmNvbGxpZGVkTGlua0FyZWFzLnB1c2goYy5nZXRJZCgpKTtkLmZvckVhY2goZnVuY3Rpb24oaSl7cj10aGlzLl9nZXRMaW5rQm91bmRpbmdSZWN0cyhpLGMpO3IuZm9yRWFjaChmdW5jdGlvbihvKXtpZihvLm9mZnNldC55Pmwpe1IrKzt9bD1vLm9mZnNldC55O3RoaXMuX2FkZExpbmtUb0hhc2hNYXAoZSxjLG8sUixpKTt9LmJpbmQodGhpcykpO30uYmluZCh0aGlzKSk7dGhpcy5jb2xsaWRlZExpbmtBcmVhc1tnXT1lO319LF9nZXRMaW5rQm91bmRpbmdSZWN0czpmdW5jdGlvbihsLGMpe3ZhciByPWwuZ2V0Qm91bmRpbmdSZWN0cygpO2lmKHRoaXMuaXRlbSYmdGhpcy5pdGVtLmdldElkKCk9PT1sLmdldElkKCkpe3I9dGhpcy5kcmFnZ2VkTGlua0JvdW5kaW5nUmVjdHM7fWlmKHIubGVuZ3RoKXt0aGlzLmFMaW5rc0JvdW5kaW5nUmVjdHNbbC5nZXRJZCgpXT10aGlzLl9nZXRNYXJrZXJPZmZzZXQocixjKTt9cmV0dXJuIHI7fSxfYWRkTGlua1RvSGFzaE1hcDpmdW5jdGlvbihjLGQscixlLGwpe2lmKCFjW2VdKXtjW2VdPVtdO31mb3IodmFyIGk9MDtpPD0oci53aWR0aCsyMCkvMjA7aSsrKXt2YXIgZj17bGluazpsLGxlZnRTaWRlOiF0aGlzLnJpZ2h0VG9MZWZ0fTtpZihpPigoci53aWR0aCsyMCkvMjApLzIpe2YubGVmdFNpZGU9dGhpcy5yaWdodFRvTGVmdDt9Y1tlXS5wdXNoKGYpO319LF9pc0xpbmtBcmVhSW50ZXJzZWN0aW9uOmZ1bmN0aW9uKGMsbSxkKXt2YXIgaT1jLmdldElubmVyQ29udGFpbmVyc0RvbVJlZnMoKTtpZihpWzFdKXtyZXR1cm4gdGhpcy5faXNFbGVtZW50Q29sbGlkZUJ5R2l2ZW5Db3JkaW5hdGVzKGlbMV0sbSxkKTt9cmV0dXJuIGZhbHNlO30sX2lzTGlua3NFcXVhbHM6ZnVuY3Rpb24obCxvKXtpZighbHx8IW8pe3JldHVybiBmYWxzZTt9aWYobC5saW5rLmdldElkKCkhPT1vLmxpbmsuZ2V0SWQoKSl7cmV0dXJuIGZhbHNlO31pZihsLmxpbmsubGVmdFNpZGUhPT1vLmxpbmsubGVmdFNpZGUpe3JldHVybiBmYWxzZTt9cmV0dXJuIHRydWU7fSxfdG9nZ2xlVGlsZUNsb25lSG92ZXJPcGFjaXR5OmZ1bmN0aW9uKHYpe3EoIi5zYXBVc2hlbGxUaWxlLWNsb25lIikudG9nZ2xlQ2xhc3MoInNhcFVzaGVsbFRpbGVEcmFnT3BhY2l0eSIsdik7fSxfaGFuZGxlTGlua0FyZWFJbnRlcnNlY3Rpb246ZnVuY3Rpb24oYyxtLGQpe3ZhciBpLGU9ZmFsc2U7aWYodGhpcy5pc0xpbmtQZXJzb25hbGl6YXRpb25TdXBwb3J0ZWQpe3RoaXMuX3RvZ2dsZVRpbGVDbG9uZUhvdmVyT3BhY2l0eSh0cnVlKTt9dGhpcy5fbWFwR3JvdXBMaW5rcyhjKTt0aGlzLm1hdHJpeD10aGlzLm1hdHJpeHx8dGhpcy50aGlzTGF5b3V0Lm9yZ2FuaXplR3JvdXAodGhpcy50aGlzTGF5b3V0LmdldEdyb3VwVGlsZXMoYykpO2k9dGhpcy5fZ2V0SW50ZXJzZWN0ZWRMaW5rKGMsbSxkKTtpZihpKXtlPXRoaXMuX2lzTGlua3NFcXVhbHModGhpcy5pbnRlcnNlY3RlZExpbmssaSk7dGhpcy5pbnRlcnNlY3RlZExpbms9aTt9ZWxzZXt0aGlzLnJlbW92ZVRpbGVQbGFjZWhvbGRlcihjKTt9dGhpcy5fbWFya0VtcHR5TGlua0FyZWEoYyk7cmV0dXJuIGU7fSxfbWFya0VtcHR5TGlua0FyZWE6ZnVuY3Rpb24oYyl7aWYoIWMuZ2V0TGlua3MoKS5sZW5ndGgpe3EoYy5nZXREb21SZWYoKSkuZmluZCgiLnNhcFVzaGVsbExpbmVNb2RlQ29udGFpbmVyIikuYWRkQ2xhc3MoInNhcFVzaGVsbEVtcHR5TGlua0FyZWFIb3ZlciIpO319LF9yZW1vdmVFbXB0eUxpbmtBcmVhTWFyazpmdW5jdGlvbigpe3EoIi5zYXBVc2hlbGxMaW5lTW9kZUNvbnRhaW5lciIpLnJlbW92ZUNsYXNzKCJzYXBVc2hlbGxFbXB0eUxpbmtBcmVhSG92ZXIiKTt9LHJlb3JkZXJUaWxlc0luRG9tOmZ1bmN0aW9uKCl7dmFyIGo9dGhpcy5pdGVtLmdldERvbVJlZigpP3RoaXMuaXRlbS5nZXREb21SZWYoKTp0aGlzLmRvbVJlZixzPXEoaikuaW5kZXgoKSxjPXEoaikuY2xvc2VzdCgiLnNhcFVzaGVsbFRpbGVzQ29udGFpbmVyLXNvcnRhYmxlIiksZD10aGlzLmNhbGNEZXN0SW5kZXhJbkdyb3VwKCksZT1xKHRoaXMuZW5kR3JvdXAuZ2V0RG9tUmVmKCkpLmZpbmQoIi5zYXBVc2hlbGxUaWxlc0NvbnRhaW5lci1zb3J0YWJsZSIpLGY9ZS5maW5kKCIuc2FwVXNoZWxsVGlsZSIpO2lmKHRoaXMuc3RhcnRBcmVhPT09InRpbGVzIil7Yy5maW5kKGZbc10pLnJlbW92ZSgpO31lbHNlIGlmKCF0aGlzLmludGVyc2VjdGVkTGlua1BsYWNlSG9sZGVyKXt0aGlzLnN3aXRjaExpbmtXaXRoQ2xvbmUodGhpcy5pdGVtKTt9aWYodGhpcy5lbmRBcmVhIT09ImxpbmtzIil7Zj1lLmZpbmQoIi5zYXBVc2hlbGxUaWxlIik7aWYoQy5sYXN0KCIvY29yZS9ob21lL2dyaWRDb250YWluZXIiKSl7aWYoZVswXS5maXJzdEVsZW1lbnRDaGlsZC5jaGlsZHJlbi5sZW5ndGgpe2VbMF0uZmlyc3RFbGVtZW50Q2hpbGQuaW5zZXJ0QmVmb3JlKGosZltkXSk7fWVsc2V7ZVswXS5maXJzdEVsZW1lbnRDaGlsZC5hcHBlbmRDaGlsZChqKTt9fWVsc2V7ZVswXS5pbnNlcnRCZWZvcmUoaixmW2RdKTt9fX0saXNMaW5rSW50ZXJzZWN0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnRlcnNlY3RlZExpbmshPT11bmRlZmluZWQ7fSxjYWxjRGVzdEluZGV4SW5Hcm91cDpmdW5jdGlvbigpe3ZhciBsLHQ9MCxpLGosST1mYWxzZTtmb3IoaT0wO2k8dGhpcy5tYXRyaXgubGVuZ3RoJiYhSTtpKyspe2ZvcihqPTA7ajx0aGlzLm1hdHJpeFtpXS5sZW5ndGg7aisrKXtpZih0aGlzLm1hdHJpeFtpXVtqXSE9PXVuZGVmaW5lZCl7aWYodGhpcy5pdGVtLnNJZCE9PXRoaXMubWF0cml4W2ldW2pdLnNJZCl7aWYobCE9PXRoaXMubWF0cml4W2ldW2pdLnNJZCl7bD10aGlzLm1hdHJpeFtpXVtqXS5zSWQ7dCsrO319ZWxzZXtJPXRydWU7YnJlYWs7fX19fXJldHVybiB0O30sbGF5b3V0U3RhcnRDYWxsYmFjazpmdW5jdGlvbihlKXt0aGlzLmluaXQoKTt0aGlzLml0ZW09c2FwLnVpLmdldENvcmUoKS5ieUlkKGUuaWQpO3RoaXMudGlsZXNJblJvdz10aGlzLnRoaXNMYXlvdXQuZ2V0VGlsZXNJblJvdygpO3RoaXMuZ3JvdXBzTGlzdD10aGlzLnRoaXNMYXlvdXQuZ2V0R3JvdXBzKCk7dGhpcy5hbGxHcm91cHM9dGhpcy50aGlzTGF5b3V0LmdldEFsbEdyb3VwcygpO3RoaXMuc3RhcnRHcm91cD10aGlzLmN1cnJlbnRHcm91cD10aGlzLml0ZW0uZ2V0UGFyZW50KCk7aWYoQy5sYXN0KCIvY29yZS9ob21lL2dyaWRDb250YWluZXIiKSYmdGhpcy5zdGFydEdyb3VwLmdldFBhcmVudCgpLmdldElkKCkhPT0iZGFzaGJvYXJkR3JvdXBzIil7dGhpcy5zdGFydEdyb3VwPXRoaXMuY3VycmVudEdyb3VwPXRoaXMuc3RhcnRHcm91cC5nZXRQYXJlbnQoKTt9dGhpcy5ncm91cFN3aXRjaGVkPWZhbHNlO3RoaXMuc3RhcnRBcmVhPXRoaXMuaXNMaW5rUGVyc29uYWxpemF0aW9uU3VwcG9ydGVkJiZ0aGlzLml0ZW0uZ2V0TW9kZSYmdGhpcy5pdGVtLmdldE1vZGUoKT09PSJMaW5lTW9kZSI/ImxpbmtzIjoidGlsZXMiO3RoaXMuY3VycmVudEFyZWE9dGhpcy5zdGFydEFyZWE7aWYodGhpcy5pc0xpbmtQZXJzb25hbGl6YXRpb25TdXBwb3J0ZWQpe3RoaXMuTGlua0Ryb3BNYXJrZXI9dGhpcy5fZ2V0TGlua0Ryb3BNYXJrZXJFbGVtZW50KCk7fX0sX2dldExpbmtEcm9wTWFya2VyRWxlbWVudDpmdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIkRJViIpLGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiRElWIiksZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJESVYiKTtlLnNldEF0dHJpYnV0ZSgiaWQiLCJzYXBVc2hlbGxMaW5rRHJvcE1hcmtlciIpO2Muc2V0QXR0cmlidXRlKCJpZCIsInNhcFVzaGVsbExpbmtEcm9wTWFya2VyRG90Iik7ZC5zZXRBdHRyaWJ1dGUoImlkIiwic2FwVXNoZWxsTGlua0Ryb3BNYXJrZXJMaW5lIik7ZS5hcHBlbmRDaGlsZChjKTtlLmFwcGVuZENoaWxkKGQpO3JldHVybiBlO30saXNBcmVhQ2hhbmdlZDpmdW5jdGlvbigpe3JldHVybih0aGlzLmN1cnJlbnRBcmVhJiZ0aGlzLmVuZEFyZWEpP3RoaXMuY3VycmVudEFyZWEhPT10aGlzLmVuZEFyZWE6ZmFsc2U7fSxpc09yaWdpbmFsQXJlYUNoYW5nZWQ6ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5zdGFydEFyZWEmJnRoaXMuZW5kQXJlYSk/dGhpcy5zdGFydEFyZWEhPT10aGlzLmVuZEFyZWE6ZmFsc2U7fSxfZ2V0RGVzdGluYXRpb25JbmRleDpmdW5jdGlvbih0KXtpZih0PT09ImxpbmtzIil7aWYodGhpcy5pbnRlcnNlY3RlZExpbmspe3ZhciBpPXRoaXMuZW5kR3JvdXAuZ2V0TGlua3MoKS5pbmRleE9mKHRoaXMuaW50ZXJzZWN0ZWRMaW5rLmxpbmspLGQ9dGhpcy5lbmRHcm91cC5nZXRMaW5rcygpLmluZGV4T2YodGhpcy5pdGVtKTtpZih0aGlzLmludGVyc2VjdGVkTGluay5sZWZ0U2lkZSl7aT10aGlzLnJpZ2h0VG9MZWZ0P2krMTppLTE7fWlmKGQ8MHx8ZD5pKXtpPXRoaXMucmlnaHRUb0xlZnQ/aTppKzE7fXJldHVybiBpO31yZXR1cm4gdGhpcy5lbmRHcm91cC5nZXRMaW5rcygpLmxlbmd0aDt9cmV0dXJuIHRoaXMuX2dldERlc3RpbmF0aW9uVGlsZUluZGV4KCk7fSxsYXlvdXRFbmRDYWxsYmFjazpmdW5jdGlvbigpe3ZhciByLHMsZDt0aGlzLl9yZW1vdmVMaW5rRHJvcE1hcmtlcigpO2lmKHRoaXMuZW5kQXJlYSE9PSJsaW5rcyImJiF0aGlzLnRpbGVzKXtyZXR1cm57dGlsZTp0aGlzLml0ZW19O31zPXRoaXMuX2dldERyYWdTb3VyY2VHcm91cCgpO2lmKCFiLmlzVGFiQmFyQWN0aXZlKCl8fCF0aGlzLmJJc1RhYkJhckNvbGxpc2lvbil7dGhpcy50YXJnZXRHcm91cD0iIjt9ZD10aGlzLl9nZXREZXN0R3JvdXBPYmplY3QodGhpcy50YXJnZXRHcm91cCk7cj17c3JjR3JvdXA6cyxkc3RHcm91cDpkLGRzdEdyb3VwRGF0YTp0aGlzLl9nZXREcm9wVGFyZ2V0R3JvdXAoKSx0aWxlOnRoaXMuaXRlbSxkc3RUaWxlSW5kZXg6dGhpcy5fZ2V0RGVzdGluYXRpb25JbmRleCh0aGlzLmVuZEFyZWEpLHRpbGVNb3ZlZEZsYWc6dHJ1ZSxzcmNBcmVhOnRoaXMuc3RhcnRBcmVhLGRzdEFyZWE6dGhpcy5iSXNUYWJCYXJDb2xsaXNpb24/dW5kZWZpbmVkOnRoaXMuZW5kQXJlYX07cmV0dXJuIHI7fSxfZ2V0RGVzdEdyb3VwT2JqZWN0OmZ1bmN0aW9uKCQpe3JldHVybiAkP3NhcC51aS5nZXRDb3JlKCkuYnlJZCgoJC5nZXRBdHRyaWJ1dGUoImlkIikpKTp0aGlzLmVuZEdyb3VwO30sX2dldERyYWdTb3VyY2VHcm91cDpmdW5jdGlvbigpe3ZhciBzO3M9dGhpcy5zdGFydEdyb3VwO2lmKHRoaXMudGhpc0xheW91dC5pc1RhYkJhckFjdGl2ZSgpJiYodGhpcy5ncm91cFN3aXRjaGVkPT09dHJ1ZSkpe3M9e2dyb3VwSWQ6dGhpcy5zRHJhZ1N0YXJ0R3JvdXBNb2RlbElkfTt9cmV0dXJuIHM7fSxfZ2V0RHJvcFRhcmdldEdyb3VwOmZ1bmN0aW9uKCl7dmFyIGQ7aWYodGhpcy50aGlzTGF5b3V0LmlzVGFiQmFyQWN0aXZlKCkmJnRoaXMudGhpc0xheW91dC5pc09uVGFiQmFyRWxlbWVudCgpKXtkPXtncm91cElkOnRoaXMuc0RyYWdUYXJnZXRHcm91cE1vZGVsSWR9O31lbHNle2Q9dGhpcy5lbmRHcm91cDt9cmV0dXJuIGQ7fSxfZ2V0RGVzdGluYXRpb25UaWxlSW5kZXg6ZnVuY3Rpb24oKXt2YXIgZCxtO2lmKHRoaXMudGhpc0xheW91dC5pc1RhYkJhckFjdGl2ZSgpJiZ0aGlzLnRoaXNMYXlvdXQuaXNPblRhYkJhckVsZW1lbnQoKSl7ZD10aGlzLl9nZXREcm9wVGFyZ2V0R3JvdXAoKS5ncm91cElkO209dGhpcy5fZ2V0TW9kZWxHcm91cEJ5SWQoZCk7cmV0dXJuIG0udGlsZXMubGVuZ3RoO31yZXR1cm4gdGhpcy50aWxlcy5pbmRleE9mKHRoaXMuaXRlbSk7fSxjb21wYXJlQXJyYXlzOmZ1bmN0aW9uKGMsZCl7aWYoYy5sZW5ndGghPT1kLmxlbmd0aCl7cmV0dXJuIGZhbHNlO31mb3IodmFyIGk9MDtpPGMubGVuZ3RoO2krKyl7aWYoY1tpXSE9PWRbaV0pe3JldHVybiBmYWxzZTt9fXJldHVybiB0cnVlO30scmVvcmRlclRpbGVzVmlldzpmdW5jdGlvbih0KXt0aGlzLnRpbGVzPXQ7dGhpcy5tYXRyaXg9dGhpcy50aGlzTGF5b3V0Lm9yZ2FuaXplR3JvdXAodCk7fSxjaGFuZ2VUaWxlc09yZGVyOmZ1bmN0aW9uKGkscix0LG0pe3ZhciBuPXQuc2xpY2UoMCksZD1uLmluZGV4T2YoaSksYyxlLGY7aWYoZD4tMSl7bi5zcGxpY2UoZCwxKTt9aWYocil7bi5zcGxpY2Uobi5pbmRleE9mKHIpLDAsdGhpcy5pdGVtKTt9ZWxzZXtuLnB1c2goaSk7fWlmKHRoaXMuY3VycmVudEdyb3VwPT10aGlzLmVuZEdyb3VwKXtpZih0aGlzLmNvbXBhcmVBcnJheXModCxuKSl7cmV0dXJuIGZhbHNlO31jPXRoaXMudGhpc0xheW91dC5vcmdhbml6ZUdyb3VwKG4pO2U9dGhpcy50aGlzTGF5b3V0LmdldFRpbGVQb3NpdGlvbkluTWF0cml4KGksbSk7Zj10aGlzLnRoaXNMYXlvdXQuZ2V0VGlsZVBvc2l0aW9uSW5NYXRyaXgoaSxjKTtpZigoZS5yb3c9PWYucm93KSYmKGUuY29sPT1mLmNvbCkpe3JldHVybiBmYWxzZTt9fXRoaXMudGlsZXM9bjt0aGlzLmN1cnJlbnRHcm91cD10aGlzLmVuZEdyb3VwO3JldHVybiBuO30sc2V0TWF0cml4OmZ1bmN0aW9uKG4pe3RoaXMubWF0cml4PW47fSxmaW5kVGlsZVRvUGxhY2VBZnRlcjpmdW5jdGlvbihjLHQpe3ZhciB4PSh0aGlzLnRoaXNMYXlvdXQucmlnaHRUb0xlZnQpPzA6dGhpcy5jdXJUb3VjaE1hdHJpeENvcmRzLmNvbHVtbixJPSh0aGlzLnRoaXNMYXlvdXQucmlnaHRUb0xlZnQpPzE6LTEsbT0wLGksaixkLHI9Y1swXS5sZW5ndGg7Zm9yKGk9dGhpcy5jdXJUb3VjaE1hdHJpeENvcmRzLnJvdztpPj0wO2ktLSl7Zm9yKGo9eDtqPj0wJiZqPHI7ais9SSl7aWYoIWNbaV18fHR5cGVvZiBjW2ldW2pdIT09Im9iamVjdCIpe2NvbnRpbnVlO31kPXQuaW5kZXhPZihjW2ldW2pdKTttPWQ+bT9kOm07fXg9Y1swXS5sZW5ndGgtMTt9cmV0dXJuIG18fCh0Lmxlbmd0aC0xKTt9LF9pc0VsZW1lbnRDb2xsaWRlQnlHaXZlbkNvcmRpbmF0ZXM6ZnVuY3Rpb24oZSxtLGMpe3ZhciB0PWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksaT1mYWxzZSxkPWZhbHNlO2lmKHQuaGVpZ2h0PT09MCYmIWUuY2xhc3NMaXN0LmNvbnRhaW5zKCJzYXBVc2hlbGxOb0xpbmtzQXJlYVByZXNlbnQiKSl7dD1lLnBhcmVudE5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7fWk9dC5yaWdodD5tJiZ0LmxlZnQ8bTtkPXQuYm90dG9tPmMmJnQudG9wPGM7cmV0dXJuIGkmJmQ7fSxfZ2V0TWF0cml4Q29yZGluYXRlc09mVG91Y2hlZFRpbGU6ZnVuY3Rpb24oYyxtLGQpe3ZhciBlPXEuZXh0ZW5kKHt9LHRoaXMuY3VyVG91Y2hNYXRyaXhDb3JkcyksdD1jLmdldElubmVyQ29udGFpbmVyc0RvbVJlZnMoKVswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt0aGlzLm1hdHJpeD10aGlzLm1hdHJpeHx8dGhpcy50aGlzTGF5b3V0Lm9yZ2FuaXplR3JvdXAodGhpcy50aGlzTGF5b3V0LmdldEdyb3VwVGlsZXMoYykpO3ZhciBvPXRoaXMucmlnaHRUb0xlZnQ/KHQucmlnaHQrKC0xKSptKToodC5sZWZ0KigtMSkrbSksZj0odC50b3AqKC0xKStkKS8odGhpcy50aWxlSGVpZ2h0K3RoaXMudGlsZU1hcmdpbiksZz1vLyh0aGlzLnRpbGVXaWR0aCt0aGlzLnRpbGVNYXJnaW4pO2U9e3JvdzpNYXRoLmZsb29yKGYpLGNvbHVtbjpNYXRoLmZsb29yKGcpfTtyZXR1cm4gZTt9LF9nZXRDb2xsaWRlZEdyb3VwOmZ1bmN0aW9uKG0sYyl7Zm9yKHZhciBpPTA7aTx0aGlzLmdyb3Vwc0xpc3QubGVuZ3RoO2krKyl7dmFyIGc9dGhpcy5ncm91cHNMaXN0W2ldLGQ9Zy5nZXRJbm5lckNvbnRhaW5lcnNEb21SZWZzKCk7aWYoIWQpe2NvbnRpbnVlO31mb3IodmFyIGo9MDtqPGQubGVuZ3RoO2orKyl7aWYoZFtqXSYmdGhpcy5faXNFbGVtZW50Q29sbGlkZUJ5R2l2ZW5Db3JkaW5hdGVzKGRbal0sbSxjKSl7dmFyIGU9IWcuZ3JvdXBIYXNUaWxlcygpO2Zvcih2YXIgZj10aGlzLmdyb3Vwc0xpc3QubGVuZ3RoLTE7Zj49aTtmLS0pe2lmKGUpe2JyZWFrO31pZighdGhpcy5ncm91cHNMaXN0W2ZdLmdyb3VwSGFzVGlsZXMoKSl7dmFyIFE9dGhpcy5ncm91cHNMaXN0W2ZdLiQoKTtRLnJlbW92ZUNsYXNzKCJzYXBVc2hlbGxFbmFibGVUcmFuc2l0aW9uIik7US5maW5kKCIuc2FwVXNoZWxsSW5uZXIiKS5yZW1vdmVBdHRyKCJzdHlsZSIpO319cmV0dXJuIGc7fX19fSxfaGFuZGxlVGlsZUFyZWFJbnRlcnNlY3Rpb246ZnVuY3Rpb24oYyxtLGQpe3ZhciBlPXRoaXMuX2dldE1hdHJpeENvcmRpbmF0ZXNPZlRvdWNoZWRUaWxlKGMsbSxkKTtpZigoYz09PXRoaXMuZW5kR3JvdXApJiYoZS5jb2x1bW49PT10aGlzLmN1clRvdWNoTWF0cml4Q29yZHMuY29sdW1uKSYmKGUucm93PT09dGhpcy5jdXJUb3VjaE1hdHJpeENvcmRzLnJvdykpe3JldHVybiBmYWxzZTt9aWYodGhpcy5yaWdodFRvTGVmdCl7dGhpcy5jb2xsaXNpb25MZWZ0PSh0aGlzLmN1clRvdWNoTWF0cml4Q29yZHMuY29sdW1uLWUuY29sdW1uKT4wO31lbHNle3RoaXMuY29sbGlzaW9uTGVmdD0oZS5jb2x1bW4tdGhpcy5jdXJUb3VjaE1hdHJpeENvcmRzLmNvbHVtbik+MDt9aWYoZS5jb2x1bW49PT10aGlzLmN1clRvdWNoTWF0cml4Q29yZHMuY29sdW1uKXt0aGlzLmNvbGxpc2lvbkxlZnQ9ZmFsc2U7fXEuZXh0ZW5kKHRoaXMuY3VyVG91Y2hNYXRyaXhDb3JkcyxlKTtyZXR1cm4gdHJ1ZTt9LF9nZXRHcm91cENvbGxpc2lvbk9iamVjdDpmdW5jdGlvbihtLGMpe3ZhciBkLGw7ZD10aGlzLl9nZXRDb2xsaWRlZEdyb3VwKG0sYyk7aWYoIWR8fGQuZ2V0SXNHcm91cExvY2tlZCgpKXtyZXR1cm4gdW5kZWZpbmVkO31sPXRoaXMuX2lzTGlua0FyZWFJbnRlcnNlY3Rpb24oZCxtLGMpO3RoaXMuZW5kR3JvdXA9ZDtpZighdGhpcy50aWxlcyl7dGhpcy50aWxlcz10aGlzLnRoaXNMYXlvdXQuZ2V0R3JvdXBUaWxlcyh0aGlzLmVuZEdyb3VwKS5zbGljZSgwKTt9dGhpcy5lbmRBcmVhPWw/ImxpbmtzIjoidGlsZXMiO3RoaXMuZW5kQXJlYUNoYW5nZWQ9dGhpcy5pc0FyZWFDaGFuZ2VkKCk7dGhpcy5jdXJyZW50QXJlYT10aGlzLmVuZEFyZWE7cmV0dXJueyJjb2xsaWRlZE9iamVjdFR5cGUiOmw/Ikdyb3VwLWxpbmsiOiJHcm91cC10aWxlIiwiY29sbGlkZWRPYmplY3QiOmR9O30sZ2V0Q29sbGlzaW9uT2JqZWN0OmZ1bmN0aW9uKG0sYyl7aWYodGhpcy50aGlzTGF5b3V0Lm9UYWJCYXJJdGVtQ2xpY2tUaW1lcil7Y2xlYXJUaW1lb3V0KHRoaXMudGhpc0xheW91dC5vVGFiQmFySXRlbUNsaWNrVGltZXIpO31pZih0aGlzLnRoaXNMYXlvdXQuaXNUYWJCYXJBY3RpdmUoKSYmdGhpcy5faXNUYWJCYXJDb2xsaXNpb24oYykpe3JldHVybnsiY29sbGlkZWRPYmplY3RUeXBlIjoiVGFiQmFyIn07fXJldHVybiB0aGlzLl9nZXRHcm91cENvbGxpc2lvbk9iamVjdChtLGMpO30sX2lzVGFiQmFyU2Nyb2xsQXJlYTpmdW5jdGlvbihtKXt2YXIgQT1xKCIjYW5jaG9yTmF2aWdhdGlvbkJhciIpLmhlaWdodCgpLG89cSgiI2FuY2hvck5hdmlnYXRpb25CYXIiKS5vZmZzZXQoKSxpPW8udG9wO3JldHVybigobT5BK2kpJiYobTxBK2krMzApKTt9LF9jYW5jZWxMb25nRHJvcFRpbW1lcjpmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnRoaXNMYXlvdXQub1RhYkJhckl0ZW1DbGlja1RpbWVyKTt9LF9pc1RhYkJhckNvbGxpc2lvbjpmdW5jdGlvbihtKXt2YXIgQT1xKCIjYW5jaG9yTmF2aWdhdGlvbkJhciIpLmhlaWdodCgpLG89cSgiI2FuY2hvck5hdmlnYXRpb25CYXIiKS5vZmZzZXQoKSxpPW8udG9wO3JldHVybihtPEEraSYmbT5pKTt9LF9oYW5kbGVUYWJCYXJDb2xsaXNpb246ZnVuY3Rpb24obSx0KXt2YXIgYz10aGlzLGg9dGhpcy5fZ2V0VGFiQmFySG92ZXJJdGVtKG0sdCksVCxILGksZCxvO2lmKGIuaXNUYWJCYXJBY3RpdmUoKSl7dGhpcy5fdG9nZ2xlVGlsZUNsb25lSG92ZXJPcGFjaXR5KHRydWUpO310aGlzLmxhc3RIaWdobGl0ZWRUYWJJdGVtPWg7dGhpcy50aGlzTGF5b3V0LnNldE9uVGFiQmFyRWxlbWVudCh0cnVlKTtpPXRoaXMuX2hhbmRsZU92ZXJmbG93Q29sbGlzaW9uKG0pO2lmKGkpe3JldHVybjt9aWYoIWgpe3JldHVybjt9dGhpcy50YXJnZXRHcm91cD1oO3RoaXMuc0RyYWdUYXJnZXRHcm91cE1vZGVsSWQ9aC5nZXRBdHRyaWJ1dGUoIm1vZGVsR3JvdXBJZCIpO1Q9dGhpcy5fZ2V0VGFiQmFyR3JvdXBJbmRleEJ5TW9kZWxJZCh0aGlzLnNEcmFnVGFyZ2V0R3JvdXBNb2RlbElkKTtpZih0aGlzLnRoaXNMYXlvdXQub1RhYkJhckl0ZW1DbGlja1RpbWVyKXtjbGVhclRpbWVvdXQodGhpcy50aGlzTGF5b3V0Lm9UYWJCYXJJdGVtQ2xpY2tUaW1lcik7fW89dGhpcy5fZ2V0TW9kZWxHcm91cEJ5SWQodGhpcy5fZ2V0RHJvcFRhcmdldEdyb3VwKCkuZ3JvdXBJZCk7aWYoby5pc0dyb3VwTG9ja2VkKXt0aGlzLl90b2dnbGVUYWJCYXJPdmVyZmxvd0Fycm93cyhmYWxzZSk7dGhpcy50aGlzTGF5b3V0LnNldE9uVGFiQmFyRWxlbWVudChmYWxzZSk7dGhpcy5fcmVzZXRPdmVyRmxvd0J1dHRvbkVsZW1lbnRzKCk7cmV0dXJuO310aGlzLl90b2dnbGVBbmNob3JJdGVtSGlnaGxpZ2h0aW5nKHRydWUpO2lmKCF0aGlzLnNEcmFnU3RhcnRHcm91cE1vZGVsSWQpe3RoaXMuc0RyYWdTdGFydEdyb3VwTW9kZWxJZD10aGlzLnN0YXJ0R3JvdXAuZ2V0R3JvdXBJZCgpO310aGlzLnRoaXNMYXlvdXQub1RhYkJhckl0ZW1DbGlja1RpbWVyPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgZT1jLl9nZXRTZWxlY3RlZFRhYkJhckl0ZW0oKTtpZihjLmxhc3RIaWdobGl0ZWRUYWJJdGVtPT09ZSl7cmV0dXJuO31jLmRyYWdnZWRUaWxlTW9kZWxQYXRoPWMuaXRlbS5nZXRCaW5kaW5nQ29udGV4dCgpLmdldFBhdGgoKTtjLl9wcmVwYXJlRG9tRm9yRHJhZ0FuZERyb3AoKTtjLnN0YXJ0R3JvdXAucmVtb3ZlQWdncmVnYXRpb24oInRpbGVzIixjLml0ZW0sdHJ1ZSk7ZD1jLnNEcmFnU3RhcnRHcm91cE1vZGVsSWQ9PT1jLnNEcmFnVGFyZ2V0R3JvdXBNb2RlbElkO2MuaXRlbS5nZXRCaW5kaW5nQ29udGV4dCgpLm9Nb2RlbC5zZXRQcm9wZXJ0eShjLmRyYWdnZWRUaWxlTW9kZWxQYXRoKyIvZHJhZ2dlZEluVGFiQmFyVG9Tb3VyY2VHcm91cCIsZCk7Yy5ncm91cFN3aXRjaGVkPXRydWU7c2FwLnVpLmdldENvcmUoKS5nZXRFdmVudEJ1cygpLnB1Ymxpc2goImxhdW5jaHBhZCIsInN3aXRjaFRhYkJhckl0ZW0iLHtpR3JvdXBJbmRleDpUfSk7dmFyIGY9Yy50aGlzTGF5b3V0LmdldEdyb3VwcygpO2MuZW5kR3JvdXA9ZlswXTtjLmJFbGFwc2VHcm91cExpbmtzTWFwPXRydWU7fSw4MDApO2lmKCh0aGlzLnRpbGVzPT09bnVsbCkmJih0aGlzLmVuZEdyb3VwKSl7dGhpcy50aWxlcz10aGlzLnRoaXNMYXlvdXQuZ2V0R3JvdXBUaWxlcyh0aGlzLmVuZEdyb3VwKS5zbGljZSgwKTt9SD1xKCIuc2FwVXNoZWxsVGFiQmFySG92ZXJPbiIpO0gucmVtb3ZlQ2xhc3MoInNhcFVzaGVsbFRhYkJhckhvdmVyT24iKTtoLmNsYXNzTGlzdC5hZGQoInNhcFVzaGVsbFRhYkJhckhvdmVyT24iKTtyZXR1cm4gdHJ1ZTt9LF9wcmVwYXJlRG9tRm9yRHJhZ0FuZERyb3A6ZnVuY3Rpb24oKXtpZihELnN5c3RlbS50YWJsZXQpe3ZhciBjPXRoaXMuaXRlbS4kKCkuY2xvbmUoKTt2YXIgJD10aGlzLml0ZW0uJCgpO3ZhciBkPSQucGFyZW50KCk7dGhpcy5vcmlnSXRlbUlkPSQuYXR0cigiaWQiKTt0aGlzLm9yaWdJdGVtRGF0YVNhcFVpPSQuYXR0cigiZGF0YS1zYXAtdWkiKTskLnJlbW92ZUF0dHIoImlkIikucmVtb3ZlQXR0cigiZGF0YS1zYXAtdWkiKTskLmhpZGUoKTtjLmhpZGUoKTtxKCIjZGFzaGJvYXJkR3JvdXBzIikucGFyZW50KCkuYXBwZW5kKCQpO2QuYXBwZW5kKGMpO3RoaXMuZHJhZ2dlZFRpbGVEb21SZWY9JC5nZXQoMCk7fWVsc2UgaWYoIXRoaXMuZHJhZ2dlZFRpbGVEb21SZWYpe3RoaXMuZHJhZ2dlZFRpbGVEb21SZWY9dGhpcy5pdGVtLmdldERvbVJlZigpO319LF9hcHBlbmRUYXJnZXRHcm91cERvbVJlZldpdGhEcmFnZ2VkVGlsZTpmdW5jdGlvbigpe2lmKCF0aGlzLml0ZW0uZ2V0RG9tUmVmKCkpe2lmKEQuc3lzdGVtLnRhYmxldCl7cSh0aGlzLmRyYWdnZWRUaWxlRG9tUmVmKS5hdHRyKCJpZCIsdGhpcy5vcmlnSXRlbUlkKTtxKHRoaXMuZHJhZ2dlZFRpbGVEb21SZWYpLmF0dHIoImRhdGEtc2FwLXVpIix0aGlzLm9yaWdJdGVtRGF0YVNhcFVpKTtxKHRoaXMuZHJhZ2dlZFRpbGVEb21SZWYpLnNob3coKTt9dGhpcy5lbmRHcm91cC5nZXRJbm5lckNvbnRhaW5lckRvbVJlZigpLmFwcGVuZENoaWxkKHRoaXMuZHJhZ2dlZFRpbGVEb21SZWYpO31lbHNle3RoaXMuZW5kR3JvdXAuZ2V0SW5uZXJDb250YWluZXJEb21SZWYoKS5hcHBlbmRDaGlsZCh0aGlzLml0ZW0uZ2V0RG9tUmVmKCkpO2lmKEQuc3lzdGVtLnRhYmxldCl7cSh0aGlzLml0ZW0uZ2V0RG9tUmVmKCkpLnNob3coKTt9fX0sX2dldFNlbGVjdGVkVGFiQmFySXRlbTpmdW5jdGlvbigpe3JldHVybiBxKCIuc2FwVXNoZWxsQW5jaG9ySXRlbVNlbGVjdGVkIilbMF07fSxfZ2V0VGFiQmFyR3JvdXBJbmRleEJ5TW9kZWxJZDpmdW5jdGlvbihnKXt2YXIgaSx0O2ZvcihpPTA7aTx0aGlzLmFsbEdyb3Vwcy5sZW5ndGg7aSsrKXt0PXRoaXMuYWxsR3JvdXBzW2ldLmdyb3VwSWQ7aWYoZz09PXQpe3JldHVybiBpO319fSxfZ2V0TW9kZWxHcm91cEJ5SWQ6ZnVuY3Rpb24oZyl7dmFyIG09dGhpcy50aGlzTGF5b3V0LmdldEFsbEdyb3VwcygpLGksdCxUO2ZvcihpPTA7aTxtLmxlbmd0aDtpKyspe3Q9bVtpXTtUPXQuZ3JvdXBJZDtpZihUPT09Zyl7cmV0dXJuIHQ7fX19LF9oYW5kbGVPdmVyZmxvd0NvbGxpc2lvbjpmdW5jdGlvbihtKXt2YXIgQT1zYXAudWkuZ2V0Q29yZSgpLmJ5SWQoImFuY2hvck5hdmlnYXRpb25CYXIiKSxvPXRoaXMuX2NhbGN1bGF0ZU92ZXJmbG93QnV0dG9uU2lkZUNvbGxpc2lvbihtKTtpZihvPT0icmlnaHQiKXtpZighdGhpcy50YWJCYXJBcnJvd0NvbGxpc2lvblJpZ2h0KXtBLl9zY3JvbGxUb0dyb3VwQnlHcm91cEluZGV4KEEuYW5jaG9ySXRlbXMubGVuZ3RoLTEsNTAwMCk7dGhpcy50YWJCYXJBcnJvd0NvbGxpc2lvblJpZ2h0PXRydWU7fXJldHVybiB0cnVlO31lbHNlIGlmKG89PSJsZWZ0Iil7aWYoIXRoaXMudGFiQmFyQXJyb3dDb2xsaXNpb25MZWZ0KXtBLl9zY3JvbGxUb0dyb3VwQnlHcm91cEluZGV4KDAsNTAwMCk7dGhpcy50YWJCYXJBcnJvd0NvbGxpc2lvbkxlZnQ9dHJ1ZTt9cmV0dXJuIHRydWU7fXRoaXMuX3Jlc2V0T3ZlckZsb3dCdXR0b25FbGVtZW50cygpO3JldHVybiBmYWxzZTt9LF9jYWxjdWxhdGVPdmVyZmxvd0J1dHRvblNpZGVDb2xsaXNpb246ZnVuY3Rpb24obSl7dmFyIGM9cSgiLnNhcFVzaGVsbEFuY2hvclJpZ2h0T3ZlckZsb3dCdXR0b24iKSxkPWMub2Zmc2V0KCkubGVmdCxlPXEoIi5zYXBVc2hlbGxBbmNob3JJdGVtT3ZlckZsb3ciKSxmPWUub2Zmc2V0KCkubGVmdCxnPXEoIi5zYXBVc2hlbGxBbmNob3JMZWZ0T3ZlckZsb3dCdXR0b24iKSxoPWcub2Zmc2V0KCkubGVmdCxpPTMyLGo9cSgiI2FuY2hvck5hdmlnYXRpb25CYXIiKSxrPWoub2Zmc2V0KCkubGVmdDtpZihtPmQmJm08Zil7cmV0dXJuInJpZ2h0Ijt9aWYobT5rJiYobTxoK2kpKXtyZXR1cm4ibGVmdCI7fX0sX3Jlc2V0T3ZlckZsb3dCdXR0b25FbGVtZW50czpmdW5jdGlvbigpe3ZhciB0PUQuc3lzdGVtLnRhYmxldCxjPXEodD8iLnNhcFVzaGVsbEFuY2hvck5hdmlnYXRpb25CYXJJdGVtc1Njcm9sbCI6Ii5zYXBVc2hlbGxBbmNob3JOYXZpZ2F0aW9uQmFySXRlbXMiKTtjLnN0b3AoKTt0aGlzLnRhYkJhckFycm93Q29sbGlzaW9uUmlnaHQ9ZmFsc2U7dGhpcy50YWJCYXJBcnJvd0NvbGxpc2lvbkxlZnQ9ZmFsc2U7fSxfdG9nZ2xlVGFiQmFyT3ZlcmZsb3dBcnJvd3M6ZnVuY3Rpb24ocyl7dmFyIGM9cSgiLnNhcFVzaGVsbEFuY2hvclJpZ2h0T3ZlckZsb3dCdXR0b24iKSxkPXEoIi5zYXBVc2hlbGxBbmNob3JMZWZ0T3ZlckZsb3dCdXR0b24iKTtkLnRvZ2dsZUNsYXNzKCJzYXBVc2hlbGxUYWJCYXJPdmVyZmxvd0J1dHRvbiIscyk7Yy50b2dnbGVDbGFzcygic2FwVXNoZWxsVGFiQmFyT3ZlcmZsb3dCdXR0b24iLHMpO30sX2dldFRhYkJhckhvdmVySXRlbTpmdW5jdGlvbihtLHQpe3ZhciBuLGwsaCxULEg7bD1xKCIuc2FwVXNoZWxsQW5jaG9ySXRlbTpub3QoLnNhcFVzaGVsbFNoZWxsSGlkZGVuKSIpLmVxKDApLm9mZnNldCgpLmxlZnQ7aWYobS1sPD0wKXtyZXR1cm47fW49TWF0aC5yb3VuZCgobS1sKS8xMCk7aWYobj49dC5sZW5ndGgpe249dC5sZW5ndGgtMTt9aD10W25dO1Q9cSgiLnNhcFVzaGVsbEFuY2hvckl0ZW0iKTtIPVRbaF07cmV0dXJuIEg7fSxyZW1vdmVFeGNsdWRlZEVsZW1lbnRzRnJvbU1hdHJpeDpmdW5jdGlvbihlKXtpZighZS5sZW5ndGgpe3JldHVybjt9aWYoIXRoaXMubWF0cml4KXtyZXR1cm47fXZhciBuPXRoaXMubWF0cml4Lm1hcChmdW5jdGlvbihyKXtyZXR1cm4gci5tYXAoZnVuY3Rpb24oaSl7dmFyIGM9ZS5zb21lKGZ1bmN0aW9uKGQpe3JldHVybiBpIGluc3RhbmNlb2YgZDt9KTtyZXR1cm4oYyk/dW5kZWZpbmVkOmk7fSk7fSk7dGhpcy5zZXRNYXRyaXgobik7fSxzZXRFeGNsdWRlZENvbnRyb2w6ZnVuY3Rpb24oYyl7aWYoYyl7dGhpcy5hRXhjbHVkZWRDb250cm9sQ2xhc3MucHVzaChjKTt9fSxzZXRSZW9yZGVyVGlsZXNDYWxsYmFjazpmdW5jdGlvbihmKXtpZih0eXBlb2YgZj09PSJmdW5jdGlvbiIpe3RoaXMucmVvcmRlckVsZW1lbnRzQ2FsbGJhY2s9Zjt9fX07dmFyIEw9ZnVuY3Rpb24oKXt9O0wucHJvdG90eXBlPXtfaW5pdERlZmVycmVkOnEuRGVmZXJyZWQoKSxpbml0OmZ1bmN0aW9uKGMpe3ZhciB0PWZ1bmN0aW9uKCl7dmFyIHM9dGhpcy5nZXRTdHlsZUluZm8odGhpcy5jb250YWluZXIpO2lmKHMudGlsZVdpZHRoPjApe3RoaXMuaXNJbml0ZWQ9dHJ1ZTt0aGlzLnJlUmVuZGVyR3JvdXBzTGF5b3V0KCk7dGhpcy5sYXlvdXRFbmdpbmU9bmV3IGEoe3RoaXNMYXlvdXQ6dGhpc30pO3RoaXMuX2luaXREZWZlcnJlZC5yZXNvbHZlKCk7cmV0dXJuO31zZXRUaW1lb3V0KHQsMTAwKTt9LmJpbmQodGhpcyk7dGhpcy5jZmc9Y3x8dGhpcy5jZmc7dGhpcy5taW5UaWxlc2luUm93PTI7dGhpcy5jb250YWluZXI9dGhpcy5jZmcuY29udGFpbmVyfHxkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZGFzaGJvYXJkR3JvdXBzIik7dGhpcy5vVGFiQmFySXRlbUNsaWNrVGltZXI9bmV3IERhdGUoKTt0aGlzLmJUYWJCYXJNb2RlQWN0aXZlPWZhbHNlO3RoaXMuYk9uVGFiQmFyRWxlbWVudD1mYWxzZTt0KCk7c2FwLnVpLmdldENvcmUoKS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSgibGF1bmNocGFkIiwidGFiQmFyQ2hhbmdlIix0aGlzLl9vblRhYkJhckNoYW5nZSx0aGlzKTtyZXR1cm4gdGhpcy5nZXRJbml0UHJvbWlzZSgpO30sc2V0T25UYWJCYXJFbGVtZW50OmZ1bmN0aW9uKG8pe3RoaXMuYk9uVGFiQmFyRWxlbWVudD1vO30saXNPblRhYkJhckVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iT25UYWJCYXJFbGVtZW50O30sX29uVGFiQmFyQ2hhbmdlOmZ1bmN0aW9uKGMsZSxkKXtpZihkPT09InRhYnMiKXt0aGlzLmJUYWJCYXJNb2RlQWN0aXZlPXRydWU7fWVsc2V7dGhpcy5iVGFiQmFyTW9kZUFjdGl2ZT1mYWxzZTt9fSx0YWJCYXJUaWxlRHJvcHBlZDpmdW5jdGlvbigpe2lmKHRoaXMub1RhYkJhckl0ZW1DbGlja1RpbWVyKXtjbGVhclRpbWVvdXQodGhpcy5vVGFiQmFySXRlbUNsaWNrVGltZXIpO319LGdldEluaXRQcm9taXNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2luaXREZWZlcnJlZC5wcm9taXNlKCk7fSxnZXRMYXlvdXRFbmdpbmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sYXlvdXRFbmdpbmU7fSxnZXRTdHlsZUluZm86ZnVuY3Rpb24oYyl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksZD1jLmdldEF0dHJpYnV0ZSgiaWQiKTtjPWQ/ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZCk6Yzt0LmNsYXNzTmFtZT0ic2FwVXNoZWxsVGlsZSI7dmFyIHM9Qy5sYXN0KCIvY29yZS9ob21lL3NpemVCZWhhdmlvciIpO2lmKHM9PT0iU21hbGwiKXt0LmNsYXNzTGlzdC5hZGQoInNhcFVzaGVsbFNtYWxsIik7fXQuc2V0QXR0cmlidXRlKCJzdHlsZSIsInBvc2l0aW9uOiBhYnNvbHV0ZTsgdmlzaWJpbGl0eTogaGlkZGVuOyIpO2MuYXBwZW5kQ2hpbGQodCk7dmFyIGU9d2luZG93LmdldENvbXB1dGVkU3R5bGUodCk7dmFyIGk9eyJ0aWxlTWFyZ2luSGVpZ2h0IjpwYXJzZUZsb2F0KGUubWFyZ2luQm90dG9tLDEwKStwYXJzZUZsb2F0KGUubWFyZ2luVG9wLDEwKSwidGlsZU1hcmdpbldpZHRoIjpwYXJzZUZsb2F0KGUubWFyZ2luTGVmdCwxMCkrcGFyc2VGbG9hdChlLm1hcmdpblJpZ2h0LDEwKSwidGlsZVdpZHRoIjp0Lm9mZnNldFdpZHRoLCJ0aWxlSGVpZ2h0Ijp0Lm9mZnNldEhlaWdodCwiY29udGFpbmVyV2lkdGgiOmMub2Zmc2V0V2lkdGgtKGMuc3R5bGUubWFyZ2luTGVmdD9wYXJzZUZsb2F0KGMuc3R5bGUubWFyZ2luTGVmdCwxMCk6MCl9O3QucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KTtyZXR1cm4gaTt9LGdldEdyb3VwczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNmZy5nZXRHcm91cHMoKTt9LGdldEFsbEdyb3VwczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNmZy5nZXRBbGxHcm91cHM/dGhpcy5jZmcuZ2V0QWxsR3JvdXBzKCk6W107fSxpc1RhYkJhckFjdGl2ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNmZy5pc1RhYkJhckFjdGl2ZT90aGlzLmNmZy5pc1RhYkJhckFjdGl2ZSgpOmZhbHNlO30sZ2V0VGlsZXNJblJvdzpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRpbGVzSW5Sb3c7fSxzZXRUaWxlc0luUm93OmZ1bmN0aW9uKHQpe3RoaXMudGlsZXNJblJvdz10O30sY2hlY2tQbGFjZUZvclRpbGU6ZnVuY3Rpb24odCxtLGMsbCxpKXtpZih0eXBlb2YgbVtjLnldPT09InVuZGVmaW5lZCIpe20ucHVzaChuZXcgQXJyYXkobVswXS5sZW5ndGgpKTt9aWYodHlwZW9mIG1bYy55KzFdPT09InVuZGVmaW5lZCIpe20ucHVzaChuZXcgQXJyYXkobVswXS5sZW5ndGgpKTt9aWYodHlwZW9mIG1bYy55XVtjLnhdIT09InVuZGVmaW5lZCIpe3JldHVybiBmYWxzZTt9dmFyIHA9cS5leHRlbmQoe30sYyk7aWYoaXx8KHQmJnQuZ2V0TG9uZyYmIXQuZ2V0TG9uZygpKSl7cmV0dXJuW3BdO312YXIgZD1bcF07aWYodCYmdC5nZXRMb25nJiZ0LmdldExvbmcoKSl7aWYoKGMueCsxKT49bVswXS5sZW5ndGh8fCh0eXBlb2YgbVtwLnldW3AueCsxXSE9PSJ1bmRlZmluZWQiKSl7cmV0dXJuIGZhbHNlO31kLnB1c2goe3k6cC55LHg6cC54KzF9KTt9cmV0dXJuIGQ7fSxwbGFjZVRpbGU6ZnVuY3Rpb24odCxtLGMpe2Zvcih2YXIgaT0wO2k8Yy5sZW5ndGg7aSsrKXttW2NbaV0ueV1bY1tpXS54XT10O319LGdldFRpbGVQb3NpdGlvbkluTWF0cml4OmZ1bmN0aW9uKHQsbSl7Zm9yKHZhciByPTA7cjxtLmxlbmd0aDtyKyspe2Zvcih2YXIgYz0wO2M8bVswXS5sZW5ndGg7YysrKXtpZihtW3JdW2NdPT10KXtyZXR1cm57cm93OnIsY29sOmN9O319fXJldHVybiBmYWxzZTt9LGZpbGxSb3dzSW5MaW5lOmZ1bmN0aW9uKG0sdCxyLGkpe2lmKCF0Lmxlbmd0aCl7cmV0dXJuIDA7fXZhciBjO2Zvcih2YXIgaj0wO2o8bVswXS5sZW5ndGgmJnQubGVuZ3RoO2orKyl7Yz10aGlzLmNoZWNrUGxhY2VGb3JUaWxlKHRbMF0sbSx7eDpqLHk6cn0saSk7aWYoYyl7dGhpcy5wbGFjZVRpbGUodFswXSxtLGMpO3Quc2hpZnQoKTt9fX0sb3JnYW5pemVHcm91cDpmdW5jdGlvbih0LEkpe3ZhciBjPXQuc2xpY2UoMCk7dmFyIGQ9W107dmFyIGU9MDtkLnB1c2gobmV3IEFycmF5KEk/TWF0aC5mbG9vcih0aGlzLnRpbGVzSW5Sb3cvMik6dGhpcy50aWxlc0luUm93KSk7d2hpbGUoYy5sZW5ndGgpe3RoaXMuZmlsbFJvd3NJbkxpbmUoZCxjLGUsSSk7ZSsrO31pZih0aGlzLnJpZ2h0VG9MZWZ0KXtmb3IodmFyIGk9MDtpPGQubGVuZ3RoO2krKyl7ZFtpXS5yZXZlcnNlKCk7fX1kPXRoaXMuY2xlYW5Sb3dzKGQpO3JldHVybiBkO30sY2xlYW5Sb3dzOmZ1bmN0aW9uKHQpe3ZhciBkPWZhbHNlO2Zvcih2YXIgcj10Lmxlbmd0aC0xO3I+MCYmIWQ7ci0tKXtmb3IodmFyIGM9MDtjPHRbcl0ubGVuZ3RoJiYhZDtjKyspe2lmKHR5cGVvZiB0W3JdW2NdPT09Im9iamVjdCIpe2Q9dHJ1ZTt9fWlmKCFkKXt0LnBvcCgpO319cmV0dXJuIHQ7fSxzZXRHcm91cHNMYXlvdXQ6ZnVuY3Rpb24oZyxtKXtpZihnLmdldElzR3JvdXBMb2NrZWQoKSYmbS5sZW5ndGg+MCl7dmFyIHA9Zy5nZXREb21SZWYoKS5wYXJlbnRFbGVtZW50O2cuZ2V0RG9tUmVmKCkuc3R5bGUud2lkdGg9IiI7cC5zdHlsZS53aWR0aD0iIjtwLnN0eWxlLmRpc3BsYXk9IiI7fX0sY2FsY1RpbGVzSW5Sb3c6ZnVuY3Rpb24oYyx0LGQpe3ZhciBlPU1hdGguZmxvb3IoYy8odCtkKSk7ZT0oZTx0aGlzLm1pblRpbGVzaW5Sb3c/dGhpcy5taW5UaWxlc2luUm93OmUpO3JldHVybiBlO30sZ2V0R3JvdXBUaWxlczpmdW5jdGlvbihnKXt2YXIgdD1nLmdldFRpbGVzKCk7aWYoZy5nZXRTaG93UGxhY2Vob2xkZXIoKSl7dC5wdXNoKGcub1BsdXNUaWxlKTt9cmV0dXJuIHQ7fSxyZVJlbmRlckdyb3Vwc0xheW91dDpmdW5jdGlvbihnKXtpZighdGhpcy5pc0luaXRlZCl7cmV0dXJuO312YXIgcz10aGlzLmdldFN0eWxlSW5mbyh0aGlzLmNvbnRhaW5lcik7aWYoIXMudGlsZVdpZHRoKXtyZXR1cm47fXRoaXMuc3R5bGVJbmZvPXM7dGhpcy50aWxlc0luUm93PXRoaXMuY2FsY1RpbGVzSW5Sb3cocy5jb250YWluZXJXaWR0aCxzLnRpbGVXaWR0aCxzLnRpbGVNYXJnaW5XaWR0aCk7Zz1nfHx0aGlzLmdldEdyb3VwcygpO2Zvcih2YXIgaT0wO2k8Zy5sZW5ndGg7aSsrKXtpZihnW2ldLmdldERvbVJlZiYmIWdbaV0uZ2V0RG9tUmVmKCkpe2NvbnRpbnVlO312YXIgdD10aGlzLmdldEdyb3VwVGlsZXMoZ1tpXSk7dmFyIGM9dGhpcy5vcmdhbml6ZUdyb3VwKHQpO3RoaXMuc2V0R3JvdXBzTGF5b3V0KGdbaV0sYyk7fX0sY2FsY1RyYW5zbGF0ZTpmdW5jdGlvbihyLGMpe3RoaXMuc3R5bGVJbmZvPXRoaXMuZ2V0U3R5bGVJbmZvKHRoaXMuY29udGFpbmVyKTt2YXIgdD1jKih0aGlzLnN0eWxlSW5mby50aWxlV2lkdGgrdGhpcy5zdHlsZUluZm8udGlsZU1hcmdpbldpZHRoKTt2YXIgZD1yKih0aGlzLnN0eWxlSW5mby50aWxlSGVpZ2h0K3RoaXMuc3R5bGVJbmZvLnRpbGVNYXJnaW5IZWlnaHQpO2lmKHRoaXMubGF5b3V0RW5naW5lLnJpZ2h0VG9MZWZ0KXt0PS10O31yZXR1cm57eDp0LHk6ZH07fX07dmFyIGI9bmV3IEwoKTtyZXR1cm4gYjt9LHRydWUpOwpzYXAudWkucHJlZGVmaW5lKCdzYXAvdXNoZWxsL1VJQWN0aW9uc1dpbjgnLFsic2FwL3VpL0RldmljZSIsInNhcC91aS90aGlyZHBhcnR5L2pxdWVyeSJdLGZ1bmN0aW9uKEQscSl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIG4oKXt9dmFyIFU9ZnVuY3Rpb24oKXt9O1UucHJvdG90eXBlPXtpbml0OmZ1bmN0aW9uKGMpe3RoaXMuY2ZnPWM7dGhpcy50eXBlPXRoaXMuY2ZnLnR5cGU7dGhpcy53cmFwcGVyPXEoYy53cmFwcGVyU2VsZWN0b3IpLmdldCgwKTt0aGlzLmNvbnRhaW5lcj1xKGMuY29udGFpbmVyU2VsZWN0b3IpLmdldCgwKTt0aGlzLmRyYWdBbmRTY3JvbGxDYWxsYmFjaz1jLmRyYWdBbmRTY3JvbGxDYWxsYmFja3x8bjt0aGlzLmRyYWdBbmRTY3JvbGxEdXJhdGlvbj0xMDA7dGhpcy5kcmFnQ2FsbGJhY2s9Yy5kcmFnQ2FsbGJhY2t8fG47dGhpcy5kcmFnZ2FibGVTZWxlY3Rvcj1jLmRyYWdnYWJsZVNlbGVjdG9yO3RoaXMuZW5kQ2FsbGJhY2s9dHlwZW9mIGMuZW5kQ2FsbGJhY2s9PT0iZnVuY3Rpb24iP2MuZW5kQ2FsbGJhY2s6bjt0aGlzLm9uQmVmb3JlQ3JlYXRlQ2xvbmU9Yy5vbkJlZm9yZUNyZWF0ZUNsb25lfHxuO3RoaXMucGxhY2VIb2xkZXJDbGFzcz1jLnBsYWNlSG9sZGVyQ2xhc3N8fCIiO3RoaXMuY2xvbmVDbGFzcz1jLmNsb25lQ2xhc3N8fCIiO3RoaXMuJHJvb3Q9cShjLnJvb3RTZWxlY3Rvcik7dGhpcy5zdGFydENhbGxiYWNrPXR5cGVvZiBjLnN0YXJ0Q2FsbGJhY2s9PT0iZnVuY3Rpb24iP2Muc3RhcnRDYWxsYmFjazpuO3RoaXMub25EcmFnU3RhcnRVSUhhbmRsZXI9dHlwZW9mIGMub25EcmFnU3RhcnRVSUhhbmRsZXI9PT0iZnVuY3Rpb24iP2Mub25EcmFnU3RhcnRVSUhhbmRsZXI6bjt0aGlzLm9uRHJhZ0VuZFVJSGFuZGxlcj10eXBlb2YgYy5vbkRyYWdFbmRVSUhhbmRsZXI9PT0iZnVuY3Rpb24iP2Mub25EcmFnRW5kVUlIYW5kbGVyOm47dGhpcy5fcHVibGlzaEFzeW5jPXR5cGVvZiBjLl9wdWJsaXNoQXN5bmM9PT0iZnVuY3Rpb24iP2MuX3B1Ymxpc2hBc3luYzpuO30sZW5hYmxlOmZ1bmN0aW9uKCl7aWYodGhpcy5lbmFibGVkKXtyZXR1cm4gdGhpczt9dGhpcy5lbmFibGVkPXRydWU7dGhpcy4kcm9vdC5vbigiZHJhZ3N0YXJ0Iix0aGlzLmRyYWdnYWJsZVNlbGVjdG9yLHRoaXMsdGhpcy5kcmFnU3RhcnRIYW5kbGVyKS5vbigiZHJhZ2VuZCIsdGhpcy5kcmFnZ2FibGVTZWxlY3Rvcix0aGlzLHRoaXMuZHJhZ0VuZEhhbmRsZXIpO3JldHVybiB0aGlzO30sZGlzYWJsZTpmdW5jdGlvbiBkaXNhYmxlKCl7dGhpcy5lbmFibGVkPWZhbHNlO3RoaXMuJHJvb3Qub2ZmKCJkcmFnc3RhcnQiLHRoaXMuZHJhZ2dhYmxlU2VsZWN0b3IpLm9mZigiZHJhZ2VuZCIsdGhpcy5kcmFnZ2FibGVTZWxlY3Rvcik7cmV0dXJuIHRoaXM7fSxkcmFnTGVhdmVIYW5kbGVyOmZ1bmN0aW9uKGUpe3ZhciBjPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGUuZGF0YS5jb250YWluZXIpLnRyYW5zZm9ybTtlLmRhdGEuY29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybT1jO2UuZGF0YS5jb250YWluZXIuc3R5bGUudHJhbnNpdGlvbj0iIjt2YXIgdDt2YXIgYj1jLnNwbGl0KCIsIik7aWYoYy5zdWJzdHIoMCw4KT09Im1hdHJpeDNkIil7dD1wYXJzZUludChiWzEzXSwxMCk7fWVsc2UgaWYoYy5zdWJzdHIoMCw2KT09Im1hdHJpeCIpe3Q9cGFyc2VJbnQoYls1XSwxMCk7fWlmKGlzTmFOKHQpKXtyZXR1cm47fWUuZGF0YS5jb250YWluZXIuc3R5bGUudHJhbnNmb3JtPSJub25lIjtlLmRhdGEud3JhcHBlci5zY3JvbGxUb3ArPX50KzE7fSxkcmFnRW50ZXJTY3JvbGxIYW5kbGVyOmZ1bmN0aW9uIGRyYWdFbnRlclNjcm9sbEhhbmRsZXIoZSl7aWYoZS50YXJnZXQ9PWUuZGF0YS4kYm90dG9tU2Nyb2xsZXIuZ2V0KDApKXtlLmRhdGEuc3RhcnRTY3JvbGwoImRvd24iKTt9aWYoZS50YXJnZXQ9PWUuZGF0YS4kdG9wU2Nyb2xsZXIuZ2V0KDApKXtlLmRhdGEuc3RhcnRTY3JvbGwoInVwIik7fX0sc3RhcnRTY3JvbGw6ZnVuY3Rpb24oZCl7dmFyIGw7aWYoZD09InVwIil7bD10aGlzLndyYXBwZXIuc2Nyb2xsVG9wO2lmKGw8PTApe3JldHVybjt9fWVsc2V7bD10aGlzLndyYXBwZXIuc2Nyb2xsSGVpZ2h0LXRoaXMud3JhcHBlci5vZmZzZXRIZWlnaHQtdGhpcy53cmFwcGVyLnNjcm9sbFRvcDtpZihsPD0wKXtyZXR1cm47fX12YXIgcz1sKjM7dmFyIHQ9KGQ9PSJ1cCIpP2w6fmwrMTt0aGlzLmNvbnRhaW5lci5zdHlsZS50cmFuc2l0aW9uPSJ0cmFuc2Zvcm0gIitzKyJtcyBsaW5lYXIiO3RoaXMuY29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybT0idHJhbnNsYXRlKDBweCwgIit0KyJweCkgc2NhbGUoMSkgdHJhbnNsYXRlWigwcHgpIjt9LGluaXRTY3JvbGxSZWdpb25zOmZ1bmN0aW9uKCl7dGhpcy4kdG9wU2Nyb2xsZXI9cSgiPGRpdiBjbGFzcz0nVWlBY3Rpb25zVG9wU2Nyb2xsZXInIHN0eWxlPSdwb3NpdGlvbjphYnNvbHV0ZTsgdG9wOiAwOyBoZWlnaHQ6IDcwcHg7IGxlZnQ6MDsgcmlnaHQ6MDsnPjwvZGl2PiIpO3RoaXMuJGJvdHRvbVNjcm9sbGVyPXEoIjxkaXYgY2xhc3M9J1VpQWN0aW9uc0JvdHRvbVNjcm9sbGVyJyBzdHlsZT0ncG9zaXRpb246YWJzb2x1dGU7IGJvdHRvbTogMDsgaGVpZ2h0OiA3MHB4OyBsZWZ0OjA7IHJpZ2h0OjA7Jz48L2Rpdj4iKTtxKGRvY3VtZW50LmJvZHkpLmFwcGVuZCh0aGlzLiR0b3BTY3JvbGxlcikuYXBwZW5kKHRoaXMuJGJvdHRvbVNjcm9sbGVyKTt0aGlzLiR0b3BTY3JvbGxlci5hZGQodGhpcy4kYm90dG9tU2Nyb2xsZXIpLm9uKCJkcmFnZW50ZXIiLHRoaXMsdGhpcy5kcmFnRW50ZXJTY3JvbGxIYW5kbGVyKS5vbigiZHJhZ2xlYXZlIix0aGlzLHRoaXMuZHJhZ0xlYXZlSGFuZGxlcik7fSxyZW1vdmVTY3JvbGxSZWdpb25zOmZ1bmN0aW9uKCl7cSgiLlVpQWN0aW9uc1RvcFNjcm9sbGVyLCAuVWlBY3Rpb25zQm90dG9tU2Nyb2xsZXIiKS5yZW1vdmUoKTt9fTtmdW5jdGlvbiBHKGMpe3RoaXMuaW5pdChjKTt9Ry5wcm90b3R5cGU9bmV3IFUoKTtxLmV4dGVuZChHLnByb3RvdHlwZSx7ZHJhZ092ZXJUaW1lb3V0Om51bGwsZHJhZ1N0YXJ0SGFuZGxlcjpmdW5jdGlvbihlKXt2YXIgXz1lLmRhdGE7aWYoRC5zeXN0ZW0ucGhvbmUpe18uJHJvb3QuZmluZCgiLnNhcFVzaGVsbFRpbGVzQ29udGFpbmVyLXNvcnRhYmxlIikuYWRkQ2xhc3MoInNhcFVzaGVsbFRpbGVDb250YWluZXJSZW1vdmVDb250ZW50Iik7Xy4kcm9vdC5maW5kKCIuc2FwVXNoZWxsVGlsZUNvbnRhaW5lckJlZm9yZUNvbnRlbnQiKS5hZGRDbGFzcygic2FwVXNoZWxsVGlsZUNvbnRhaW5lclJlbW92ZUNvbnRlbnQiKTtfLiRyb290LmZpbmQoIi5zYXBVc2hlbGxDb250YWluZXJIZWFkZXJBY3Rpb25zIikuYWRkQ2xhc3MoInNhcFVzaGVsbFRpbGVDb250YWluZXJIaWRkZW4iKTt9ZWxzZXtfLiRyb290LmZpbmQoIi5zYXBVc2hlbGxUaWxlQ29udGFpbmVyQmVmb3JlQ29udGVudCIpLmFkZENsYXNzKCJzYXBVc2hlbGxUaWxlQ29udGFpbmVySGlkZGVuIik7fV8uJG9yaWdpbmFsRWxlbWVudD1xKGUudGFyZ2V0KS5jbG9zZXN0KCIuc2FwVXNoZWxsRGFzaGJvYXJkR3JvdXBzQ29udGFpbmVySXRlbSIpO18ub3JpZ2luYWxJbmRleD1fLiRvcmlnaW5hbEVsZW1lbnQuaW5kZXgoKTtfLiRlbGVtZW50PV8uJG9yaWdpbmFsRWxlbWVudC5jbG9uZSgpLmNzcygiZGlzcGxheSIsIm5vbmUiKS5hZGRDbGFzcygic2FwVXNoZWxsRGFzaGJvYXJkR3JvdXBzQ29udGFpbmVySXRlbS1wbGFjZWhvbGRlciIpO18uJGVsZW1lbnQuaW5zZXJ0QWZ0ZXIoXy4kb3JpZ2luYWxFbGVtZW50KTtfLiRvcmlnaW5hbEVsZW1lbnQuYWRkQ2xhc3MoInNhcFVzaGVsbERhc2hib2FyZEdyb3Vwc0NvbnRhaW5lckl0ZW0tb3JpZ25hbCIpO18uJHJvb3QuZmluZCgiLnNhcFVzaGVsbFRpbGVDb250YWluZXJBZnRlckNvbnRlbnQiKS5sYXN0KCkuYWRkQ2xhc3MoInNhcFVzaGVsbFRpbGVDb250YWluZXJSZW1vdmVDb250ZW50Iik7Xy5pbml0U2Nyb2xsUmVnaW9ucygpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtfLiRvcmlnaW5hbEVsZW1lbnQuY3NzKCJkaXNwbGF5Iiwibm9uZSIpO18uJGVsZW1lbnQuY3NzKCJkaXNwbGF5IiwiYmxvY2siKTt9LDApO18uJHJvb3Qub24oImRyYWdvdmVyIiwiLnNhcFVzaGVsbERhc2hib2FyZEdyb3Vwc0NvbnRhaW5lckl0ZW06bm90KC5zYXBVc2hlbGxEaXNhYmxlRHJhZ0FuZERyb3ApIixfLF8uZHJhZ092ZXJIYW5kbGVyKTt9LGRyYWdFbmRIYW5kbGVyOmZ1bmN0aW9uKGUpe3ZhciBfPWUuZGF0YTtfLnJlbW92ZVNjcm9sbFJlZ2lvbnMoKTtfLiRyb290Lm9mZigiZHJhZ292ZXIiLCIuc2FwVXNoZWxsRGFzaGJvYXJkR3JvdXBzQ29udGFpbmVySXRlbTpub3QoLnNhcFVzaGVsbERpc2FibGVEcmFnQW5kRHJvcCkiKTtfLiRyb290LmZpbmQoIi5zYXBVc2hlbGxUaWxlc0NvbnRhaW5lci1zb3J0YWJsZSIpLnJlbW92ZUNsYXNzKCJzYXBVc2hlbGxUaWxlQ29udGFpbmVyUmVtb3ZlQ29udGVudCIpO18uJHJvb3QuZmluZCgiLnNhcFVzaGVsbFRpbGVDb250YWluZXJCZWZvcmVDb250ZW50IikucmVtb3ZlQ2xhc3MoInNhcFVzaGVsbFRpbGVDb250YWluZXJSZW1vdmVDb250ZW50Iik7Xy4kcm9vdC5maW5kKCIuc2FwVXNoZWxsQ29udGFpbmVySGVhZGVyQWN0aW9ucyIpLnJlbW92ZUNsYXNzKCJzYXBVc2hlbGxUaWxlQ29udGFpbmVySGlkZGVuIik7Xy4kcm9vdC5maW5kKCIuc2FwVXNoZWxsVGlsZUNvbnRhaW5lckJlZm9yZUNvbnRlbnQiKS5yZW1vdmVDbGFzcygic2FwVXNoZWxsVGlsZUNvbnRhaW5lckhpZGRlbiIpO18uJGVsZW1lbnQucmVwbGFjZVdpdGgoXy4kb3JpZ2luYWxFbGVtZW50KTt2YXIgYj1fLiRvcmlnaW5hbEVsZW1lbnQuaW5kZXgoKTtfLiRvcmlnaW5hbEVsZW1lbnQuY3NzKCJkaXNwbGF5IiwiYmxvY2siKS5yZW1vdmVDbGFzcygic2FwVXNoZWxsRGFzaGJvYXJkR3JvdXBzQ29udGFpbmVySXRlbS1vcmlnbmFsIik7dmFyIEI9c2FwLnVpLmdldENvcmUoKS5nZXRFdmVudEJ1cygpLGY9Xy4kb3JpZ2luYWxFbGVtZW50LmNoaWxkcmVuKCkuZXEoMCkuYXR0cigiaWQiKSxnPXNhcC51aS5nZXRDb3JlKCkuYnlJZChmKSxkPXNhcC51aS5nZXRDb3JlKCkuYnlJZCgiZGFzaGJvYXJkR3JvdXBzIiksbz17Z3JvdXA6Zyxncm91cENoYW5nZWQ6ZmFsc2UsZm9jdXM6ZmFsc2V9O2QucmVtb3ZlQWdncmVnYXRpb24oImdyb3VwcyIsZyx0cnVlKTtkLmluc2VydEFnZ3JlZ2F0aW9uKCJncm91cHMiLGcsYix0cnVlKTtfLl9wdWJsaXNoQXN5bmMoImxhdW5jaHBhZCIsIm1vdmVHcm91cCIse2Zyb21JbmRleDpfLm9yaWdpbmFsSW5kZXgsdG9JbmRleDpifSk7d2luZG93LnNldFRpbWVvdXQocS5wcm94eShCLnB1Ymxpc2gsQiwibGF1bmNocGFkIiwic2Nyb2xsVG9Hcm91cCIsbyksMSk7fSxkcmFnT3ZlckhhbmRsZXI6ZnVuY3Rpb24gZHJhZ092ZXJIYW5kbGVyKGUpe2lmKGUuZGF0YS5kcmFnT3ZlclRpbWVvdXQpe3JldHVybjt9ZS5kYXRhLmRyYWdPdmVyVGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5kYXRhLmRyYWdPdmVyVGltZW91dD1udWxsO3ZhciBvPWUuY3VycmVudFRhcmdldDtpZihlLmRhdGEuJGVsZW1lbnQuZ2V0KDApPT09byl7cmV0dXJuO312YXIgYj1lLmRhdGEuaXNPdmVyQWJvdmVNaWRkbGUobyxlLm9yaWdpbmFsRXZlbnQucGFnZVkpO2lmKG89PT1lLmRhdGEub3ZlckVsZW1lbnQmJmI9PT1lLmRhdGEub3ZlckFib3ZlTWlkZGxlKXtyZXR1cm47fWUuZGF0YS5vdmVyRWxlbWVudD1vO2UuZGF0YS5vdmVyQWJvdmVNaWRkbGU9YjtlLmRhdGEubW92ZVBsYWNlaG9sZGVyKGUuZGF0YS4kZWxlbWVudCxvLGIpO30sNTApO30saXNPdmVyQWJvdmVNaWRkbGU6ZnVuY3Rpb24oZSxwKXt2YXIgbT10cnVlO3ZhciByPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aWYoci50b3Arci5oZWlnaHQvMjxwKXttPWZhbHNlO31yZXR1cm4gbTt9LG1vdmVQbGFjZWhvbGRlcjpmdW5jdGlvbihwLGUsaSl7aWYoaSl7cShwKS5pbnNlcnRCZWZvcmUocShlKSk7fWVsc2V7cShwKS5pbnNlcnRBZnRlcihxKGUpKTt9fX0pO2Z1bmN0aW9uIFQoYyl7dGhpcy5pbml0KGMpO31ULnByb3RvdHlwZT1uZXcgVSgpO3EuZXh0ZW5kKFQucHJvdG90eXBlLHtkcmFnT3ZlclRpbWVvdXQ6bnVsbCxkcmFnU3RhcnRIYW5kbGVyOmZ1bmN0aW9uIGRyYWdTdGFydEhhbmRsZXIoZSl7dmFyIF89ZS5kYXRhO2lmKCFlLnRhcmdldC5pZCl7ZS50YXJnZXQ9cShlLnRhcmdldCkuY2xvc2VzdCgiLnNhcFVzaGVsbFRpbGUiKVswXTt9Xy5lbGVtZW50PWUudGFyZ2V0O18uJHJvb3Qub24oImRyYWdlbnRlciIsXy5kcmFnZ2FibGVTZWxlY3RvcisiLCAuc2FwVXNoZWxsVGlsZUNvbnRhaW5lciIsXyxfLmRyYWdFbnRlclRpbGVIYW5kbGVyKTt2YXIgaT1lLnRhcmdldC5nZXRBdHRyaWJ1dGUoImlkIik7Xy5vVGlsZT1zYXAudWkuZ2V0Q29yZSgpLmJ5SWQoaSk7Xy5vVGlsZS5hZGRTdHlsZUNsYXNzKF8uY2xvbmVDbGFzcyk7aWYoXy5vVGlsZS5nZXRQYXJlbnQoKS5nZXRJc0dyb3VwTG9ja2VkKCkpe18ub25EcmFnU3RhcnRVSUhhbmRsZXIoKTtlLnByZXZlbnREZWZhdWx0KCk7dmFyIG09ZnVuY3Rpb24gbSgpe18ub25EcmFnRW5kVUlIYW5kbGVyKCk7ZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsbSk7fTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZXVwIixtKTtyZXR1cm4gZmFsc2U7fV8uaW5pdFNjcm9sbFJlZ2lvbnMoKTt2YXIgJD1xKGUudGFyZ2V0KS5jbG9uZSgpOyQuYWRkQ2xhc3MoXy5wbGFjZUhvbGRlckNsYXNzKS5jc3MoInotaW5kZXgiLCItMSIpO3ZhciBjPSQuZ2V0KDApO18uJGNsb25lZD0kO3EoZS50YXJnZXQpLmFmdGVyKCQpO18uZ2V0RG9tUmVmT3JpZ2luYWw9Xy5vVGlsZS5nZXREb21SZWY7Xy5vVGlsZS5nZXREb21SZWY9ZnVuY3Rpb24oKXtyZXR1cm4gYzt9O18uc3RhcnRDYWxsYmFjayhlLF8uZWxlbWVudCk7Xy5vbkRyYWdTdGFydFVJSGFuZGxlcigpO18uZHJhZ0NhbGxiYWNrKGUsXy5lbGVtZW50KTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cShlLnRhcmdldCkuY3NzKCJ2aXNpYmlsaXR5IiwiaGlkZGVuIik7fSwwKTt9LGRyYWdFbmRIYW5kbGVyOmZ1bmN0aW9uIGRyYWdFbmRIYW5kbGVyKGUpe3ZhciBfPWUuZGF0YTtfLiRyb290Lm9mZigiZHJhZ2VudGVyIixfLmRyYWdnYWJsZVNlbGVjdG9yKyIsIC5zYXBVc2hlbGxUaWxlQ29udGFpbmVyIixfLmRyYWdFbnRlclRpbGVIYW5kbGVyKTtfLnJlbW92ZVNjcm9sbFJlZ2lvbnMoKTtfLm9UaWxlLmdldERvbVJlZj1fLmdldERvbVJlZk9yaWdpbmFsO18ub1RpbGUucmVtb3ZlU3R5bGVDbGFzcyhfLmNsb25lQ2xhc3MpO3EoXy5lbGVtZW50KS5jc3MoInZpc2liaWxpdHkiLCJ2aXNpYmxlIik7Xy4kY2xvbmVkLnJlbW92ZSgpO18uZW5kQ2FsbGJhY2soZSxfLmVsZW1lbnQpO18ub25EcmFnRW5kVUlIYW5kbGVyKCk7Xy5lbGVtZW50PW51bGw7fSxkcmFnRW50ZXJUaWxlSGFuZGxlcjpmdW5jdGlvbiBkcmFnRW50ZXJUaWxlSGFuZGxlcihlKXtlLnByZXZlbnREZWZhdWx0KCk7aWYodGhpcy50aWxlRHJhZ0VudGVyVGltZW91dCl7d2luZG93LmNsZWFyVGltZW91dCh0aGlzLnRpbGVEcmFnRW50ZXJUaW1lb3V0KTt9dGhpcy50aWxlRHJhZ0VudGVyVGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5kYXRhLmRyYWdPdmVyVGltZW91dD1udWxsO2UuZGF0YS5vdmVyRWxlbWVudD10aGlzO2UuZGF0YS5kcmFnQW5kU2Nyb2xsQ2FsbGJhY2soe21vdmVYOmUub3JpZ2luYWxFdmVudC5wYWdlWCxtb3ZlWTplLm9yaWdpbmFsRXZlbnQucGFnZVl9KTt9LDUwKTt9fSk7ZnVuY3Rpb24gTChjKXt0aGlzLmluaXQoYyk7fUwucHJvdG90eXBlPW5ldyBVKCk7cS5leHRlbmQoTC5wcm90b3R5cGUse2RyYWdPdmVyVGltZW91dDpudWxsLGRyYWdTdGFydEhhbmRsZXI6ZnVuY3Rpb24gZHJhZ1N0YXJ0SGFuZGxlcihlKXt2YXIgXz1lLmRhdGE7aWYoIWUudGFyZ2V0LmlkKXtlLnRhcmdldD1xKGUudGFyZ2V0KS5jbG9zZXN0KCIuc2FwVXNoZWxsTGlua1RpbGUiKVswXTt9Xy5lbGVtZW50PWUudGFyZ2V0O18ub25CZWZvcmVDcmVhdGVDbG9uZShlLF8uZWxlbWVudCk7Xy4kcm9vdC5vbigiZHJhZ2VudGVyIiwiLnNhcFVzaGVsbFRpbGVDb250YWluZXIiLF8sXy5kcmFnRW50ZXJMaW5rSGFuZGxlcik7dmFyIGk9ZS50YXJnZXQuZ2V0QXR0cmlidXRlKCJpZCIpO18ub1RpbGU9c2FwLnVpLmdldENvcmUoKS5ieUlkKGkpO2lmKF8ub1RpbGUuZ2V0UGFyZW50KCkuZ2V0SXNHcm91cExvY2tlZCgpJiZfLm9UaWxlLmdldFBhcmVudCgpLmdldERlZmF1bHRHcm91cCgpKXtlLnByZXZlbnREZWZhdWx0KCk7Xy5vbkRyYWdTdGFydFVJSGFuZGxlcigpO3ZhciBtPWZ1bmN0aW9uIG0oKXtfLm9uRHJhZ0VuZFVJSGFuZGxlcigpO2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIm1vdXNldXAiLG0pO307ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigibW91c2V1cCIsbSk7cmV0dXJuIGZhbHNlO31xKGUudGFyZ2V0KS5hZGRDbGFzcyhfLnBsYWNlSG9sZGVyQ2xhc3MpO18uaW5pdFNjcm9sbFJlZ2lvbnMoKTtfLnN0YXJ0Q2FsbGJhY2soZSxfLmVsZW1lbnQpO18ub25EcmFnU3RhcnRVSUhhbmRsZXIoKTtfLmRyYWdDYWxsYmFjayhlLF8uZWxlbWVudCk7fSxkcmFnRW5kSGFuZGxlcjpmdW5jdGlvbiBkcmFnRW5kSGFuZGxlcihlKXt2YXIgXz1lLmRhdGE7Xy4kcm9vdC5vZmYoImRyYWdlbnRlciIsIi5zYXBVc2hlbGxUaWxlQ29udGFpbmVyIixfLmRyYWdFbnRlckxpbmtIYW5kbGVyKTtfLnJlbW92ZVNjcm9sbFJlZ2lvbnMoKTtxKF8uZWxlbWVudCkuY3NzKCJ2aXNpYmlsaXR5IiwidmlzaWJsZSIpO18uZW5kQ2FsbGJhY2soZSxfLmVsZW1lbnQpO18ub25EcmFnRW5kVUlIYW5kbGVyKCk7Xy5lbGVtZW50PW51bGw7fSxkcmFnRW50ZXJMaW5rSGFuZGxlcjpmdW5jdGlvbiBkcmFnRW50ZXJMaW5rSGFuZGxlcihlKXtlLnByZXZlbnREZWZhdWx0KCk7aWYodGhpcy5saW5rRHJhZ0VudGVyVGltZW91dCl7d2luZG93LmNsZWFyVGltZW91dCh0aGlzLmxpbmtEcmFnRW50ZXJUaW1lb3V0KTt9dGhpcy5saW5rRHJhZ0VudGVyVGltZW91dD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZS5kYXRhLmRyYWdPdmVyVGltZW91dD1udWxsO2UuZGF0YS5vdmVyRWxlbWVudD10aGlzO2UuZGF0YS5kcmFnQW5kU2Nyb2xsQ2FsbGJhY2soe21vdmVYOmUub3JpZ2luYWxFdmVudC5wYWdlWCxtb3ZlWTplLm9yaWdpbmFsRXZlbnQucGFnZVl9KTt9LDEwKTt9fSk7dmFyIGE9e2dldEluc3RhbmNlOmZ1bmN0aW9uKGMpe3N3aXRjaChjLnR5cGUpe2Nhc2UiZ3JvdXBzIjpyZXR1cm4gbmV3IEcoYyk7Y2FzZSJsaW5rcyI6cmV0dXJuIG5ldyBMKGMpO2RlZmF1bHQ6cmV0dXJuIG5ldyBUKGMpO319fTtyZXR1cm4gYTt9LHRydWUpOwpzYXAudWkucHJlZGVmaW5lKCdzYXAvdXNoZWxsL2NvbXBvbmVudHMvdGlsZXMvYXBwbGF1bmNoZXIvU3RhdGljVGlsZS5jb250cm9sbGVyJyxbInNhcC91c2hlbGwvY29tcG9uZW50cy90aWxlcy91dGlscyIsInNhcC91c2hlbGwvY29tcG9uZW50cy90aWxlcy91dGlsc1JUIiwic2FwL3VzaGVsbC9jb21wb25lbnRzL2FwcGxpY2F0aW9uSW50ZWdyYXRpb24vQXBwTGlmZUN5Y2xlIiwic2FwL3VzaGVsbC9Db25maWciLCJzYXAvdXNoZWxsL3NlcnZpY2VzL0FwcFR5cGUiLCJzYXAvbS9saWJyYXJ5Iiwic2FwL3VpL21vZGVsL2pzb24vSlNPTk1vZGVsIiwic2FwL2Jhc2UvTG9nIiwic2FwL3VpL3RoaXJkcGFydHkvanF1ZXJ5Il0sZnVuY3Rpb24odSxhLEEsQyxiLGwsSixMLHEpeyJ1c2Ugc3RyaWN0Ijt2YXIgRz1sLkdlbmVyaWNUaWxlU2NvcGU7dmFyIGM9bC5HZW5lcmljVGlsZU1vZGU7c2FwLnVpLmdldENvcmUoKS5sb2FkTGlicmFyeSgic2FwLm0iKTtzYXAudWkuY29udHJvbGxlcigic2FwLnVzaGVsbC5jb21wb25lbnRzLnRpbGVzLmFwcGxhdW5jaGVyLlN0YXRpY1RpbGUiLHtfYURvYWJsZU9iamVjdDp7fSxvbkluaXQ6ZnVuY3Rpb24oKXt2YXIgcz10aGlzLmdldFZpZXcoKSx2PXMuZ2V0Vmlld0RhdGEoKSx0PXYuY2hpcCxvPWEuZ2V0Q29uZmlndXJhdGlvbih0LHQuY29uZmlndXJhdGlvblVpLmlzRW5hYmxlZCgpLGZhbHNlKSxtLGssSyxkPXRoaXMsTj1vLm5hdmlnYXRpb25fdGFyZ2V0X3VybCxTLFUsaDt0aGlzLm9TaGVsbE1vZGVsPUEuZ2V0RWxlbWVudHNNb2RlbCgpO1M9dC51cmwuZ2V0QXBwbGljYXRpb25TeXN0ZW0oKTtpZihTKXtVPXNhcC51c2hlbGwuQ29udGFpbmVyLmdldFNlcnZpY2UoIlVSTFBhcnNpbmciKTtpZihVLmlzSW50ZW50VXJsKE4pKXtoPVUucGFyc2VTaGVsbEhhc2goTik7aWYoIWgucGFyYW1zKXtoLnBhcmFtcz17fTt9aC5wYXJhbXNbInNhcC1zeXN0ZW0iXT1TO049IiMiK1UuY29uc3RydWN0U2hlbGxIYXNoKGgpO31lbHNle04rPSgoTi5pbmRleE9mKCI/Iik8MCk/Ij8iOiImIikrInNhcC1zeXN0ZW09IitTO319dGhpcy5uYXZpZ2F0aW9uVGFyZ2V0VXJsPU47bT1uZXcgSih7c2l6ZUJlaGF2aW9yOkMubGFzdCgiL2NvcmUvaG9tZS9zaXplQmVoYXZpb3IiKSx3cmFwcGluZ1R5cGU6Qy5sYXN0KCIvY29yZS9ob21lL3dyYXBwaW5nVHlwZSIpLG1vZGU6by5kaXNwbGF5X21vZGV8fGMuQ29udGVudE1vZGUsY29uZmlnOm8sbmF2OntuYXZpZ2F0aW9uX3RhcmdldF91cmw6KHQuY29uZmlndXJhdGlvblVpJiZ0LmNvbmZpZ3VyYXRpb25VaS5pc0VuYWJsZWQoKT8iIjpOKX0sc2VhcmNoOntkaXNwbGF5X2hpZ2hsaWdodF90ZXJtczpbXX19KTtzLnNldE1vZGVsKG0pO3RoaXMuX2FEb2FibGVPYmplY3Q9Qy5vbigiL2NvcmUvaG9tZS9zaXplQmVoYXZpb3IiKS5kbyhmdW5jdGlvbihnKXttLnNldFByb3BlcnR5KCIvc2l6ZUJlaGF2aW9yIixnKTt9KTtpZih0LnR5cGVzKXt0LnR5cGVzLmF0dGFjaFNldFR5cGUoZnVuY3Rpb24oVCl7aWYoZC50aWxlVHlwZSE9VCl7dmFyIG09ZC5nZXRWaWV3KCkuZ2V0TW9kZWwoKTtpZihUPT09ImxpbmsiKXttLnNldFByb3BlcnR5KCIvbW9kZSIsYy5MaW5lTW9kZSk7fWVsc2V7bS5zZXRQcm9wZXJ0eSgiL21vZGUiLG0uZ2V0UHJvcGVydHkoIi9jb25maWcvZGlzcGxheV9tb2RlIil8fGMuQ29udGVudE1vZGUpO31kLnRpbGVUeXBlPVQ7fX0pO31pZighdGhpcy50aWxlVHlwZSl7dGhpcy50aWxlVHlwZT0idGlsZSI7fWlmKHQuc2VhcmNoKXtrPXMuZ2V0TW9kZWwoKS5nZXRQcm9wZXJ0eSgiL2NvbmZpZy9kaXNwbGF5X3NlYXJjaF9rZXl3b3JkcyIpO0s9ay5zcGxpdCgvWywgXSsvKS5maWx0ZXIoZnVuY3Rpb24obil7cmV0dXJuIG4mJm4hPT0iIjt9KTtpZihvLmRpc3BsYXlfdGl0bGVfdGV4dCYmby5kaXNwbGF5X3RpdGxlX3RleHQhPT0iIiYmSy5pbmRleE9mKG8uZGlzcGxheV90aXRsZV90ZXh0KT09PS0xKXtLLnB1c2goby5kaXNwbGF5X3RpdGxlX3RleHQpO31pZihvLmRpc3BsYXlfc3VidGl0bGVfdGV4dCYmby5kaXNwbGF5X3N1YnRpdGxlX3RleHQhPT0iIiYmSy5pbmRleE9mKG8uZGlzcGxheV9zdWJ0aXRsZV90ZXh0KT09PS0xKXtLLnB1c2goby5kaXNwbGF5X3N1YnRpdGxlX3RleHQpO31pZihvLmRpc3BsYXlfaW5mb190ZXh0JiZvLmRpc3BsYXlfaW5mb190ZXh0IT09IiImJksuaW5kZXhPZihvLmRpc3BsYXlfaW5mb190ZXh0KT09PS0xKXtLLnB1c2goby5kaXNwbGF5X2luZm9fdGV4dCk7fXQuc2VhcmNoLnNldEtleXdvcmRzKEspO3Quc2VhcmNoLmF0dGFjaEhpZ2hsaWdodChmdW5jdGlvbihIKXtzLmdldE1vZGVsKCkuc2V0UHJvcGVydHkoIi9zZWFyY2gvZGlzcGxheV9oaWdobGlnaHRfdGVybXMiLEgpO30pO31pZih0LmJhZyYmdC5iYWcuYXR0YWNoQmFnc1VwZGF0ZWQpe3QuYmFnLmF0dGFjaEJhZ3NVcGRhdGVkKGZ1bmN0aW9uKGcpe2lmKGcuaW5kZXhPZigidGlsZVByb3BlcnRpZXMiKT4tMSl7dS5fdXBkYXRlVGlsZVByb3BlcnRpZXNUZXh0cyhzLHQuYmFnLmdldEJhZygidGlsZVByb3BlcnRpZXMiKSk7fX0pO31pZih0LmNvbmZpZ3VyYXRpb24mJnQuY29uZmlndXJhdGlvbi5hdHRhY2hDb25maWd1cmF0aW9uVXBkYXRlZCl7dC5jb25maWd1cmF0aW9uLmF0dGFjaENvbmZpZ3VyYXRpb25VcGRhdGVkKGZ1bmN0aW9uKGcpe2lmKGcuaW5kZXhPZigidGlsZUNvbmZpZ3VyYXRpb24iKT4tMSl7dS5fdXBkYXRlVGlsZUNvbmZpZ3VyYXRpb24ocyx0LmNvbmZpZ3VyYXRpb24uZ2V0UGFyYW1ldGVyVmFsdWVBc1N0cmluZygidGlsZUNvbmZpZ3VyYXRpb24iKSk7fX0pO31pZih0LnByZXZpZXcpe3QucHJldmlldy5zZXRUYXJnZXRVcmwoTik7dC5wcmV2aWV3LnNldFByZXZpZXdJY29uKG8uZGlzcGxheV9pY29uX3VybCk7dC5wcmV2aWV3LnNldFByZXZpZXdUaXRsZShvLmRpc3BsYXlfdGl0bGVfdGV4dCk7aWYodC5wcmV2aWV3LnNldFByZXZpZXdTdWJ0aXRsZSYmdHlwZW9mIHQucHJldmlldy5zZXRQcmV2aWV3U3VidGl0bGU9PT0iZnVuY3Rpb24iKXt0LnByZXZpZXcuc2V0UHJldmlld1N1YnRpdGxlKG8uZGlzcGxheV9zdWJ0aXRsZV90ZXh0KTt9fWlmKHQuY29uZmlndXJhdGlvblVpLmlzRW5hYmxlZCgpKXt0LmNvbmZpZ3VyYXRpb25VaS5zZXRVaVByb3ZpZGVyKGZ1bmN0aW9uKCl7dmFyIGc9dS5nZXRDb25maWd1cmF0aW9uVWkocywic2FwLnVzaGVsbC5jb21wb25lbnRzLnRpbGVzLmFwcGxhdW5jaGVyLkNvbmZpZ3VyYXRpb24iKTt0LmNvbmZpZ3VyYXRpb25VaS5hdHRhY2hDYW5jZWwoZC5vbkNhbmNlbENvbmZpZ3VyYXRpb24uYmluZChudWxsLGcpKTt0LmNvbmZpZ3VyYXRpb25VaS5hdHRhY2hTYXZlKGQub25TYXZlQ29uZmlndXJhdGlvbi5iaW5kKG51bGwsZykpO3JldHVybiBnO30pO3RoaXMuZ2V0VmlldygpLmdldENvbnRlbnQoKVswXS5zZXRUb29sdGlwKHUuZ2V0UmVzb3VyY2VCdW5kbGVNb2RlbCgpLmdldFJlc291cmNlQnVuZGxlKCkuZ2V0VGV4dCgiZWRpdF9jb25maWd1cmF0aW9uLnRvb2x0aXAiKSk7fWlmKHQuYWN0aW9ucyl7dmFyIGU9by5hY3Rpb25zLEU7aWYoZSl7RT1lLnNsaWNlKCk7fWVsc2V7RT1bXTt9dmFyIFQ9bS5nZXRQcm9wZXJ0eSgiL21vZGUiKT09PWMuTGluZU1vZGU/ImxpbmsiOiJ0aWxlIixmPWEuZ2V0VGlsZVNldHRpbmdzQWN0aW9uKG0sdGhpcy5vblNhdmVSdW50aW1lU2V0dGluZ3MuYmluZCh0aGlzKSxUKTtFLnB1c2goZik7dC5hY3Rpb25zLnNldEFjdGlvbnNQcm92aWRlcihmdW5jdGlvbigpe3JldHVybiBFO30pO319LG9uRXhpdDpmdW5jdGlvbigpe3RoaXMuX2FEb2FibGVPYmplY3Qub2ZmKCk7fSxvblByZXNzOmZ1bmN0aW9uKGUpe3ZhciBzPXRoaXMuZ2V0VmlldygpLHY9cy5nZXRWaWV3RGF0YSgpLHQ9di5jaGlwLFQ9cy5nZXRNb2RlbCgpLmdldFByb3BlcnR5KCIvY29uZmlnIik7aWYoZS5nZXRTb3VyY2UoKS5nZXRTY29wZSYmZS5nZXRTb3VyY2UoKS5nZXRTY29wZSgpPT09Ry5EaXNwbGF5KXtpZih0LmNvbmZpZ3VyYXRpb25VaS5pc0VuYWJsZWQoKSl7dC5jb25maWd1cmF0aW9uVWkuZGlzcGxheSgpO31lbHNlIGlmKHRoaXMubmF2aWdhdGlvblRhcmdldFVybCl7aWYodGhpcy5uYXZpZ2F0aW9uVGFyZ2V0VXJsWzBdPT09IiMiKXtoYXNoZXIuc2V0SGFzaCh0aGlzLm5hdmlnYXRpb25UYXJnZXRVcmwpO31lbHNle3ZhciBkPUMubGFzdCgiL2NvcmUvc2hlbGwvZW5hYmxlUmVjZW50QWN0aXZpdHkiKSYmQy5sYXN0KCIvY29yZS9zaGVsbC9lbmFibGVSZWNlbnRBY3Rpdml0eUxvZ2dpbmciKTtpZihkKXt2YXIgcj17dGl0bGU6VC5kaXNwbGF5X3RpdGxlX3RleHQsYXBwVHlwZTpiLlVSTCx1cmw6VC5uYXZpZ2F0aW9uX3RhcmdldF91cmwsYXBwSWQ6VC5uYXZpZ2F0aW9uX3RhcmdldF91cmx9O3NhcC51c2hlbGwuQ29udGFpbmVyLmdldFJlbmRlcmVyKCJmaW9yaTIiKS5sb2dSZWNlbnRBY3Rpdml0eShyKTt9d2luZG93Lm9wZW4odGhpcy5uYXZpZ2F0aW9uVGFyZ2V0VXJsLCJfYmxhbmsiKTt9fX19LG9uU2F2ZVJ1bnRpbWVTZXR0aW5nczpmdW5jdGlvbihzKXt2YXIgdj1zLmdldE1vZGVsKCksdD10aGlzLmdldFZpZXcoKS5nZXRWaWV3RGF0YSgpLmNoaXAsbz10aGlzLmdldFZpZXcoKS5nZXRNb2RlbCgpLmdldFByb3BlcnR5KCIvY29uZmlnIik7by5kaXNwbGF5X3RpdGxlX3RleHQ9di5nZXRQcm9wZXJ0eSgiL3RpdGxlIik7by5kaXNwbGF5X3N1YnRpdGxlX3RleHQ9di5nZXRQcm9wZXJ0eSgiL3N1YnRpdGxlIik7by5kaXNwbGF5X2luZm9fdGV4dD12LmdldFByb3BlcnR5KCIvaW5mbyIpO28uZGlzcGxheV9zZWFyY2hfa2V5d29yZHM9di5nZXRQcm9wZXJ0eSgiL2tleXdvcmRzIik7dmFyIGQ9dC5iYWcuZ2V0QmFnKCJ0aWxlUHJvcGVydGllcyIpO2Quc2V0VGV4dCgiZGlzcGxheV90aXRsZV90ZXh0IixvLmRpc3BsYXlfdGl0bGVfdGV4dCk7ZC5zZXRUZXh0KCJkaXNwbGF5X3N1YnRpdGxlX3RleHQiLG8uZGlzcGxheV9zdWJ0aXRsZV90ZXh0KTtkLnNldFRleHQoImRpc3BsYXlfaW5mb190ZXh0IixvLmRpc3BsYXlfaW5mb190ZXh0KTtkLnNldFRleHQoImRpc3BsYXlfc2VhcmNoX2tleXdvcmRzIixvLmRpc3BsYXlfc2VhcmNoX2tleXdvcmRzKTtmdW5jdGlvbiBlKEUpe0wuZXJyb3IoRSxudWxsLCJzYXAudXNoZWxsLmNvbXBvbmVudHMudGlsZXMuYXBwbGF1bmNoZXIuU3RhdGljVGlsZS5jb250cm9sbGVyIik7fWQuc2F2ZShmdW5jdGlvbigpe0wuZGVidWcoInByb3BlcnR5IGJhZyAndGlsZVByb3BlcnRpZXMnIHNhdmVkIHN1Y2Nlc3NmdWxseSIpO3RoaXMuZ2V0VmlldygpLmdldE1vZGVsKCkuc2V0UHJvcGVydHkoIi9jb25maWcvZGlzcGxheV90aXRsZV90ZXh0IixvLmRpc3BsYXlfdGl0bGVfdGV4dCk7dGhpcy5nZXRWaWV3KCkuZ2V0TW9kZWwoKS5zZXRQcm9wZXJ0eSgiL2NvbmZpZy9kaXNwbGF5X3N1YnRpdGxlX3RleHQiLG8uZGlzcGxheV9zdWJ0aXRsZV90ZXh0KTt0aGlzLmdldFZpZXcoKS5nZXRNb2RlbCgpLnNldFByb3BlcnR5KCIvY29uZmlnL2Rpc3BsYXlfaW5mb190ZXh0IixvLmRpc3BsYXlfaW5mb190ZXh0KTt0aGlzLmdldFZpZXcoKS5nZXRNb2RlbCgpLnNldFByb3BlcnR5KCIvY29uZmlnL2Rpc3BsYXlfc2VhcmNoX2tleXdvcmRzIixvLmRpc3BsYXlfc2VhcmNoX2tleXdvcmRzKTt0aGlzLmdldFZpZXcoKS5nZXRNb2RlbCgpLnJlZnJlc2goKTt9LmJpbmQodGhpcyksZSk7fSxvblNhdmVDb25maWd1cmF0aW9uOmZ1bmN0aW9uKG8pe3ZhciBkPXEuRGVmZXJyZWQoKTt2YXIgbT1vLmdldE1vZGVsKCk7dmFyIHQ9bS5nZXRQcm9wZXJ0eSgiL3RpbGVNb2RlbCIpO3ZhciBUPW8uZ2V0Vmlld0RhdGEoKS5jaGlwO3ZhciBlPXUudGlsZUFjdGlvbnNSb3dzMlRpbGVBY3Rpb25zQXJyYXkobS5nZXRQcm9wZXJ0eSgiL2NvbmZpZy90aWxlX2FjdGlvbnNfcm93cyIpKTt2YXIgZj17ZGlzcGxheV9pY29uX3VybDptLmdldFByb3BlcnR5KCIvY29uZmlnL2Rpc3BsYXlfaWNvbl91cmwiKSxuYXZpZ2F0aW9uX3VzZV9zZW1hbnRpY19vYmplY3Q6bS5nZXRQcm9wZXJ0eSgiL2NvbmZpZy9uYXZpZ2F0aW9uX3VzZV9zZW1hbnRpY19vYmplY3QiKSxuYXZpZ2F0aW9uX3RhcmdldF91cmw6bS5nZXRQcm9wZXJ0eSgiL2NvbmZpZy9uYXZpZ2F0aW9uX3RhcmdldF91cmwiKSxuYXZpZ2F0aW9uX3NlbWFudGljX29iamVjdDpxLnRyaW0obS5nZXRQcm9wZXJ0eSgiL2NvbmZpZy9uYXZpZ2F0aW9uX3NlbWFudGljX29iamVjdCIpKXx8IiIsbmF2aWdhdGlvbl9zZW1hbnRpY19hY3Rpb246cS50cmltKG0uZ2V0UHJvcGVydHkoIi9jb25maWcvbmF2aWdhdGlvbl9zZW1hbnRpY19hY3Rpb24iKSl8fCIiLG5hdmlnYXRpb25fc2VtYW50aWNfcGFyYW1ldGVyczpxLnRyaW0obS5nZXRQcm9wZXJ0eSgiL2NvbmZpZy9uYXZpZ2F0aW9uX3NlbWFudGljX3BhcmFtZXRlcnMiKSksZGlzcGxheV9zZWFyY2hfa2V5d29yZHM6bS5nZXRQcm9wZXJ0eSgiL2NvbmZpZy9kaXNwbGF5X3NlYXJjaF9rZXl3b3JkcyIpfTt2YXIgcj11LmNoZWNrSW5wdXRPblNhdmVDb25maWcobyk7aWYoIXIpe3I9dS5jaGVja1RpbGVBY3Rpb25zKG8pO31pZihyKXtkLnJlamVjdCgibWFuZGF0b3J5X2ZpZWxkc19taXNzaW5nIik7cmV0dXJuIGQucHJvbWlzZSgpO31pZihmLm5hdmlnYXRpb25fdXNlX3NlbWFudGljX29iamVjdCl7Zi5uYXZpZ2F0aW9uX3RhcmdldF91cmw9YS5nZXRTZW1hbnRpY05hdmlnYXRpb25VcmwoZik7bS5zZXRQcm9wZXJ0eSgiL2NvbmZpZy9uYXZpZ2F0aW9uX3RhcmdldF91cmwiLGYubmF2aWdhdGlvbl90YXJnZXRfdXJsKTt9dmFyIGc9VC5iYWcuZ2V0QmFnKCJ0aWxlUHJvcGVydGllcyIpO2cuc2V0VGV4dCgiZGlzcGxheV90aXRsZV90ZXh0IixtLmdldFByb3BlcnR5KCIvY29uZmlnL2Rpc3BsYXlfdGl0bGVfdGV4dCIpKTtnLnNldFRleHQoImRpc3BsYXlfc3VidGl0bGVfdGV4dCIsbS5nZXRQcm9wZXJ0eSgiL2NvbmZpZy9kaXNwbGF5X3N1YnRpdGxlX3RleHQiKSk7Zy5zZXRUZXh0KCJkaXNwbGF5X2luZm9fdGV4dCIsbS5nZXRQcm9wZXJ0eSgiL2NvbmZpZy9kaXNwbGF5X2luZm9fdGV4dCIpKTtnLnNldFRleHQoImRpc3BsYXlfc2VhcmNoX2tleXdvcmRzIixmLmRpc3BsYXlfc2VhcmNoX2tleXdvcmRzKTt2YXIgaD1ULmJhZy5nZXRCYWcoInRpbGVOYXZpZ2F0aW9uQWN0aW9ucyIpO3UucG9wdWxhdGVUaWxlTmF2aWdhdGlvbkFjdGlvbnNCYWcoaCxlKTtmdW5jdGlvbiBpKEUsail7TC5lcnJvcihFLG51bGwsInNhcC51c2hlbGwuY29tcG9uZW50cy50aWxlcy5hcHBsYXVuY2hlci5TdGF0aWNUaWxlLmNvbnRyb2xsZXIiKTtkLnJlamVjdChFLGopO31ULndyaXRlQ29uZmlndXJhdGlvbi5zZXRQYXJhbWV0ZXJWYWx1ZXMoe3RpbGVDb25maWd1cmF0aW9uOkpTT04uc3RyaW5naWZ5KGYpfSxmdW5jdGlvbigpe3ZhciBqPWEuZ2V0Q29uZmlndXJhdGlvbihULGZhbHNlLGZhbHNlKSxrPWEuZ2V0Q29uZmlndXJhdGlvbihULHRydWUsZmFsc2UpLG09bmV3IEooe2NvbmZpZzpqLG5hdjp7bmF2aWdhdGlvbl90YXJnZXRfdXJsOiIifSx0aWxlTW9kZWw6dH0pO28uc2V0TW9kZWwobSk7dC5zZXREYXRhKHtjb25maWc6ayxuYXY6e25hdmlnYXRpb25fdGFyZ2V0X3VybDoiIn19LGZhbHNlKTtpZihULnByZXZpZXcpe1QucHJldmlldy5zZXRUYXJnZXRVcmwoai5uYXZpZ2F0aW9uX3RhcmdldF91cmwpO1QucHJldmlldy5zZXRQcmV2aWV3SWNvbihqLmRpc3BsYXlfaWNvbl91cmwpO1QucHJldmlldy5zZXRQcmV2aWV3VGl0bGUoai5kaXNwbGF5X3RpdGxlX3RleHQpO2lmKFQucHJldmlldy5zZXRQcmV2aWV3U3VidGl0bGUmJnR5cGVvZiBULnByZXZpZXcuc2V0UHJldmlld1N1YnRpdGxlPT09ImZ1bmN0aW9uIil7VC5wcmV2aWV3LnNldFByZXZpZXdTdWJ0aXRsZShqLmRpc3BsYXlfc3VidGl0bGVfdGV4dCk7fX1nLnNhdmUoZnVuY3Rpb24oKXtMLmRlYnVnKCJwcm9wZXJ0eSBiYWcgJ3RpbGVQcm9wZXJ0aWVzJyBzYXZlZCBzdWNjZXNzZnVsbHkiKTtpZihULnRpdGxlKXtULnRpdGxlLnNldFRpdGxlKGouZGlzcGxheV90aXRsZV90ZXh0LGZ1bmN0aW9uKCl7ZC5yZXNvbHZlKCk7fSxpKTt9ZWxzZXtkLnJlc29sdmUoKTt9fSxpKTtoLnNhdmUoZnVuY3Rpb24oKXtMLmRlYnVnKCJwcm9wZXJ0eSBiYWcgJ25hdmlnYXRpb25Qcm9wZXJ0aWVzJyBzYXZlZCBzdWNjZXNzZnVsbHkiKTt9LGkpO30saSk7cmV0dXJuIGQucHJvbWlzZSgpO30sb25DYW5jZWxDb25maWd1cmF0aW9uOmZ1bmN0aW9uKG8pe3ZhciB2PW8uZ2V0Vmlld0RhdGEoKSxtPW8uZ2V0TW9kZWwoKSx0PW0uZ2V0UHJvcGVydHkoIi90aWxlTW9kZWwiKSxUPXYuY2hpcCxkPWEuZ2V0Q29uZmlndXJhdGlvbihULFQuY29uZmlndXJhdGlvblVpLmlzRW5hYmxlZCgpLGZhbHNlKTtvLmdldE1vZGVsKCkuc2V0RGF0YSh7Y29uZmlnOmQsbmF2OntuYXZpZ2F0aW9uX3RhcmdldF91cmw6IiJ9LHRpbGVNb2RlbDp0fSxmYWxzZSk7fX0pO30sZmFsc2UpOwpzYXAudWkucHJlZGVmaW5lKCdzYXAvdXNoZWxsL2NvbXBvbmVudHMvdGlsZXMvYXBwbGF1bmNoZXIvU3RhdGljVGlsZS52aWV3JyxbInNhcC9tL0dlbmVyaWNUaWxlIiwic2FwL20vSW1hZ2VDb250ZW50Iiwic2FwL20vVGlsZUNvbnRlbnQiXSxmdW5jdGlvbihHLEksVCl7InVzZSBzdHJpY3QiO3NhcC51aS5qc3ZpZXcoInNhcC51c2hlbGwuY29tcG9uZW50cy50aWxlcy5hcHBsYXVuY2hlci5TdGF0aWNUaWxlIix7Z2V0Q29udHJvbGxlck5hbWU6ZnVuY3Rpb24oKXtyZXR1cm4ic2FwLnVzaGVsbC5jb21wb25lbnRzLnRpbGVzLmFwcGxhdW5jaGVyLlN0YXRpY1RpbGUiO30sY3JlYXRlQ29udGVudDpmdW5jdGlvbigpe3RoaXMuc2V0SGVpZ2h0KCIxMDAlIik7dGhpcy5zZXRXaWR0aCgiMTAwJSIpO3JldHVybiB0aGlzLmdldFRpbGVDb250cm9sKCk7fSxnZXRUaWxlQ29udHJvbDpmdW5jdGlvbigpe3ZhciBjPXRoaXMuZ2V0Q29udHJvbGxlcigpO3JldHVybiBuZXcgRyh7bW9kZToiey9tb2RlfSIsaGVhZGVyOiJ7L2NvbmZpZy9kaXNwbGF5X3RpdGxlX3RleHR9IixzdWJoZWFkZXI6InsvY29uZmlnL2Rpc3BsYXlfc3VidGl0bGVfdGV4dH0iLHNpemVCZWhhdmlvcjoiey9zaXplQmVoYXZpb3J9Iix3cmFwcGluZ1R5cGU6Insvd3JhcHBpbmdUeXBlfSIsc2l6ZToiQXV0byIsdGlsZUNvbnRlbnQ6bmV3IFQoe3NpemU6IkF1dG8iLGZvb3Rlcjoiey9jb25maWcvZGlzcGxheV9pbmZvX3RleHR9Iixjb250ZW50Om5ldyBJKHtzcmM6InsvY29uZmlnL2Rpc3BsYXlfaWNvbl91cmx9In0pfSkscHJlc3M6W2Mub25QcmVzcyxjXX0pO30sZ2V0TW9kZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldE1vZGVsKCkuZ2V0UHJvcGVydHkoIi9tb2RlIik7fX0pO30pOwpzYXAudWkucHJlZGVmaW5lKCdzYXAvdXNoZWxsL2NvbXBvbmVudHMvdGlsZXMvYXBwbGF1bmNoZXJkeW5hbWljL0R5bmFtaWNUaWxlLmNvbnRyb2xsZXInLFsic2FwL3VpL3RoaXJkcGFydHkvZGF0YWpzIiwic2FwL3VpL3RoaXJkcGFydHkvVVJJIiwic2FwL3VzaGVsbC9jb21wb25lbnRzL3RpbGVzL3V0aWxzIiwic2FwL3VzaGVsbC9jb21wb25lbnRzL3RpbGVzL3V0aWxzUlQiLCJzYXAvdXNoZWxsL2NvbXBvbmVudHMvYXBwbGljYXRpb25JbnRlZ3JhdGlvbi9BcHBMaWZlQ3ljbGUiLCJzYXAvdXNoZWxsL0NvbmZpZyIsInNhcC91c2hlbGwvc2VydmljZXMvQXBwVHlwZSIsInNhcC9tL2xpYnJhcnkiLCJzYXAvdWkvbW9kZWwvanNvbi9KU09OTW9kZWwiLCJzYXAvdWkvdGhpcmRwYXJ0eS9qcXVlcnkiLCJzYXAvYmFzZS91dGlsL1VyaVBhcmFtZXRlcnMiXSxmdW5jdGlvbihPLFUsdSxhLEEsQyxiLGwsSixxLGMpeyJ1c2Ugc3RyaWN0Ijt2YXIgRz1sLkdlbmVyaWNUaWxlU2NvcGU7dmFyIGQ9bC5HZW5lcmljVGlsZU1vZGU7c2FwLnVpLmdldENvcmUoKS5sb2FkTGlicmFyeSgic2FwLm0iKTtzYXAudWkuY29udHJvbGxlcigic2FwLnVzaGVsbC5jb21wb25lbnRzLnRpbGVzLmFwcGxhdW5jaGVyZHluYW1pYy5EeW5hbWljVGlsZSIse3RpbWVyOm51bGwsX2FEb2FibGVPYmplY3Q6e30sb0RhdGFSZXF1ZXN0Om51bGwsc0NvbmZpZ05hdmlnYXRpb25UYXJnZXRVcmxPbGQ6IiIsUkVGUkVTSF9JTlRFUlZBTF9NSU46MTAsY29uc3RydWN0VGFyZ2V0VXJsV2l0aFNhcFN5c3RlbTpmdW5jdGlvbihuLHMpe3ZhciBvLGg7aWYocyl7bz1zYXAudXNoZWxsLkNvbnRhaW5lci5nZXRTZXJ2aWNlKCJVUkxQYXJzaW5nIik7aWYoby5pc0ludGVudFVybChuKSl7aD1vLnBhcnNlU2hlbGxIYXNoKG4pO2lmKCFoLnBhcmFtcyl7aC5wYXJhbXM9e307fWgucGFyYW1zWyJzYXAtc3lzdGVtIl09cztuPSIjIitvLmNvbnN0cnVjdFNoZWxsSGFzaChoKTt9ZWxzZXtuKz0oKG4uaW5kZXhPZigiPyIpPDApPyI/IjoiJiIpKyJzYXAtc3lzdGVtPSIrczt9fXJldHVybiBuO30sb25Jbml0OmZ1bmN0aW9uKCl7dmFyIHY9dGhpcy5nZXRWaWV3KCksVj12LmdldFZpZXdEYXRhKCksdD1WLmNoaXAsbz1hLmdldENvbmZpZ3VyYXRpb24odCx0LmNvbmZpZ3VyYXRpb25VaS5pc0VuYWJsZWQoKSxmYWxzZSksbSxrLEssZT10aGlzLE49by5uYXZpZ2F0aW9uX3RhcmdldF91cmwsczt0aGlzLnNDb25maWdOYXZpZ2F0aW9uVGFyZ2V0VXJsT2xkPW8ubmF2aWdhdGlvbl90YXJnZXRfdXJsO3Euc2FwLmxvZy5zZXRMZXZlbCgyLCJzYXAudXNoZWxsLmNvbXBvbmVudHMudGlsZXMuYXBwbGF1bmNoZXJkeW5hbWljLkR5bmFtaWNUaWxlIik7dGhpcy5iSXNSZXF1ZXN0Q29tcGxldGVkPWZhbHNlO3RoaXMub1NoZWxsTW9kZWw9QS5nZXRFbGVtZW50c01vZGVsKCk7cz10LnVybC5nZXRBcHBsaWNhdGlvblN5c3RlbSgpO3RoaXMubmF2aWdhdGlvblRhcmdldFVybD10aGlzLmNvbnN0cnVjdFRhcmdldFVybFdpdGhTYXBTeXN0ZW0oTixzKTttPW5ldyBKKHtzaXplQmVoYXZpb3I6Qy5sYXN0KCIvY29yZS9ob21lL3NpemVCZWhhdmlvciIpLHdyYXBwaW5nVHlwZTpDLmxhc3QoIi9jb3JlL2hvbWUvd3JhcHBpbmdUeXBlIiksY29uZmlnOm8sbW9kZTpvLmRpc3BsYXlfbW9kZXx8ZC5Db250ZW50TW9kZSxkYXRhOmEuZ2V0RGF0YVRvRGlzcGxheShvLHtudW1iZXI6KCh0LnByZXZpZXcmJnQucHJldmlldy5pc0VuYWJsZWQoKSk/MTIzNDoiLi4uIil9KSxuYXY6e25hdmlnYXRpb25fdGFyZ2V0X3VybDoodC5jb25maWd1cmF0aW9uVWkmJnQuY29uZmlndXJhdGlvblVpLmlzRW5hYmxlZCgpPyIiOnRoaXMubmF2aWdhdGlvblRhcmdldFVybCl9LHNlYXJjaDp7ZGlzcGxheV9oaWdobGlnaHRfdGVybXM6W119fSk7di5zZXRNb2RlbChtKTt0aGlzLl9hRG9hYmxlT2JqZWN0PUMub24oIi9jb3JlL2hvbWUvc2l6ZUJlaGF2aW9yIikuZG8oZnVuY3Rpb24oUyl7bS5zZXRQcm9wZXJ0eSgiL3NpemVCZWhhdmlvciIsUyk7fSk7aWYodC50eXBlcyl7dC50eXBlcy5hdHRhY2hTZXRUeXBlKGZ1bmN0aW9uKFQpe2lmKGUudGlsZVR5cGUhPVQpe3ZhciBtPWUuZ2V0VmlldygpLmdldE1vZGVsKCk7aWYoVD09PSJsaW5rIil7bS5zZXRQcm9wZXJ0eSgiL21vZGUiLGQuTGluZU1vZGUpO31lbHNle20uc2V0UHJvcGVydHkoIi9tb2RlIixtLmdldFByb3BlcnR5KCIvY29uZmlnL2Rpc3BsYXlfbW9kZSIpfHxkLkNvbnRlbnRNb2RlKTt9ZS50aWxlVHlwZT1UO319KTt9aWYoIXRoaXMudGlsZVR5cGUpe3RoaXMudGlsZVR5cGU9InRpbGUiO31pZih0LnNlYXJjaCl7az12LmdldE1vZGVsKCkuZ2V0UHJvcGVydHkoIi9jb25maWcvZGlzcGxheV9zZWFyY2hfa2V5d29yZHMiKTtLPWsuc3BsaXQoL1ssIF0rLykuZmlsdGVyKGZ1bmN0aW9uKG4saSl7cmV0dXJuIG4mJm4hPT0iIjt9KTtpZihvLmRpc3BsYXlfdGl0bGVfdGV4dCYmby5kaXNwbGF5X3RpdGxlX3RleHQhPT0iIiYmSy5pbmRleE9mKG8uZGlzcGxheV90aXRsZV90ZXh0KT09PS0xKXtLLnB1c2goby5kaXNwbGF5X3RpdGxlX3RleHQpO31pZihvLmRpc3BsYXlfc3VidGl0bGVfdGV4dCYmby5kaXNwbGF5X3N1YnRpdGxlX3RleHQhPT0iIiYmSy5pbmRleE9mKG8uZGlzcGxheV9zdWJ0aXRsZV90ZXh0KT09PS0xKXtLLnB1c2goby5kaXNwbGF5X3N1YnRpdGxlX3RleHQpO31pZihvLmRpc3BsYXlfaW5mb190ZXh0JiZvLmRpc3BsYXlfaW5mb190ZXh0IT09IiImJksuaW5kZXhPZihvLmRpc3BsYXlfaW5mb190ZXh0KT09PS0xKXtLLnB1c2goby5kaXNwbGF5X2luZm9fdGV4dCk7fWlmKG8uZGlzcGxheV9udW1iZXJfdW5pdCYmby5kaXNwbGF5X251bWJlcl91bml0IT09IiImJksuaW5kZXhPZihvLmRpc3BsYXlfbnVtYmVyX3VuaXQpPT09LTEpe0sucHVzaChvLmRpc3BsYXlfbnVtYmVyX3VuaXQpO310LnNlYXJjaC5zZXRLZXl3b3JkcyhLKTt0LnNlYXJjaC5hdHRhY2hIaWdobGlnaHQoZnVuY3Rpb24oaCl7di5nZXRNb2RlbCgpLnNldFByb3BlcnR5KCIvc2VhcmNoL2Rpc3BsYXlfaGlnaGxpZ2h0X3Rlcm1zIixoKTt9KTt9aWYodC5iYWcmJnQuYmFnLmF0dGFjaEJhZ3NVcGRhdGVkKXt0LmJhZy5hdHRhY2hCYWdzVXBkYXRlZChmdW5jdGlvbihoKXtpZihoLmluZGV4T2YoInRpbGVQcm9wZXJ0aWVzIik+LTEpe3UuX3VwZGF0ZVRpbGVQcm9wZXJ0aWVzVGV4dHModix0LmJhZy5nZXRCYWcoInRpbGVQcm9wZXJ0aWVzIikpO319KTt9aWYodC5jb25maWd1cmF0aW9uJiZ0LmNvbmZpZ3VyYXRpb24uYXR0YWNoQ29uZmlndXJhdGlvblVwZGF0ZWQpe3QuY29uZmlndXJhdGlvbi5hdHRhY2hDb25maWd1cmF0aW9uVXBkYXRlZChmdW5jdGlvbihoKXtpZihoLmluZGV4T2YoInRpbGVDb25maWd1cmF0aW9uIik+LTEpe3UuX3VwZGF0ZVRpbGVDb25maWd1cmF0aW9uKHYsdC5jb25maWd1cmF0aW9uLmdldFBhcmFtZXRlclZhbHVlQXNTdHJpbmcoInRpbGVDb25maWd1cmF0aW9uIikpO319KTt9aWYodC5wcmV2aWV3KXt0LnByZXZpZXcuc2V0VGFyZ2V0VXJsKHRoaXMubmF2aWdhdGlvblRhcmdldFVybCk7dC5wcmV2aWV3LnNldFByZXZpZXdJY29uKG8uZGlzcGxheV9pY29uX3VybCk7dC5wcmV2aWV3LnNldFByZXZpZXdUaXRsZShvLmRpc3BsYXlfdGl0bGVfdGV4dCk7aWYodC5wcmV2aWV3LnNldFByZXZpZXdTdWJ0aXRsZSYmdHlwZW9mIHQucHJldmlldy5zZXRQcmV2aWV3U3VidGl0bGU9PT0iZnVuY3Rpb24iKXt0LnByZXZpZXcuc2V0UHJldmlld1N1YnRpdGxlKG8uZGlzcGxheV9zdWJ0aXRsZV90ZXh0KTt9fWlmKHQuY29uZmlndXJhdGlvblVpLmlzRW5hYmxlZCgpKXt0LmNvbmZpZ3VyYXRpb25VaS5zZXRVaVByb3ZpZGVyKGZ1bmN0aW9uKCl7dmFyIGg9dS5nZXRDb25maWd1cmF0aW9uVWkodiwic2FwLnVzaGVsbC5jb21wb25lbnRzLnRpbGVzLmFwcGxhdW5jaGVyZHluYW1pYy5Db25maWd1cmF0aW9uIik7dC5jb25maWd1cmF0aW9uVWkuYXR0YWNoQ2FuY2VsKGUub25DYW5jZWxDb25maWd1cmF0aW9uLmJpbmQobnVsbCxoKSk7dC5jb25maWd1cmF0aW9uVWkuYXR0YWNoU2F2ZShlLm9uU2F2ZUNvbmZpZ3VyYXRpb24uYmluZChudWxsLGgpKTtyZXR1cm4gaDt9KTt0aGlzLmdldFZpZXcoKS5nZXRDb250ZW50KClbMF0uc2V0VG9vbHRpcCh1LmdldFJlc291cmNlQnVuZGxlTW9kZWwoKS5nZXRSZXNvdXJjZUJ1bmRsZSgpLmdldFRleHQoImVkaXRfY29uZmlndXJhdGlvbi50b29sdGlwIikpO31lbHNlIGlmKCF0LnByZXZpZXd8fCF0LnByZXZpZXcuaXNFbmFibGVkKCkpe2lmKCFzKXtzYXAudXNoZWxsLkNvbnRhaW5lci5hZGRSZW1vdGVTeXN0ZW1Gb3JTZXJ2aWNlVXJsKG8uc2VydmljZV91cmwpO310aGlzLmJOZWVkc1JlZnJlc2g9dHJ1ZTt0aGlzLmlOck9mVGltZXJSdW5uaW5nPTA7fWlmKHQucmVmcmVzaCl7dC5yZWZyZXNoLmF0dGFjaFJlZnJlc2godGhpcy5yZWZyZXNoSGFuZGxlci5iaW5kKHRoaXMpKTt9aWYodC52aXNpYmxlKXt0LnZpc2libGUuYXR0YWNoVmlzaWJsZSh0aGlzLnZpc2libGVIYW5kbGVyLmJpbmQodGhpcykpO31pZih0LmFjdGlvbnMpe3ZhciBmPW8uYWN0aW9ucyxFO2lmKGYpe0U9Zi5zbGljZSgpO31lbHNle0U9W107fXZhciBUPW0uZ2V0UHJvcGVydHkoIi9tb2RlIik9PT1kLkxpbmVNb2RlPyJsaW5rIjoidGlsZSIsZz1hLmdldFRpbGVTZXR0aW5nc0FjdGlvbihtLHRoaXMub25TYXZlUnVudGltZVNldHRpbmdzLmJpbmQodGhpcyksVCk7RS5wdXNoKGcpO3QuYWN0aW9ucy5zZXRBY3Rpb25zUHJvdmlkZXIoZnVuY3Rpb24oKXtyZXR1cm4gRTt9KTt9c2FwLnVpLmdldENvcmUoKS5nZXRFdmVudEJ1cygpLnN1YnNjcmliZSgibGF1bmNocGFkIiwic2Vzc2lvblRpbWVvdXQiLHRoaXMuc3RvcFJlcXVlc3RzLHRoaXMpO30sc3RvcFJlcXVlc3RzOmZ1bmN0aW9uKCl7aWYodGhpcy50aW1lcil7Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO31pZih0aGlzLm9EYXRhUmVxdWVzdCl7dHJ5e3RoaXMuYklzQWJvcnRSZXF1ZXN0Rmxvdz10cnVlO3RoaXMub0RhdGFSZXF1ZXN0LmFib3J0KCk7fWNhdGNoKGUpe3Euc2FwLmxvZy53YXJuaW5nKGUubmFtZSxlLm1lc3NhZ2UpO310aGlzLmJOZWVkc1JlZnJlc2g9dHJ1ZTt0aGlzLmJJc0Fib3J0UmVxdWVzdEZsb3c9dW5kZWZpbmVkO319LG9uRXhpdDpmdW5jdGlvbigpe3RoaXMuc3RvcFJlcXVlc3RzKCk7c2FwLnVpLmdldENvcmUoKS5nZXRFdmVudEJ1cygpLnVuc3Vic2NyaWJlKCJsYXVuY2hwYWQiLCJzZXNzaW9uVGltZW91dCIsdGhpcy5zdG9wUmVxdWVzdHMsdGhpcyk7dGhpcy5fYURvYWJsZU9iamVjdC5vZmYoKTt9LG9uUHJlc3M6ZnVuY3Rpb24oZSl7dmFyIHY9dGhpcy5nZXRWaWV3KCksVj12LmdldFZpZXdEYXRhKCksbT12LmdldE1vZGVsKCksdD1tLmdldFByb3BlcnR5KCIvbmF2L25hdmlnYXRpb25fdGFyZ2V0X3VybCIpLFQ9Vi5jaGlwLG89bS5nZXRQcm9wZXJ0eSgiL2NvbmZpZyIpO2lmKGUuZ2V0U291cmNlKCkuZ2V0U2NvcGUmJmUuZ2V0U291cmNlKCkuZ2V0U2NvcGUoKT09PUcuRGlzcGxheSl7aWYoVC5jb25maWd1cmF0aW9uVWkuaXNFbmFibGVkKCkpe1QuY29uZmlndXJhdGlvblVpLmRpc3BsYXkoKTt9ZWxzZSBpZih0KXtpZih0WzBdPT09IiMiKXtoYXNoZXIuc2V0SGFzaCh0KTt9ZWxzZXt2YXIgTD1DLmxhc3QoIi9jb3JlL3NoZWxsL2VuYWJsZVJlY2VudEFjdGl2aXR5IikmJkMubGFzdCgiL2NvcmUvc2hlbGwvZW5hYmxlUmVjZW50QWN0aXZpdHlMb2dnaW5nIik7aWYoTCl7dmFyIHI9e3RpdGxlOm8uZGlzcGxheV90aXRsZV90ZXh0LGFwcFR5cGU6Yi5VUkwsdXJsOm8ubmF2aWdhdGlvbl90YXJnZXRfdXJsLGFwcElkOm8ubmF2aWdhdGlvbl90YXJnZXRfdXJsfTtzYXAudXNoZWxsLkNvbnRhaW5lci5nZXRSZW5kZXJlcigiZmlvcmkyIikubG9nUmVjZW50QWN0aXZpdHkocik7fXdpbmRvdy5vcGVuKHQsIl9ibGFuayIpO319fX0sZXh0cmFjdERhdGE6ZnVuY3Rpb24oRCl7dmFyIG4saz1bInJlc3VsdHMiLCJpY29uIiwidGl0bGUiLCJudW1iZXIiLCJudW1iZXJVbml0IiwiaW5mbyIsImluZm9TdGF0ZSIsImluZm9TdGF0dXMiLCJ0YXJnZXRQYXJhbXMiLCJzdWJ0aXRsZSIsInN0YXRlQXJyb3ciLCJudW1iZXJTdGF0ZSIsIm51bWJlckRpZ2l0cyIsIm51bWJlckZhY3RvciJdO2lmKHR5cGVvZiBEPT09Im9iamVjdCImJk9iamVjdC5rZXlzKEQpLmxlbmd0aD09PTEpe249T2JqZWN0LmtleXMoRClbMF07aWYoQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChrLG4pPT09LTEpe3JldHVybiBEW25dO319cmV0dXJuIEQ7fSxvblNhdmVSdW50aW1lU2V0dGluZ3M6ZnVuY3Rpb24ocyl7dmFyIHY9dGhpcy5nZXRWaWV3KCksVj12LmdldE1vZGVsKCksdD12LmdldFZpZXdEYXRhKCkuY2hpcCxvPVYuZ2V0UHJvcGVydHkoIi9jb25maWciKSxTPXMuZ2V0TW9kZWwoKTtvLmRpc3BsYXlfdGl0bGVfdGV4dD1TLmdldFByb3BlcnR5KCIvdGl0bGUiKTtvLmRpc3BsYXlfc3VidGl0bGVfdGV4dD1TLmdldFByb3BlcnR5KCIvc3VidGl0bGUiKTtvLmRpc3BsYXlfaW5mb190ZXh0PVMuZ2V0UHJvcGVydHkoIi9pbmZvIik7by5kaXNwbGF5X3NlYXJjaF9rZXl3b3Jkcz1TLmdldFByb3BlcnR5KCIva2V5d29yZHMiKTt2YXIgZT10LmJhZy5nZXRCYWcoInRpbGVQcm9wZXJ0aWVzIik7ZS5zZXRUZXh0KCJkaXNwbGF5X3RpdGxlX3RleHQiLG8uZGlzcGxheV90aXRsZV90ZXh0KTtlLnNldFRleHQoImRpc3BsYXlfc3VidGl0bGVfdGV4dCIsby5kaXNwbGF5X3N1YnRpdGxlX3RleHQpO2Uuc2V0VGV4dCgiZGlzcGxheV9pbmZvX3RleHQiLG8uZGlzcGxheV9pbmZvX3RleHQpO2Uuc2V0VGV4dCgiZGlzcGxheV9zZWFyY2hfa2V5d29yZHMiLG8uZGlzcGxheV9zZWFyY2hfa2V5d29yZHMpO2Z1bmN0aW9uIGYoRSl7cS5zYXAubG9nLmVycm9yKEUsbnVsbCwic2FwLnVzaGVsbC5jb21wb25lbnRzLnRpbGVzLmFwcGxhdW5jaGVyZHluYW1pYy5EeW5hbWljVGlsZS5jb250cm9sbGVyIik7fWUuc2F2ZShmdW5jdGlvbigpe3Euc2FwLmxvZy5kZWJ1ZygicHJvcGVydHkgYmFnICd0aWxlUHJvcGVydGllcycgc2F2ZWQgc3VjY2Vzc2Z1bGx5Iik7Vi5zZXRQcm9wZXJ0eSgiL2NvbmZpZyIsbyk7Vi5zZXRQcm9wZXJ0eSgiL2RhdGEvZGlzcGxheV90aXRsZV90ZXh0IixvLmRpc3BsYXlfdGl0bGVfdGV4dCk7Vi5zZXRQcm9wZXJ0eSgiL2RhdGEvZGlzcGxheV9zdWJ0aXRsZV90ZXh0IixvLmRpc3BsYXlfc3VidGl0bGVfdGV4dCk7Vi5zZXRQcm9wZXJ0eSgiL2RhdGEvZGlzcGxheV9pbmZvX3RleHQiLG8uZGlzcGxheV9pbmZvX3RleHQpO1YucmVmcmVzaCgpO30sZik7fSxvblNhdmVDb25maWd1cmF0aW9uOmZ1bmN0aW9uKG8pe3ZhciBEPXEuRGVmZXJyZWQoKSxtPW8uZ2V0TW9kZWwoKSx0PW0uZ2V0UHJvcGVydHkoIi90aWxlTW9kZWwiKSxUPW8uZ2V0Vmlld0RhdGEoKS5jaGlwLGU9dS50aWxlQWN0aW9uc1Jvd3MyVGlsZUFjdGlvbnNBcnJheShtLmdldFByb3BlcnR5KCIvY29uZmlnL3RpbGVfYWN0aW9uc19yb3dzIikpLGY9e2Rpc3BsYXlfaWNvbl91cmw6bS5nZXRQcm9wZXJ0eSgiL2NvbmZpZy9kaXNwbGF5X2ljb25fdXJsIiksZGlzcGxheV9udW1iZXJfdW5pdDptLmdldFByb3BlcnR5KCIvY29uZmlnL2Rpc3BsYXlfbnVtYmVyX3VuaXQiKSxzZXJ2aWNlX3VybDptLmdldFByb3BlcnR5KCIvY29uZmlnL3NlcnZpY2VfdXJsIiksc2VydmljZV9yZWZyZXNoX2ludGVydmFsOm0uZ2V0UHJvcGVydHkoIi9jb25maWcvc2VydmljZV9yZWZyZXNoX2ludGVydmFsIiksbmF2aWdhdGlvbl91c2Vfc2VtYW50aWNfb2JqZWN0Om0uZ2V0UHJvcGVydHkoIi9jb25maWcvbmF2aWdhdGlvbl91c2Vfc2VtYW50aWNfb2JqZWN0IiksbmF2aWdhdGlvbl90YXJnZXRfdXJsOm0uZ2V0UHJvcGVydHkoIi9jb25maWcvbmF2aWdhdGlvbl90YXJnZXRfdXJsIiksbmF2aWdhdGlvbl9zZW1hbnRpY19vYmplY3Q6cS50cmltKG0uZ2V0UHJvcGVydHkoIi9jb25maWcvbmF2aWdhdGlvbl9zZW1hbnRpY19vYmplY3QiKSl8fCIiLG5hdmlnYXRpb25fc2VtYW50aWNfYWN0aW9uOnEudHJpbShtLmdldFByb3BlcnR5KCIvY29uZmlnL25hdmlnYXRpb25fc2VtYW50aWNfYWN0aW9uIikpfHwiIixuYXZpZ2F0aW9uX3NlbWFudGljX3BhcmFtZXRlcnM6cS50cmltKG0uZ2V0UHJvcGVydHkoIi9jb25maWcvbmF2aWdhdGlvbl9zZW1hbnRpY19wYXJhbWV0ZXJzIikpLGRpc3BsYXlfc2VhcmNoX2tleXdvcmRzOm0uZ2V0UHJvcGVydHkoIi9jb25maWcvZGlzcGxheV9zZWFyY2hfa2V5d29yZHMiKX07dmFyIHI9dS5jaGVja0lucHV0T25TYXZlQ29uZmlnKG8pO2lmKCFyKXtyPXUuY2hlY2tUaWxlQWN0aW9ucyhvKTt9aWYocil7RC5yZWplY3QoIm1hbmRhdG9yeV9maWVsZHNfbWlzc2luZyIpO3JldHVybiBELnByb21pc2UoKTt9aWYoZi5uYXZpZ2F0aW9uX3VzZV9zZW1hbnRpY19vYmplY3Qpe2YubmF2aWdhdGlvbl90YXJnZXRfdXJsPWEuZ2V0U2VtYW50aWNOYXZpZ2F0aW9uVXJsKGYpO20uc2V0UHJvcGVydHkoIi9jb25maWcvbmF2aWdhdGlvbl90YXJnZXRfdXJsIixmLm5hdmlnYXRpb25fdGFyZ2V0X3VybCk7fXZhciBnPVQuYmFnLmdldEJhZygidGlsZVByb3BlcnRpZXMiKTtnLnNldFRleHQoImRpc3BsYXlfdGl0bGVfdGV4dCIsbS5nZXRQcm9wZXJ0eSgiL2NvbmZpZy9kaXNwbGF5X3RpdGxlX3RleHQiKSk7Zy5zZXRUZXh0KCJkaXNwbGF5X3N1YnRpdGxlX3RleHQiLG0uZ2V0UHJvcGVydHkoIi9jb25maWcvZGlzcGxheV9zdWJ0aXRsZV90ZXh0IikpO2cuc2V0VGV4dCgiZGlzcGxheV9pbmZvX3RleHQiLG0uZ2V0UHJvcGVydHkoIi9jb25maWcvZGlzcGxheV9pbmZvX3RleHQiKSk7Zy5zZXRUZXh0KCJkaXNwbGF5X3NlYXJjaF9rZXl3b3JkcyIsZi5kaXNwbGF5X3NlYXJjaF9rZXl3b3Jkcyk7dmFyIGg9VC5iYWcuZ2V0QmFnKCJ0aWxlTmF2aWdhdGlvbkFjdGlvbnMiKTt1LnBvcHVsYXRlVGlsZU5hdmlnYXRpb25BY3Rpb25zQmFnKGgsZSk7ZnVuY3Rpb24gaShFLGope3Euc2FwLmxvZy5lcnJvcihFLG51bGwsInNhcC51c2hlbGwuY29tcG9uZW50cy50aWxlcy5hcHBsYXVuY2hlcmR5bmFtaWMuRHluYW1pY1RpbGUuY29udHJvbGxlciIpO0QucmVqZWN0KEUsaik7fVQud3JpdGVDb25maWd1cmF0aW9uLnNldFBhcmFtZXRlclZhbHVlcyh7dGlsZUNvbmZpZ3VyYXRpb246SlNPTi5zdHJpbmdpZnkoZil9LGZ1bmN0aW9uKCl7dmFyIGo9YS5nZXRDb25maWd1cmF0aW9uKFQsZmFsc2UsZmFsc2UpLGs9YS5nZXRDb25maWd1cmF0aW9uKFQsdHJ1ZSxmYWxzZSksbT1uZXcgSih7Y29uZmlnOmosdGlsZU1vZGVsOnR9KTtvLnNldE1vZGVsKG0pO3Quc2V0RGF0YSh7ZGF0YTprLG5hdjp7bmF2aWdhdGlvbl90YXJnZXRfdXJsOiIifX0sZmFsc2UpO2lmKFQucHJldmlldyl7VC5wcmV2aWV3LnNldFRhcmdldFVybChqLm5hdmlnYXRpb25fdGFyZ2V0X3VybCk7VC5wcmV2aWV3LnNldFByZXZpZXdJY29uKGouZGlzcGxheV9pY29uX3VybCk7VC5wcmV2aWV3LnNldFByZXZpZXdUaXRsZShqLmRpc3BsYXlfdGl0bGVfdGV4dCk7aWYoVC5wcmV2aWV3LnNldFByZXZpZXdTdWJ0aXRsZSYmdHlwZW9mIFQucHJldmlldy5zZXRQcmV2aWV3U3VidGl0bGU9PT0iZnVuY3Rpb24iKXtULnByZXZpZXcuc2V0UHJldmlld1N1YnRpdGxlKGouZGlzcGxheV9zdWJ0aXRsZV90ZXh0KTt9fWcuc2F2ZShmdW5jdGlvbigpe3Euc2FwLmxvZy5kZWJ1ZygicHJvcGVydHkgYmFnICd0aWxlUHJvcGVydGllcycgc2F2ZWQgc3VjY2Vzc2Z1bGx5Iik7aWYoVC50aXRsZSl7VC50aXRsZS5zZXRUaXRsZShqLmRpc3BsYXlfdGl0bGVfdGV4dCxmdW5jdGlvbigpe0QucmVzb2x2ZSgpO30saSk7fWVsc2V7RC5yZXNvbHZlKCk7fX0saSk7aC5zYXZlKGZ1bmN0aW9uKCl7cS5zYXAubG9nLmRlYnVnKCJwcm9wZXJ0eSBiYWcgJ25hdmlnYXRpb25Qcm9wZXJ0aWVzJyBzYXZlZCBzdWNjZXNzZnVsbHkiKTt9LGkpO30saSk7cmV0dXJuIEQucHJvbWlzZSgpO30sc3VjY2Vzc0hhbmRsZXJGbjpmdW5jdGlvbihyLFIpe3ZhciB2PXRoaXMuZ2V0VmlldygpLG09di5nZXRNb2RlbCgpLG89bS5nZXRQcm9wZXJ0eSgiL2NvbmZpZyIpLFY9di5nZXRWaWV3RGF0YSgpLHQ9Vi5jaGlwLHM9dC51cmwuZ2V0QXBwbGljYXRpb25TeXN0ZW0oKSxEO3RoaXMub0RhdGFSZXF1ZXN0PXVuZGVmaW5lZDtpZih0eXBlb2YgUj09PSJvYmplY3QiKXt2YXIgZT1uZXcgYyhyKS5nZXQoIiRpbmxpbmVjb3VudCIpO2lmKGUmJmU9PT0iYWxscGFnZXMiKXtSPXtudW1iZXI6Ui5fX2NvdW50fTt9ZWxzZXtSPXRoaXMuZXh0cmFjdERhdGEoUik7fX1lbHNlIGlmKHR5cGVvZiBSPT09InN0cmluZyIpe1I9e251bWJlcjpSfTt9aWYoVi5wcm9wZXJ0aWVzJiZWLnByb3BlcnRpZXMuaW5mbyl7aWYodHlwZW9mIFI9PT0ib2JqZWN0Iil7Ui5pbmZvPVYucHJvcGVydGllcy5pbmZvO319RD1hLmdldERhdGFUb0Rpc3BsYXkobyxSKTttLnNldFByb3BlcnR5KCIvZGF0YSIsRCk7aWYodGhpcy5zQ29uZmlnTmF2aWdhdGlvblRhcmdldFVybE9sZCE9PW8ubmF2aWdhdGlvbl90YXJnZXRfdXJsKXt0aGlzLm5hdmlnYXRpb25UYXJnZXRVcmw9dGhpcy5jb25zdHJ1Y3RUYXJnZXRVcmxXaXRoU2FwU3lzdGVtKG8ubmF2aWdhdGlvbl90YXJnZXRfdXJsLHMpO3RoaXMuc0NvbmZpZ05hdmlnYXRpb25UYXJnZXRVcmxPbGQ9dGhpcy5uYXZpZ2F0aW9uVGFyZ2V0VXJsO31tLnNldFByb3BlcnR5KCIvbmF2L25hdmlnYXRpb25fdGFyZ2V0X3VybCIsYS5hZGRQYXJhbXNUb1VybCh0aGlzLm5hdmlnYXRpb25UYXJnZXRVcmwsRCkpO3ZhciBpPW8uc2VydmljZV9yZWZyZXNoX2ludGVydmFsO2lmKGk+MCl7aT1NYXRoLm1heChpLHRoaXMuUkVGUkVTSF9JTlRFUlZBTF9NSU4pO3Euc2FwLmxvZy5pbmZvKCJXYWl0ICIraSsiIHNlY29uZHMgYmVmb3JlIGNhbGxpbmcgIitvLnNlcnZpY2VfdXJsKyIgYWdhaW4iLG51bGwsInNhcC51c2hlbGwuY29tcG9uZW50cy50aWxlcy5hcHBsYXVuY2hlcmR5bmFtaWMuRHluYW1pY1RpbGUuY29udHJvbGxlciIpO3RoaXMucmVmZXNoQWZ0ZXJJbnRlcnZhbChpKTt9fSxlcnJvckhhbmRsZXJGbjpmdW5jdGlvbihtLGkpe3ZhciB2PXRoaXMuZ2V0VmlldygpLE09di5nZXRNb2RlbCgpLG89TS5nZXRQcm9wZXJ0eSgiL2NvbmZpZyIpLHM9bSYmbS5tZXNzYWdlP20ubWVzc2FnZTptLHI9dS5nZXRSZXNvdXJjZUJ1bmRsZU1vZGVsKCkuZ2V0UmVzb3VyY2VCdW5kbGUoKTt0aGlzLm9EYXRhUmVxdWVzdD11bmRlZmluZWQ7aWYocz09PSJSZXF1ZXN0IGFib3J0ZWQiKXtxLnNhcC5sb2cuaW5mbygiRGF0YSByZXF1ZXN0IGZyb20gc2VydmljZSAiK28uc2VydmljZV91cmwrIiB3YXMgYWJvcnRlZCIsbnVsbCwic2FwLnVzaGVsbC5jb21wb25lbnRzLnRpbGVzLmFwcGxhdW5jaGVyZHluYW1pYy5EeW5hbWljVGlsZSIpO31lbHNle2lmKG0ucmVzcG9uc2Upe3MrPSIgLSAiK20ucmVzcG9uc2Uuc3RhdHVzQ29kZSsiICIrbS5yZXNwb25zZS5zdGF0dXNUZXh0O312YXIgTD1pP3Euc2FwLmxvZy53YXJuaW5nOnEuc2FwLmxvZy5lcnJvcjtMKCJGYWlsZWQgdG8gdXBkYXRlIGRhdGEgdmlhIHNlcnZpY2VcbiIrIiAgc2VydmljZSBVUkw6ICIrby5zZXJ2aWNlX3VybCsiXG4iKyIgICIrcyxudWxsLCJzYXAudXNoZWxsLmNvbXBvbmVudHMudGlsZXMuYXBwbGF1bmNoZXJkeW5hbWljLkR5bmFtaWNUaWxlIik7fWlmKCF0aGlzLmJJc0Fib3J0UmVxdWVzdEZsb3cpe00uc2V0UHJvcGVydHkoIi9kYXRhIixhLmdldERhdGFUb0Rpc3BsYXkobyx7bnVtYmVyOiI/Pz8iLGluZm86ci5nZXRUZXh0KCJkeW5hbWljX2RhdGEuZXJyb3IiKSxpbmZvU3RhdGU6IkNyaXRpY2FsIn0pKTt9fSxvbkNhbmNlbENvbmZpZ3VyYXRpb246ZnVuY3Rpb24obyl7dmFyIHY9by5nZXRWaWV3RGF0YSgpLG09by5nZXRNb2RlbCgpLHQ9bS5nZXRQcm9wZXJ0eSgiL3RpbGVNb2RlbCIpLFQ9di5jaGlwLGU9YS5nZXRDb25maWd1cmF0aW9uKFQsZmFsc2UsZmFsc2UpO20uc2V0RGF0YSh7Y29uZmlnOmUsdGlsZU1vZGVsOnR9LGZhbHNlKTt9LHByZXBhcmVUb0xvYWREYXRhOmZ1bmN0aW9uKCl7dmFyIEQ9dGhpcy5nZXRWaWV3KCksbz1ELmdldE1vZGVsKCkuZ2V0UHJvcGVydHkoIi9jb25maWciKSx0PUQuZ2V0Vmlld0RhdGEoKS5jaGlwLHM9by5zZXJ2aWNlX3VybCxyLGcsZT10aGlzO2lmKCFzKXt0aGlzLmVycm9ySGFuZGxlckZuKCJObyBzZXJ2aWNlIFVSTCBnaXZlbiEiLHRydWUpO3JldHVybjt9aWYoLztvPShbO1wvP118JCkvLnRlc3Qocykpe3M9dC51cmwuYWRkU3lzdGVtVG9TZXJ2aWNlVXJsKHMpO31pZih0aGlzLnNlcnZpY2VVcmxXaXRoRGVmYXVsdHMpe2c9bmV3IHEuRGVmZXJyZWQoKS5yZXNvbHZlKHt1cmw6dGhpcy5zZXJ2aWNlVXJsV2l0aERlZmF1bHRzfSkucHJvbWlzZSgpO31lbHNle3I9c2FwLnVzaGVsbC5Db250YWluZXIuZ2V0U2VydmljZSgiUmVmZXJlbmNlUmVzb2x2ZXIiKTtnPXIucmVzb2x2ZVVzZXJEZWZhdWx0UGFyYW1ldGVycyhzKTt9Zy5kb25lKGUubG9hZERhdGEuYmluZChlKSkuZmFpbChlLmVycm9ySGFuZGxlckZuLmJpbmQoZSkpO30sbG9hZERhdGE6ZnVuY3Rpb24ocil7aWYoci5kZWZhdWx0c1dpdGhvdXRWYWx1ZSYmci5kZWZhdWx0c1dpdGhvdXRWYWx1ZS5sZW5ndGg+MCl7dGhpcy5lcnJvckhhbmRsZXJGbigiVGhlIHNlcnZpY2UgVVJMIGNvbnRhaW5zIFVzZXIgRGVmYXVsdChzKSB3aXRoIG5vIHNldCB2YWx1ZTogIityLmRlZmF1bHRzV2l0aG91dFZhbHVlLmpvaW4oIiwgIiksdHJ1ZSk7cmV0dXJuO31pZihyLmlnbm9yZWRSZWZlcmVuY2VzJiZyLmlnbm9yZWRSZWZlcmVuY2VzLmxlbmd0aD4wKXt0aGlzLmVycm9ySGFuZGxlckZuKCJUaGUgc2VydmljZSBVUkwgY29udGFpbnMgaW52YWxpZCBSZWZlcmVuY2Uocyk6ICIrci5pZ25vcmVkUmVmZXJlbmNlcy5qb2luKCIsICIpLGZhbHNlKTtyZXR1cm47fXZhciBzPXIudXJsLFMsZSxSLG87dGhpcy5zZXJ2aWNlVXJsV2l0aERlZmF1bHRzPXM7Uj17IkNhY2hlLUNvbnRyb2wiOiJuby1jYWNoZSwgbm8tc3RvcmUsIG11c3QtcmV2YWxpZGF0ZSIsIlByYWdtYSI6Im5vLWNhY2hlIiwiRXhwaXJlcyI6IjAiLCJBY2NlcHQtTGFuZ3VhZ2UiOihzYXAudWkmJnNhcC51aS5nZXRDb3JlKCkuZ2V0Q29uZmlndXJhdGlvbigpLmdldExhbmd1YWdlKCkpfHwiIn07aWYoc2FwLnVzaGVsbC5Db250YWluZXIpe1M9c2FwLnVpLmdldENvcmUoKS5nZXRDb25maWd1cmF0aW9uKCkuZ2V0U0FQTG9nb25MYW5ndWFnZSgpO2lmKFMpe1JbInNhcC1sYW5ndWFnZSJdPVM7fWU9c2FwLnVzaGVsbC5Db250YWluZXIuZ2V0TG9nb25TeXN0ZW0oKT9zYXAudXNoZWxsLkNvbnRhaW5lci5nZXRMb2dvblN5c3RlbSgpLmdldENsaWVudCgpOiIiO289bmV3IFUocyk7aWYoZSYmIW8ucHJvdG9jb2woKSl7Ulsic2FwLWNsaWVudCJdPWU7fX1pZihTJiZzLmluZGV4T2YoInNhcC1sYW5ndWFnZT0iKT09PS0xKXtzPXMrKHMuaW5kZXhPZigiPyIpPj0wPyImIjoiPyIpKyJzYXAtbGFuZ3VhZ2U9IitTO310aGlzLm9EYXRhUmVxdWVzdD1PLnJlYWQoe3JlcXVlc3RVcmk6cyxoZWFkZXJzOlJ9LHRoaXMuc3VjY2Vzc0hhbmRsZXJGbi5iaW5kKHRoaXMscyksdGhpcy5lcnJvckhhbmRsZXJGbi5iaW5kKHRoaXMpKTt9LHJlZnJlc2hUaWxlOmZ1bmN0aW9uKCl7dmFyIHY9dGhpcy5nZXRWaWV3KCksVj12LmdldFZpZXdEYXRhKCksaT1WLmNoaXAudmlzaWJsZS5pc1Zpc2libGUoKTtpZihpJiZ0aGlzLmJOZWVkc1JlZnJlc2gpe3RoaXMuYk5lZWRzUmVmcmVzaD1mYWxzZTtpZighdGhpcy5vRGF0YVJlcXVlc3Qpe3RoaXMucHJlcGFyZVRvTG9hZERhdGEoKTt9fX0scmVmZXNoQWZ0ZXJJbnRlcnZhbDpmdW5jdGlvbihyKXt2YXIgdD10aGlzO3RoaXMuaU5yT2ZUaW1lclJ1bm5pbmcrKzt3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe3QuaU5yT2ZUaW1lclJ1bm5pbmctLTtpZih0LmlOck9mVGltZXJSdW5uaW5nPT09MCl7dC5iTmVlZHNSZWZyZXNoPXRydWU7dC5yZWZyZXNoVGlsZSgpO319LHIqMTAwMCk7fSxyZWZyZXNoSGFuZGxlcjpmdW5jdGlvbigpe3RoaXMuYk5lZWRzUmVmcmVzaD10cnVlO3RoaXMucmVmcmVzaFRpbGUoKTt9LHZpc2libGVIYW5kbGVyOmZ1bmN0aW9uKGkpe2lmKGkpe3RoaXMucmVmcmVzaFRpbGUoKTt9ZWxzZXt0aGlzLnN0b3BSZXF1ZXN0cygpO319fSk7fSxmYWxzZSk7CnNhcC51aS5wcmVkZWZpbmUoJ3NhcC91c2hlbGwvY29tcG9uZW50cy90aWxlcy9hcHBsYXVuY2hlcmR5bmFtaWMvRHluYW1pY1RpbGUudmlldycsWyJzYXAvbS9HZW5lcmljVGlsZSIsInNhcC9tL1RpbGVDb250ZW50Iiwic2FwL20vbGlicmFyeSIsInNhcC9tL051bWVyaWNDb250ZW50Il0sZnVuY3Rpb24oRyxULG0sTil7InVzZSBzdHJpY3QiO3ZhciBWPW0uVmFsdWVDb2xvcjtzYXAudWkuanN2aWV3KCJzYXAudXNoZWxsLmNvbXBvbmVudHMudGlsZXMuYXBwbGF1bmNoZXJkeW5hbWljLkR5bmFtaWNUaWxlIix7Z2V0Q29udHJvbGxlck5hbWU6ZnVuY3Rpb24oKXtyZXR1cm4ic2FwLnVzaGVsbC5jb21wb25lbnRzLnRpbGVzLmFwcGxhdW5jaGVyZHluYW1pYy5EeW5hbWljVGlsZSI7fSxjcmVhdGVDb250ZW50OmZ1bmN0aW9uKCl7dGhpcy5zZXRIZWlnaHQoIjEwMCUiKTt0aGlzLnNldFdpZHRoKCIxMDAlIik7cmV0dXJuIHRoaXMuZ2V0VGlsZUNvbnRyb2woKTt9LGdldFRpbGVDb250cm9sOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5nZXRDb250cm9sbGVyKCk7cmV0dXJuIG5ldyBHKHttb2RlOiJ7L21vZGV9IixoZWFkZXI6InsvZGF0YS9kaXNwbGF5X3RpdGxlX3RleHR9IixzdWJoZWFkZXI6InsvZGF0YS9kaXNwbGF5X3N1YnRpdGxlX3RleHR9IixzaXplOiJBdXRvIixzaXplQmVoYXZpb3I6Insvc2l6ZUJlaGF2aW9yfSIsd3JhcHBpbmdUeXBlOiJ7L3dyYXBwaW5nVHlwZX0iLHRpbGVDb250ZW50OltuZXcgVCh7c2l6ZToiQXV0byIsZm9vdGVyOiJ7L2RhdGEvZGlzcGxheV9pbmZvX3RleHR9Iixmb290ZXJDb2xvcjp7cGF0aDoiL2RhdGEvZGlzcGxheV9pbmZvX3N0YXRlIixmb3JtYXR0ZXI6ZnVuY3Rpb24oZil7aWYoIVZbZl0pe2Y9Vi5OZXV0cmFsO31yZXR1cm4gZjt9fSx1bml0OiJ7L2RhdGEvZGlzcGxheV9udW1iZXJfdW5pdH0iLGNvbnRlbnQ6W25ldyBOKHtzY2FsZToiey9kYXRhL2Rpc3BsYXlfbnVtYmVyX2ZhY3Rvcn0iLHZhbHVlOiJ7L2RhdGEvZGlzcGxheV9udW1iZXJfdmFsdWV9Iix0cnVuY2F0ZVZhbHVlVG86NSxpbmRpY2F0b3I6InsvZGF0YS9kaXNwbGF5X3N0YXRlX2Fycm93fSIsdmFsdWVDb2xvcjp7cGF0aDoiL2RhdGEvZGlzcGxheV9udW1iZXJfc3RhdGUiLGZvcm1hdHRlcjpmdW5jdGlvbih2KXtpZighVlt2XSl7dj1WLk5ldXRyYWw7fXJldHVybiB2O319LGljb246InsvZGF0YS9kaXNwbGF5X2ljb25fdXJsfSIsd2lkdGg6IjEwMCUifSldfSldLHByZXNzOltjLm9uUHJlc3MsY119KTt9LG9uQWZ0ZXJSZW5kZXJpbmc6ZnVuY3Rpb24oKXt2YXIgTT10aGlzLmdldE1vZGVsKCksZD1NLmdldFByb3BlcnR5KCIvZGF0YS9kaXNwbGF5X2luZm9fc3RhdGUiKSxlPXRoaXMuZ2V0RG9tUmVmKCksYT1lP2UuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgic2FwTVRpbGVDbnRGdHJUeHQiKVswXTpudWxsO2lmKGEpe3N3aXRjaChkKXtjYXNlIk5lZ2F0aXZlIjphLmNsYXNzTGlzdC5hZGQoInNhcFVzaGVsbFRpbGVGb290ZXJJbmZvTmVnYXRpdmUiKTticmVhaztjYXNlIk5ldXRyYWwiOmEuY2xhc3NMaXN0LmFkZCgic2FwVXNoZWxsVGlsZUZvb3RlckluZm9OZXV0cmFsIik7YnJlYWs7Y2FzZSJQb3NpdGl2ZSI6YS5jbGFzc0xpc3QuYWRkKCJzYXBVc2hlbGxUaWxlRm9vdGVySW5mb1Bvc2l0aXZlIik7YnJlYWs7Y2FzZSJDcml0aWNhbCI6YS5jbGFzc0xpc3QuYWRkKCJzYXBVc2hlbGxUaWxlRm9vdGVySW5mb0NyaXRpY2FsIik7YnJlYWs7ZGVmYXVsdDpyZXR1cm47fX19LGdldE1vZGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRNb2RlbCgpLmdldFByb3BlcnR5KCIvbW9kZSIpO319KTt9KTsKc2FwLnVpLnByZWRlZmluZSgnc2FwL3VzaGVsbC9jb21wb25lbnRzL3RpbGVzL2NkbS9hcHBsYXVuY2hlci9Db21wb25lbnQnLFsic2FwL3VpL2NvcmUvVUlDb21wb25lbnQiLCJzYXAvdWkvY29yZS9saWJyYXJ5Il0sZnVuY3Rpb24oVSxjKXsidXNlIHN0cmljdCI7dmFyIFY9Yy5tdmMuVmlld1R5cGU7cmV0dXJuIFUuZXh0ZW5kKCJzYXAudXNoZWxsLmNvbXBvbmVudHMudGlsZXMuY2RtLmFwcGxhdW5jaGVyLkNvbXBvbmVudCIse21ldGFkYXRhOnt9LGNyZWF0ZUNvbnRlbnQ6ZnVuY3Rpb24oKXt2YXIgQz10aGlzLmdldENvbXBvbmVudERhdGEoKTt2YXIgcD1DLnByb3BlcnRpZXMudGlsZVBlcnNvbmFsaXphdGlvbnx8e307dmFyIHM9Qy5zdGFydHVwUGFyYW1ldGVycztpZihzJiZzWyJzYXAtc3lzdGVtIl0pe3BbInNhcC1zeXN0ZW0iXT1zWyJzYXAtc3lzdGVtIl1bMF07fXZhciB0PXNhcC51aS52aWV3KHt0eXBlOlYuSlMsdmlld05hbWU6InNhcC51c2hlbGwuY29tcG9uZW50cy50aWxlcy5jZG0uYXBwbGF1bmNoZXIuU3RhdGljVGlsZSIsdmlld0RhdGE6e3Byb3BlcnRpZXM6Qy5wcm9wZXJ0aWVzLGNvbmZpZ3VyYXRpb246cH0sYXN5bmM6dHJ1ZX0pO3QubG9hZGVkKCkudGhlbihmdW5jdGlvbih2KXt0aGlzLl9vQ29udHJvbGxlcj10LmdldENvbnRyb2xsZXIoKTt9LmJpbmQodGhpcykpO3JldHVybiB0O30sdGlsZVNldFZpc3VhbFByb3BlcnRpZXM6ZnVuY3Rpb24obil7aWYodGhpcy5fb0NvbnRyb2xsZXIpe3RoaXMuX29Db250cm9sbGVyLnVwZGF0ZVByb3BlcnRpZXNIYW5kbGVyKG4pO319LHRpbGVSZWZyZXNoOmZ1bmN0aW9uKCl7fSx0aWxlU2V0VmlzaWJsZTpmdW5jdGlvbihpKXt9LGV4aXQ6ZnVuY3Rpb24oKXt0aGlzLl9vQ29udHJvbGxlcj1udWxsO319KTt9KTsKc2FwLnVpLnByZWRlZmluZSgnc2FwL3VzaGVsbC9jb21wb25lbnRzL3RpbGVzL2NkbS9hcHBsYXVuY2hlci9TdGF0aWNUaWxlLmNvbnRyb2xsZXInLFsic2FwL3VpL2NvcmUvbXZjL0NvbnRyb2xsZXIiLCJzYXAvdXNoZWxsL0NvbmZpZyIsInNhcC91c2hlbGwvc2VydmljZXMvQXBwVHlwZSIsInNhcC91aS9tb2RlbC9qc29uL0pTT05Nb2RlbCIsInNhcC9tL2xpYnJhcnkiXSxmdW5jdGlvbihDLGEsQSxKLG0peyJ1c2Ugc3RyaWN0Ijt2YXIgRz1tLkdlbmVyaWNUaWxlU2NvcGU7cmV0dXJuIEMuZXh0ZW5kKCJzYXAudXNoZWxsLmNvbXBvbmVudHMudGlsZXMuY2RtLmFwcGxhdW5jaGVyLlN0YXRpY1RpbGUiLHtfYURvYWJsZU9iamVjdDp7fSxfZ2V0Q29uZmlndXJhdGlvbjpmdW5jdGlvbigpe3ZhciBjPXRoaXMuZ2V0VmlldygpLmdldFZpZXdEYXRhKCk7Yy5wcm9wZXJ0aWVzLnNpemVCZWhhdmlvcj1hLmxhc3QoIi9jb3JlL2hvbWUvc2l6ZUJlaGF2aW9yIik7Yy5wcm9wZXJ0aWVzLndyYXBwaW5nVHlwZT1hLmxhc3QoIi9jb3JlL2hvbWUvd3JhcHBpbmdUeXBlIik7cmV0dXJuIGM7fSxvbkluaXQ6ZnVuY3Rpb24oKXt2YXIgdj10aGlzLmdldFZpZXcoKTt2YXIgTT1uZXcgSigpO00uc2V0RGF0YSh0aGlzLl9nZXRDb25maWd1cmF0aW9uKCkpO3Yuc2V0TW9kZWwoTSk7dGhpcy5fYURvYWJsZU9iamVjdD1hLm9uKCIvY29yZS9ob21lL3NpemVCZWhhdmlvciIpLmRvKGZ1bmN0aW9uKHMpe00uc2V0UHJvcGVydHkoIi9wcm9wZXJ0aWVzL3NpemVCZWhhdmlvciIscyk7fSk7fSxvbkV4aXQ6ZnVuY3Rpb24oKXt0aGlzLl9hRG9hYmxlT2JqZWN0Lm9mZigpO30sb25QcmVzczpmdW5jdGlvbihlKXt2YXIgdD10aGlzLmdldFZpZXcoKS5nZXRWaWV3RGF0YSgpLnByb3BlcnRpZXM7aWYoZS5nZXRTb3VyY2UoKS5nZXRTY29wZSYmZS5nZXRTb3VyY2UoKS5nZXRTY29wZSgpPT09Ry5EaXNwbGF5KXt2YXIgVD10aGlzLl9jcmVhdGVUYXJnZXRVcmwoKTtpZighVCl7cmV0dXJuO31pZihUWzBdPT09IiMiKXtoYXNoZXIuc2V0SGFzaChUKTt9ZWxzZXt2YXIgbD1hLmxhc3QoIi9jb3JlL3NoZWxsL2VuYWJsZVJlY2VudEFjdGl2aXR5IikmJmEubGFzdCgiL2NvcmUvc2hlbGwvZW5hYmxlUmVjZW50QWN0aXZpdHlMb2dnaW5nIik7aWYobCl7dmFyIHI9e3RpdGxlOnQudGl0bGUsYXBwVHlwZTpBLlVSTCx1cmw6dC50YXJnZXRVUkwsYXBwSWQ6dC50YXJnZXRVUkx9O3NhcC51c2hlbGwuQ29udGFpbmVyLmdldFJlbmRlcmVyKCJmaW9yaTIiKS5sb2dSZWNlbnRBY3Rpdml0eShyKTt9d2luZG93Lm9wZW4oVCwiX2JsYW5rIik7fX19LHVwZGF0ZVByb3BlcnRpZXNIYW5kbGVyOmZ1bmN0aW9uKG4pe3ZhciB0PXRoaXMuZ2V0VmlldygpLmdldENvbnRlbnQoKVswXSxUPXQuZ2V0VGlsZUNvbnRlbnQoKVswXTtpZih0eXBlb2Ygbi50aXRsZSE9PSJ1bmRlZmluZWQiKXt0LnNldEhlYWRlcihuLnRpdGxlKTt9aWYodHlwZW9mIG4uc3VidGl0bGUhPT0idW5kZWZpbmVkIil7dC5zZXRTdWJoZWFkZXIobi5zdWJ0aXRsZSk7fWlmKHR5cGVvZiBuLmljb24hPT0idW5kZWZpbmVkIil7VC5nZXRDb250ZW50KCkuc2V0U3JjKG4uaWNvbik7fWlmKHR5cGVvZiBuLmluZm8hPT0idW5kZWZpbmVkIil7VC5zZXRGb290ZXIobi5pbmZvKTt9fSxfY3JlYXRlVGFyZ2V0VXJsOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5nZXRWaWV3KCkuZ2V0Vmlld0RhdGEoKS5wcm9wZXJ0aWVzLnRhcmdldFVSTCxzPXRoaXMuZ2V0VmlldygpLmdldFZpZXdEYXRhKCkuY29uZmlndXJhdGlvblsic2FwLXN5c3RlbSJdLHUsaDtpZih0JiZzKXt1PXNhcC51c2hlbGwuQ29udGFpbmVyLmdldFNlcnZpY2UoIlVSTFBhcnNpbmciKTtpZih1LmlzSW50ZW50VXJsKHQpKXtoPXUucGFyc2VTaGVsbEhhc2godCk7aWYoIWgucGFyYW1zKXtoLnBhcmFtcz17fTt9aC5wYXJhbXNbInNhcC1zeXN0ZW0iXT1zO3Q9IiMiK3UuY29uc3RydWN0U2hlbGxIYXNoKGgpO31lbHNle3QrPSgodC5pbmRleE9mKCI/Iik8MCk/Ij8iOiImIikrInNhcC1zeXN0ZW09IitzO319cmV0dXJuIHQ7fSxfZ2V0Q3VycmVudFByb3BlcnRpZXM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLmdldFZpZXcoKS5nZXRDb250ZW50KClbMF0sVD10LmdldFRpbGVDb250ZW50KClbMF0scz1hLmxhc3QoIi9jb3JlL2hvbWUvc2l6ZUJlaGF2aW9yIik7cmV0dXJue3RpdGxlOnQuZ2V0SGVhZGVyKCksc3VidGl0bGU6dC5nZXRTdWJoZWFkZXIoKSxpbmZvOlQuZ2V0Rm9vdGVyKCksaWNvbjpULmdldENvbnRlbnQoKS5nZXRTcmMoKSxzaXplQmVoYXZpb3I6c307fX0pO30sdHJ1ZSk7CnNhcC51aS5wcmVkZWZpbmUoJ3NhcC91c2hlbGwvY29tcG9uZW50cy90aWxlcy9jZG0vYXBwbGF1bmNoZXIvU3RhdGljVGlsZS52aWV3JyxbInNhcC9tL0dlbmVyaWNUaWxlIiwic2FwL20vSW1hZ2VDb250ZW50Iiwic2FwL20vVGlsZUNvbnRlbnQiLCJzYXAvdWkvY29yZS9tdmMvSlNWaWV3Il0sZnVuY3Rpb24oRyxJLFQpeyJ1c2Ugc3RyaWN0IjtzYXAudWkuanN2aWV3KCJzYXAudXNoZWxsLmNvbXBvbmVudHMudGlsZXMuY2RtLmFwcGxhdW5jaGVyLlN0YXRpY1RpbGUiLHtnZXRDb250cm9sbGVyTmFtZTpmdW5jdGlvbigpe3JldHVybiJzYXAudXNoZWxsLmNvbXBvbmVudHMudGlsZXMuY2RtLmFwcGxhdW5jaGVyLlN0YXRpY1RpbGUiO30sY3JlYXRlQ29udGVudDpmdW5jdGlvbihjKXt2YXIgdj10aGlzLmdldFZpZXdEYXRhKCkucHJvcGVydGllczt0aGlzLnNldEhlaWdodCgiMTAwJSIpO3RoaXMuc2V0V2lkdGgoIjEwMCUiKTtyZXR1cm4gbmV3IEcoe2hlYWRlcjp2LnRpdGxlLHN1YmhlYWRlcjp2LnN1YnRpdGxlLHNpemU6IkF1dG8iLHNpemVCZWhhdmlvcjoiey9wcm9wZXJ0aWVzL3NpemVCZWhhdmlvcn0iLHdyYXBwaW5nVHlwZToiey9wcm9wZXJ0aWVzL3dyYXBwaW5nVHlwZX0iLHRpbGVDb250ZW50Om5ldyBUKHtzaXplOiJBdXRvIixmb290ZXI6di5pbmZvLGNvbnRlbnQ6bmV3IEkoe3NyYzp2Lmljb259KX0pLHByZXNzOltjLm9uUHJlc3MsY119KTt9fSk7fSk7CnNhcC51aS5wcmVkZWZpbmUoJ3NhcC91c2hlbGwvY29tcG9uZW50cy90aWxlcy9jZG0vYXBwbGF1bmNoZXJkeW5hbWljL0NvbXBvbmVudCcsWyJzYXAvdWkvY29yZS9VSUNvbXBvbmVudCIsInNhcC91aS9jb3JlL2xpYnJhcnkiXSxmdW5jdGlvbihVLGMpeyJ1c2Ugc3RyaWN0Ijt2YXIgVj1jLm12Yy5WaWV3VHlwZTtyZXR1cm4gVS5leHRlbmQoInNhcC51c2hlbGwuY29tcG9uZW50cy50aWxlcy5jZG0uYXBwbGF1bmNoZXJkeW5hbWljLkNvbXBvbmVudCIse21ldGFkYXRhOnt9LGNyZWF0ZUNvbnRlbnQ6ZnVuY3Rpb24oKXt2YXIgQz10aGlzLmdldENvbXBvbmVudERhdGEoKTt2YXIgcD1DLnByb3BlcnRpZXN8fHt9O3ZhciBQPXAudGlsZVBlcnNvbmFsaXphdGlvbnx8e307dmFyIGk9cC5pbmRpY2F0b3JEYXRhU291cmNlO2lmKGkmJmkucGF0aCl7UC5zZXJ2aWNlVXJsPWkucGF0aDtQLnNlcnZpY2VSZWZyZXNoSW50ZXJ2YWw9aS5yZWZyZXNoO312YXIgcz1DLnN0YXJ0dXBQYXJhbWV0ZXJzO2lmKHMmJnNbInNhcC1zeXN0ZW0iXSYmc1sic2FwLXN5c3RlbSJdWzBdKXtQWyJzYXAtc3lzdGVtIl09c1sic2FwLXN5c3RlbSJdWzBdO31pZihQLnNlcnZpY2VVcmwmJlAuc2VydmljZVVybC5jaGFyQXQoMCkhPT0iLyImJnAuZGF0YVNvdXJjZSYmcC5kYXRhU291cmNlLnVyaSl7dmFyIFM9cC5kYXRhU291cmNlLnVyaTtpZihQWyJzYXAtc3lzdGVtIl0pe2lmKFMuY2hhckF0KFMubGVuZ3RoLTEpPT09Ii8iKXtTPVMuc2xpY2UoMCxTLmxlbmd0aC0xKTt9Uys9IjtvPSIrUFsic2FwLXN5c3RlbSJdO31pZihTLmNoYXJBdChTLmxlbmd0aC0xKSE9PSIvIil7Uys9Ii8iO31TKz1QLnNlcnZpY2VVcmw7UC5zZXJ2aWNlVXJsPVM7fXZhciB0PXNhcC51aS52aWV3KHt0eXBlOlYuSlMsdmlld05hbWU6InNhcC51c2hlbGwuY29tcG9uZW50cy50aWxlcy5jZG0uYXBwbGF1bmNoZXJkeW5hbWljLkR5bmFtaWNUaWxlIix2aWV3RGF0YTp7cHJvcGVydGllczpwLGNvbmZpZ3VyYXRpb246UH0sYXN5bmM6dHJ1ZX0pO3QubG9hZGVkKCkudGhlbihmdW5jdGlvbih2KXt0aGlzLl9vQ29udHJvbGxlcj10LmdldENvbnRyb2xsZXIoKTt0aGlzLnRpbGVSZWZyZXNoKCk7fS5iaW5kKHRoaXMpKTtyZXR1cm4gdDt9LHRpbGVTZXRWaXN1YWxQcm9wZXJ0aWVzOmZ1bmN0aW9uKG4pe2lmKHRoaXMuX29Db250cm9sbGVyKXt0aGlzLl9vQ29udHJvbGxlci51cGRhdGVWaXN1YWxQcm9wZXJ0aWVzSGFuZGxlcihuKTt9fSx0aWxlUmVmcmVzaDpmdW5jdGlvbigpe2lmKHRoaXMuX29Db250cm9sbGVyKXt0aGlzLl9vQ29udHJvbGxlci5yZWZyZXNoSGFuZGxlcigpO319LHRpbGVTZXRWaXNpYmxlOmZ1bmN0aW9uKGkpe2lmKHRoaXMuX29Db250cm9sbGVyKXt0aGlzLl9vQ29udHJvbGxlci52aXNpYmxlSGFuZGxlcihpKTt9fSxleGl0OmZ1bmN0aW9uKCl7dGhpcy5fb0NvbnRyb2xsZXI9bnVsbDt9fSk7fSk7CnNhcC51aS5wcmVkZWZpbmUoJ3NhcC91c2hlbGwvY29tcG9uZW50cy90aWxlcy9jZG0vYXBwbGF1bmNoZXJkeW5hbWljL0R5bmFtaWNUaWxlLmNvbnRyb2xsZXInLFsic2FwL3VpL2NvcmUvbXZjL0NvbnRyb2xsZXIiLCJzYXAvdXNoZWxsL2NvbXBvbmVudHMvdGlsZXMvdXRpbHMiLCJzYXAvdWkvY29yZS9mb3JtYXQvTnVtYmVyRm9ybWF0Iiwic2FwL3VzaGVsbC9Db25maWciLCJzYXAvdXNoZWxsL3NlcnZpY2VzL0FwcFR5cGUiLCJzYXAvdWkvdGhpcmRwYXJ0eS9kYXRhanMiLCJzYXAvdWkvdGhpcmRwYXJ0eS9VUkkiLCJzYXAvdWkvbW9kZWwvanNvbi9KU09OTW9kZWwiLCJzYXAvbS9saWJyYXJ5Iiwic2FwL2Jhc2UvTG9nIiwic2FwL2Jhc2UvdXRpbC9VcmlQYXJhbWV0ZXJzIl0sZnVuY3Rpb24oQyx1LE4sYSxBLE8sVSxKLG0sTCxiKXsidXNlIHN0cmljdCI7dmFyIEc9bS5HZW5lcmljVGlsZVNjb3BlO3JldHVybiBDLmV4dGVuZCgic2FwLnVzaGVsbC5jb21wb25lbnRzLnRpbGVzLmNkbS5hcHBsYXVuY2hlcmR5bmFtaWMuRHluYW1pY1RpbGUiLHt0aW1lcjpudWxsLF9hRG9hYmxlT2JqZWN0Ont9LG9EYXRhUmVxdWVzdDpudWxsLF9nZXRDb25maWd1cmF0aW9uOmZ1bmN0aW9uKCl7dmFyIHY9dGhpcy5nZXRWaWV3KCkuZ2V0Vmlld0RhdGEoKSxjPXt9LG8saDtjLmNvbmZpZ3VyYXRpb249di5jb25maWd1cmF0aW9uO2MucHJvcGVydGllcz12LnByb3BlcnRpZXM7Yy5wcm9wZXJ0aWVzLmluZm89Yy5wcm9wZXJ0aWVzLmluZm98fCIiO2MucHJvcGVydGllcy5udW1iZXJfdmFsdWU9Ii4uLiI7Yy5wcm9wZXJ0aWVzLm51bWJlcl92YWx1ZV9zdGF0ZT0iTmV1dHJhbCI7Yy5wcm9wZXJ0aWVzLm51bWJlcl9zdGF0ZV9hcnJvdz0iTm9uZSI7Yy5wcm9wZXJ0aWVzLm51bWJlcl9mYWN0b3I9IiI7Yy5wcm9wZXJ0aWVzLm51bWJlcl91bml0PSIiO3ZhciBzPWMuY29uZmlndXJhdGlvblsic2FwLXN5c3RlbSJdO3ZhciB0PWMucHJvcGVydGllcy50YXJnZXRVUkw7aWYodCYmcyl7bz1zYXAudXNoZWxsLkNvbnRhaW5lci5nZXRTZXJ2aWNlKCJVUkxQYXJzaW5nIik7aWYoby5pc0ludGVudFVybCh0KSl7aD1vLnBhcnNlU2hlbGxIYXNoKHQpO2lmKCFoLnBhcmFtcyl7aC5wYXJhbXM9e307fWgucGFyYW1zWyJzYXAtc3lzdGVtIl09czt0PSIjIitvLmNvbnN0cnVjdFNoZWxsSGFzaChoKTt9ZWxzZXt0Kz0oKHQuaW5kZXhPZigiPyIpPDApPyI/IjoiJiIpKyJzYXAtc3lzdGVtPSIrczt9Yy5wcm9wZXJ0aWVzLnRhcmdldFVSTD10O31jLnByb3BlcnRpZXMuc2l6ZUJlaGF2aW9yPWEubGFzdCgiL2NvcmUvaG9tZS9zaXplQmVoYXZpb3IiKTtjLnByb3BlcnRpZXMud3JhcHBpbmdUeXBlPWEubGFzdCgiL2NvcmUvaG9tZS93cmFwcGluZ1R5cGUiKTtyZXR1cm4gYzt9LG9uSW5pdDpmdW5jdGlvbigpe3ZhciB2PXRoaXMuZ2V0VmlldygpO3ZhciBNPW5ldyBKKCk7TS5zZXREYXRhKHRoaXMuX2dldENvbmZpZ3VyYXRpb24oKSk7di5zZXRNb2RlbChNKTt0aGlzLl9hRG9hYmxlT2JqZWN0PWEub24oIi9jb3JlL2hvbWUvc2l6ZUJlaGF2aW9yIikuZG8oZnVuY3Rpb24ocyl7TS5zZXRQcm9wZXJ0eSgiL3Byb3BlcnRpZXMvc2l6ZUJlaGF2aW9yIixzKTt9KTt9LHJlZnJlc2hIYW5kbGVyOmZ1bmN0aW9uKCl7dGhpcy5sb2FkRGF0YSgwKTt9LHZpc2libGVIYW5kbGVyOmZ1bmN0aW9uKGkpe2lmKGkpe2lmKCF0aGlzLm9EYXRhUmVxdWVzdCl7dGhpcy5yZWZyZXNoSGFuZGxlcih0aGlzKTt9fWVsc2V7dGhpcy5zdG9wUmVxdWVzdHMoKTt9fSx1cGRhdGVWaXN1YWxQcm9wZXJ0aWVzSGFuZGxlcjpmdW5jdGlvbihuKXt2YXIgcD10aGlzLmdldFZpZXcoKS5nZXRNb2RlbCgpLmdldFByb3BlcnR5KCIvcHJvcGVydGllcyIpO3ZhciBjPWZhbHNlO2lmKHR5cGVvZiBuLnRpdGxlIT09InVuZGVmaW5lZCIpe3AudGl0bGU9bi50aXRsZTtjPXRydWU7fWlmKHR5cGVvZiBuLnN1YnRpdGxlIT09InVuZGVmaW5lZCIpe3Auc3VidGl0bGU9bi5zdWJ0aXRsZTtjPXRydWU7fWlmKHR5cGVvZiBuLmljb24hPT0idW5kZWZpbmVkIil7cC5pY29uPW4uaWNvbjtjPXRydWU7fWlmKHR5cGVvZiBuLnRhcmdldFVSTCE9PSJ1bmRlZmluZWQiKXtwLnRhcmdldFVSTD1uLnRhcmdldFVSTDtjPXRydWU7fWlmKHR5cGVvZiBuLmluZm8hPT0idW5kZWZpbmVkIil7cC5pbmZvPW4uaW5mbztjPXRydWU7fWlmKGMpe3RoaXMuZ2V0VmlldygpLmdldE1vZGVsKCkuc2V0UHJvcGVydHkoIi9wcm9wZXJ0aWVzIixwKTt9fSxzdG9wUmVxdWVzdHM6ZnVuY3Rpb24oKXtpZih0aGlzLnRpbWVyKXtjbGVhclRpbWVvdXQodGhpcy50aW1lcik7fWlmKHRoaXMub0RhdGFSZXF1ZXN0KXt0cnl7dGhpcy5vRGF0YVJlcXVlc3QuYWJvcnQoKTt9Y2F0Y2goZSl7TC53YXJuaW5nKGUubmFtZSxlLm1lc3NhZ2UpO319fSxvblByZXNzOmZ1bmN0aW9uKGUpe2lmKGUuZ2V0U291cmNlKCkuZ2V0U2NvcGUmJmUuZ2V0U291cmNlKCkuZ2V0U2NvcGUoKT09PUcuRGlzcGxheSl7dmFyIHQ9dGhpcy5nZXRWaWV3KCkuZ2V0TW9kZWwoKS5nZXRQcm9wZXJ0eSgiL3Byb3BlcnRpZXMvdGFyZ2V0VVJMIiksVD10aGlzLmdldFZpZXcoKS5nZXRNb2RlbCgpLmdldFByb3BlcnR5KCIvcHJvcGVydGllcy90aXRsZSIpO2lmKCF0KXtyZXR1cm47fWVsc2UgaWYodFswXT09PSIjIil7aGFzaGVyLnNldEhhc2godCk7fWVsc2V7dmFyIGw9YS5sYXN0KCIvY29yZS9zaGVsbC9lbmFibGVSZWNlbnRBY3Rpdml0eSIpJiZhLmxhc3QoIi9jb3JlL3NoZWxsL2VuYWJsZVJlY2VudEFjdGl2aXR5TG9nZ2luZyIpO2lmKGwpe3ZhciByPXt0aXRsZTpULGFwcFR5cGU6QS5VUkwsdXJsOnQsYXBwSWQ6dH07c2FwLnVzaGVsbC5Db250YWluZXIuZ2V0UmVuZGVyZXIoImZpb3JpMiIpLmxvZ1JlY2VudEFjdGl2aXR5KHIpO313aW5kb3cub3Blbih0LCJfYmxhbmsiKTt9fX0saW5pdFVwZGF0ZUR5bmFtaWNEYXRhOmZ1bmN0aW9uKCl7dmFyIHY9dGhpcy5nZXRWaWV3KCkscz12LmdldE1vZGVsKCkuZ2V0UHJvcGVydHkoIi9jb25maWd1cmF0aW9uL3NlcnZpY2VVcmwiKSxTPXYuZ2V0TW9kZWwoKS5nZXRQcm9wZXJ0eSgiL2NvbmZpZ3VyYXRpb24vc2VydmljZVJlZnJlc2hJbnRlcnZhbCIpO2lmKCFTKXtTPTA7fWVsc2UgaWYoUzwxMCl7TC53YXJuaW5nKCJSZWZyZXNoIEludGVydmFsICIrUysiIHNlY29uZHMgZm9yIHNlcnZpY2UgVVJMICIrcysiIGlzIGxlc3MgdGhhbiAxMCBzZWNvbmRzLCB3aGljaCBpcyBub3Qgc3VwcG9ydGVkLiBJbmNyZWFzZWQgdG8gMTAgc2Vjb25kcyBhdXRvbWF0aWNhbGx5LiIsbnVsbCwic2FwLnVzaGVsbC5jb21wb25lbnRzLnRpbGVzLmNkbS5hcHBsYXVuY2hlcmR5bmFtaWMuRHluYW1pY1RpbGUuY29udHJvbGxlciIpO1M9MTA7fWlmKHMpe3RoaXMubG9hZERhdGEoUyk7fX0sZXh0cmFjdERhdGE6ZnVuY3Rpb24oZCl7dmFyIG4saz1bInJlc3VsdHMiLCJpY29uIiwidGl0bGUiLCJudW1iZXIiLCJudW1iZXJVbml0IiwiaW5mbyIsImluZm9TdGF0ZSIsImluZm9TdGF0dXMiLCJ0YXJnZXRQYXJhbXMiLCJzdWJ0aXRsZSIsInN0YXRlQXJyb3ciLCJudW1iZXJTdGF0ZSIsIm51bWJlckRpZ2l0cyIsIm51bWJlckZhY3RvciJdO2lmKHR5cGVvZiBkPT09Im9iamVjdCImJk9iamVjdC5rZXlzKGQpLmxlbmd0aD09PTEpe249T2JqZWN0LmtleXMoZClbMF07aWYoQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChrLG4pPT09LTEpe3JldHVybiBkW25dO319cmV0dXJuIGQ7fSxzdWNjZXNzSGFuZGxlRm46ZnVuY3Rpb24ocil7dmFyIGM9dGhpcy5nZXRWaWV3KCkuZ2V0TW9kZWwoKS5nZXRQcm9wZXJ0eSgiL2NvbmZpZ3VyYXRpb24iKTt2YXIgZD1yO3RoaXMub0RhdGFSZXF1ZXN0PXVuZGVmaW5lZDtpZih0eXBlb2Ygcj09PSJvYmplY3QiKXt2YXIgZT1uZXcgYihjLnNlcnZpY2VVcmwpLmdldCgiJGlubGluZWNvdW50Iik7aWYoZSYmZT09PSJhbGxwYWdlcyIpe2Q9e251bWJlcjpyLl9fY291bnR9O31lbHNle2Q9dGhpcy5leHRyYWN0RGF0YShkKTt9fWVsc2UgaWYodHlwZW9mIHI9PT0ic3RyaW5nIil7ZD17bnVtYmVyOnJ9O310aGlzLnVwZGF0ZVByb3BlcnRpZXNIYW5kbGVyKGQpO30sZXJyb3JIYW5kbGVyRm46ZnVuY3Rpb24oTSl7dmFyIHM9TSYmTS5tZXNzYWdlP00ubWVzc2FnZTpNLHI9dS5nZXRSZXNvdXJjZUJ1bmRsZU1vZGVsKCkuZ2V0UmVzb3VyY2VCdW5kbGUoKSxjPXRoaXMuZ2V0VmlldygpLmdldE1vZGVsKCkuZ2V0UHJvcGVydHkoIi9jb25maWd1cmF0aW9uL3NlcnZpY2VVcmwiKTt0aGlzLm9EYXRhUmVxdWVzdD11bmRlZmluZWQ7aWYocz09PSJSZXF1ZXN0IGFib3J0ZWQiKXtqUXVlcnkuc2FwLmxvZy5pbmZvKCJEYXRhIHJlcXVlc3QgZnJvbSBzZXJ2aWNlICIrYysiIHdhcyBhYm9ydGVkIixudWxsLCJzYXAudXNoZWxsLmNvbXBvbmVudHMudGlsZXMuY2RtLmFwcGxhdW5jaGVyZHluYW1pYy5EeW5hbWljVGlsZSIpO31lbHNle2lmKE0ucmVzcG9uc2Upe3MrPSIgLSAiK00ucmVzcG9uc2Uuc3RhdHVzQ29kZSsiICIrTS5yZXNwb25zZS5zdGF0dXNUZXh0O31MLmVycm9yKCJGYWlsZWQgdG8gdXBkYXRlIGRhdGEgdmlhIHNlcnZpY2UgIitjKyI6ICIrcyxudWxsLCJzYXAudXNoZWxsLmNvbXBvbmVudHMudGlsZXMuY2RtLmFwcGxhdW5jaGVyZHluYW1pYy5EeW5hbWljVGlsZSIpO3RoaXMudXBkYXRlUHJvcGVydGllc0hhbmRsZXIoe251bWJlcjoiPz8/IixpbmZvOnIuZ2V0VGV4dCgiZHluYW1pY19kYXRhLmVycm9yIil9KTt9fSxsb2FkRGF0YTpmdW5jdGlvbihzKXt2YXIgYz10aGlzLmdldFZpZXcoKS5nZXRNb2RlbCgpLmdldFByb3BlcnR5KCIvY29uZmlndXJhdGlvbi9zZXJ2aWNlVXJsIiksUyxkLHIsbztpZighYyl7cmV0dXJuO31yPXsiQ2FjaGUtQ29udHJvbCI6Im5vLWNhY2hlLCBuby1zdG9yZSwgbXVzdC1yZXZhbGlkYXRlIiwiUHJhZ21hIjoibm8tY2FjaGUiLCJFeHBpcmVzIjoiMCIsIkFjY2VwdC1MYW5ndWFnZSI6KHNhcC51aSYmc2FwLnVpLmdldENvcmUoKS5nZXRDb25maWd1cmF0aW9uKCkuZ2V0TGFuZ3VhZ2UoKSl8fCIifTtpZihzPjApe0wuaW5mbygiV2FpdCAiK3MrIiBzZWNvbmRzIGJlZm9yZSBjYWxsaW5nICIrYysiIGFnYWluIixudWxsLCJzYXAudXNoZWxsLmNvbXBvbmVudHMudGlsZXMuY2RtLmFwcGxhdW5jaGVyZHluYW1pYy5EeW5hbWljVGlsZS5jb250cm9sbGVyIik7dGhpcy50aW1lcj13aW5kb3cuc2V0VGltZW91dCh0aGlzLmxvYWREYXRhLmJpbmQodGhpcyxzLGZhbHNlKSwocyoxMDAwKSk7fWlmKCF0aGlzLm9EYXRhUmVxdWVzdCl7aWYoc2FwLnVzaGVsbC5Db250YWluZXIpe1M9c2FwLnVpLmdldENvcmUoKS5nZXRDb25maWd1cmF0aW9uKCkuZ2V0U0FQTG9nb25MYW5ndWFnZSgpO2lmKFMpe3JbInNhcC1sYW5ndWFnZSJdPVM7fWQ9c2FwLnVzaGVsbC5Db250YWluZXIuZ2V0TG9nb25TeXN0ZW0oKT9zYXAudXNoZWxsLkNvbnRhaW5lci5nZXRMb2dvblN5c3RlbSgpLmdldENsaWVudCgpOiIiO289bmV3IFUoYyk7aWYoZCYmIW8ucHJvdG9jb2woKSl7clsic2FwLWNsaWVudCJdPWQ7fX1pZigoUykmJihjLmluZGV4T2YoInNhcC1sYW5ndWFnZT0iKT09PS0xKSl7Yz1jKyhjLmluZGV4T2YoIj8iKT49MD8iJiI6Ij8iKSsic2FwLWxhbmd1YWdlPSIrUzt9dGhpcy5vRGF0YVJlcXVlc3Q9Ty5yZWFkKHtyZXF1ZXN0VXJpOmMsaGVhZGVyczpyfSx0aGlzLnN1Y2Nlc3NIYW5kbGVGbi5iaW5kKHRoaXMpLHRoaXMuZXJyb3JIYW5kbGVyRm4uYmluZCh0aGlzKSk7fX0sb25FeGl0OmZ1bmN0aW9uKCl7dGhpcy5zdG9wUmVxdWVzdHMoKTt0aGlzLl9hRG9hYmxlT2JqZWN0Lm9mZigpO30sYWRkUGFyYW1zVG9Vcmw6ZnVuY3Rpb24ocyx0KXt2YXIgcD0iIixjPXMuaW5kZXhPZigiPyIpIT09LTEsaTtpZih0JiZ0Lmxlbmd0aD4wKXtmb3IoaT0wO2k8dC5sZW5ndGg7aT1pKzEpe3ArPXRbaV07aWYoaTx0Lmxlbmd0aC0xKXtwKz0iJiI7fX19aWYocC5sZW5ndGg+MCl7aWYoIWMpe3MrPSI/Ijt9ZWxzZXtzKz0iJiI7fXMrPXA7fXJldHVybiBzO30sX25vcm1hbGl6ZU51bWJlcjpmdW5jdGlvbihuLGMsZCxpKXt2YXIgZTtpZihpc05hTihuKSl7ZT1uO31lbHNle3ZhciBvPU4uZ2V0RmxvYXRJbnN0YW5jZSh7bWF4RnJhY3Rpb25EaWdpdHM6aX0pO2lmKCFkKXt2YXIgZj1NYXRoLmFicyhuKTtpZihmPj0xMDAwMDAwMDAwKXtkPSJCIjtuLz0xMDAwMDAwMDAwO31lbHNlIGlmKGY+PTEwMDAwMDApe2Q9Ik0iO24vPTEwMDAwMDA7fWVsc2UgaWYoZj49MTAwMCl7ZD0iSyI7bi89MTAwMDt9fWU9by5mb3JtYXQobik7fXZhciBnPWU7dmFyIGg9Z1tjLTFdO2MtPShoPT09Ii4ifHxoPT09IiwiKT8xOjA7Zz1nLnN1YnN0cmluZygwLGMpO3JldHVybntkaXNwbGF5TnVtYmVyOmcsbnVtYmVyRmFjdG9yOmR9O30sdXBkYXRlUHJvcGVydGllc0hhbmRsZXI6ZnVuY3Rpb24oZCl7dmFyIGU9dS5nZXRSZXNvdXJjZUJ1bmRsZU1vZGVsKCkuZ2V0UmVzb3VyY2VCdW5kbGUoKS5nZXRUZXh0KCJkeW5hbWljX2RhdGEuZXJyb3IiKTt2YXIgYz0wLGksbixvLHMscD10aGlzLmdldFZpZXcoKS5nZXRNb2RlbCgpLmdldFByb3BlcnR5KCIvcHJvcGVydGllcyIpLGY9e3RpdGxlOmQudGl0bGV8fHAudGl0bGV8fCIiLHN1YnRpdGxlOmQuc3VidGl0bGV8fHAuc3VidGl0bGV8fCIiLGljb246ZC5pY29ufHxwLmljb258fCIiLHRhcmdldFVSTDpkLnRhcmdldFVSTHx8cC50YXJnZXRVUkx8fCIiLG51bWJlcl92YWx1ZTohaXNOYU4oZC5udW1iZXIpP2QubnVtYmVyOiIuLi4iLG51bWJlcl9kaWdpdHM6ZC5udW1iZXJEaWdpdHM+PTA/ZC5udW1iZXJEaWdpdHM6NCxpbmZvOnAuaW5mbz09ZT9kLmluZm98fCIiOmQuaW5mb3x8cC5pbmZvfHwiIixudW1iZXJfdW5pdDpkLm51bWJlclVuaXR8fHAubnVtYmVyX3VuaXR8fCIiLG51bWJlcl9zdGF0ZV9hcnJvdzpkLnN0YXRlQXJyb3d8fHAubnVtYmVyX3N0YXRlX2Fycm93fHwiTm9uZSIsbnVtYmVyX3ZhbHVlX3N0YXRlOmQubnVtYmVyU3RhdGV8fHAubnVtYmVyX3ZhbHVlX3N0YXRlfHwiTmV1dHJhbCIsbnVtYmVyX2ZhY3RvcjpkLm51bWJlckZhY3Rvcnx8cC5udW1iZXJfZmFjdG9yfHwiIn07dmFyIHQ9W107aWYoZC50YXJnZXRQYXJhbXMpe3QucHVzaChkLnRhcmdldFBhcmFtcyk7fWlmKGQucmVzdWx0cyl7Zm9yKGk9MCxuPWQucmVzdWx0cy5sZW5ndGg7aTxuO2k9aSsxKXtvPWQucmVzdWx0c1tpXS5udW1iZXJ8fDA7aWYodHlwZW9mIG89PT0ic3RyaW5nIil7bz1wYXJzZUludChvLDEwKTt9Yz1jK287cz1kLnJlc3VsdHNbaV0udGFyZ2V0UGFyYW1zO2lmKHMpe3QucHVzaChzKTt9fWYubnVtYmVyX3ZhbHVlPWM7fWlmKHQubGVuZ3RoPjApe2YudGFyZ2V0VVJMPXRoaXMuYWRkUGFyYW1zVG9VcmwoZi50YXJnZXRVUkwsdCk7fWlmKCFpc05hTihkLm51bWJlcikpe2lmKHR5cGVvZiBkLm51bWJlcj09PSJzdHJpbmciKXtkLm51bWJlcj1kLm51bWJlci50cmltKCk7fXZhciBTPXRoaXMuX3Nob3VsZFByb2Nlc3NEaWdpdHMoZC5udW1iZXIsZC5udW1iZXJEaWdpdHMpLGc9Zi5pY29uPzQ6NTtpZihkLm51bWJlciYmZC5udW1iZXIubGVuZ3RoPj1nfHxTKXt2YXIgaD10aGlzLl9ub3JtYWxpemVOdW1iZXIoZC5udW1iZXIsZyxkLm51bWJlckZhY3RvcixkLm51bWJlckRpZ2l0cyk7Zi5udW1iZXJfZmFjdG9yPWgubnVtYmVyRmFjdG9yO2YubnVtYmVyX3ZhbHVlPWguZGlzcGxheU51bWJlcjt9ZWxzZXt2YXIgaj1OLmdldEZsb2F0SW5zdGFuY2Uoe21heEZyYWN0aW9uRGlnaXRzOmd9KTtmLm51bWJlcl92YWx1ZT1qLmZvcm1hdChkLm51bWJlcik7fX1pZihmLm51bWJlcl92YWx1ZV9zdGF0ZSl7c3dpdGNoKGYubnVtYmVyX3ZhbHVlX3N0YXRlKXtjYXNlIlBvc2l0aXZlIjpmLm51bWJlcl92YWx1ZV9zdGF0ZT0iR29vZCI7YnJlYWs7Y2FzZSJOZWdhdGl2ZSI6Zi5udW1iZXJfdmFsdWVfc3RhdGU9IkVycm9yIjticmVhazt9fWYuc2l6ZUJlaGF2aW9yPWEubGFzdCgiL2NvcmUvaG9tZS9zaXplQmVoYXZpb3IiKTt0aGlzLmdldFZpZXcoKS5nZXRNb2RlbCgpLnNldFByb3BlcnR5KCIvcHJvcGVydGllcyIsZik7fSxfc2hvdWxkUHJvY2Vzc0RpZ2l0czpmdW5jdGlvbihkLEQpe3ZhciBuO2Q9dHlwZW9mKGQpIT09InN0cmluZyI/ZC50b1N0cmluZygpOmQ7aWYoZC5pbmRleE9mKCIuIikhPT0tMSl7bj1kLnNwbGl0KCIuIilbMV0ubGVuZ3RoO2lmKG4+RCl7cmV0dXJuIHRydWU7fX1yZXR1cm4gZmFsc2U7fX0pO30sdHJ1ZSk7CnNhcC51aS5wcmVkZWZpbmUoJ3NhcC91c2hlbGwvY29tcG9uZW50cy90aWxlcy9jZG0vYXBwbGF1bmNoZXJkeW5hbWljL0R5bmFtaWNUaWxlLnZpZXcnLFsic2FwL20vR2VuZXJpY1RpbGUiLCJzYXAvbS9UaWxlQ29udGVudCIsInNhcC9tL051bWVyaWNDb250ZW50Iiwic2FwL20vbGlicmFyeSJdLGZ1bmN0aW9uKEcsVCxOLG0peyJ1c2Ugc3RyaWN0Ijt2YXIgVj1tLlZhbHVlQ29sb3I7c2FwLnVpLmpzdmlldygic2FwLnVzaGVsbC5jb21wb25lbnRzLnRpbGVzLmNkbS5hcHBsYXVuY2hlcmR5bmFtaWMuRHluYW1pY1RpbGUiLHtnZXRDb250cm9sbGVyTmFtZTpmdW5jdGlvbigpe3JldHVybiJzYXAudXNoZWxsLmNvbXBvbmVudHMudGlsZXMuY2RtLmFwcGxhdW5jaGVyZHluYW1pYy5EeW5hbWljVGlsZSI7fSxjcmVhdGVDb250ZW50OmZ1bmN0aW9uKGMpe3RoaXMuc2V0SGVpZ2h0KCIxMDAlIik7dGhpcy5zZXRXaWR0aCgiMTAwJSIpO3JldHVybiBuZXcgRyh7c2l6ZToiQXV0byIsaGVhZGVyOiJ7L3Byb3BlcnRpZXMvdGl0bGV9IixzdWJoZWFkZXI6InsvcHJvcGVydGllcy9zdWJ0aXRsZX0iLHNpemVCZWhhdmlvcjoiey9wcm9wZXJ0aWVzL3NpemVCZWhhdmlvcn0iLHdyYXBwaW5nVHlwZToiey9wcm9wZXJ0aWVzL3dyYXBwaW5nVHlwZX0iLHRpbGVDb250ZW50OltuZXcgVCh7c2l6ZToiQXV0byIsZm9vdGVyOiJ7L3Byb3BlcnRpZXMvaW5mb30iLGZvb3RlckNvbG9yOntwYXRoOiIvZGF0YS9kaXNwbGF5X2luZm9fc3RhdGUiLGZvcm1hdHRlcjpmdW5jdGlvbihmKXtpZighVltmXSl7Zj1WLk5ldXRyYWw7fXJldHVybiBmO319LHVuaXQ6InsvcHJvcGVydGllcy9udW1iZXJfdW5pdH0iLGNvbnRlbnQ6W25ldyBOKHt0cnVuY2F0ZVZhbHVlVG86NSxzY2FsZToiey9wcm9wZXJ0aWVzL251bWJlcl9mYWN0b3J9Iix2YWx1ZToiey9wcm9wZXJ0aWVzL251bWJlcl92YWx1ZX0iLGluZGljYXRvcjoiey9wcm9wZXJ0aWVzL251bWJlcl9zdGF0ZV9hcnJvd30iLHZhbHVlQ29sb3I6e3BhdGg6Ii9wcm9wZXJ0aWVzL251bWJlcl92YWx1ZV9zdGF0ZSIsZm9ybWF0dGVyOmZ1bmN0aW9uKHYpe2lmKCFWW3ZdKXt2PVYuTmV1dHJhbDt9cmV0dXJuIHY7fX0saWNvbjoiey9wcm9wZXJ0aWVzL2ljb259Iix3aWR0aDoiMTAwJSJ9KV19KV0scHJlc3M6W2Mub25QcmVzcyxjXX0pO319KTt9KTsKc2FwLnVpLnByZWRlZmluZSgnc2FwL3VzaGVsbC9jb21wb25lbnRzL3RpbGVzL3V0aWxzJyxbInNhcC91c2hlbGwvc2VydmljZXMvX0NsaWVudFNpZGVUYXJnZXRSZXNvbHV0aW9uL1ByZWxhdW5jaE9wZXJhdGlvbnMiLCJzYXAvdXNoZWxsL3Jlc291cmNlcyIsInNhcC91aS90aGlyZHBhcnR5L2RhdGFqcyIsInNhcC91aS9tb2RlbC9qc29uL0pTT05Nb2RlbCIsInNhcC91aS9jb3JlL2xpYnJhcnkiLCJzYXAvdWkvbW9kZWwvRmlsdGVyIiwic2FwL3VpL21vZGVsL0ZpbHRlck9wZXJhdG9yIiwic2FwL3VpL2NvcmUvSWNvblBvb2wiLCJzYXAvdWkvY29yZS9JY29uIiwic2FwL20vU2VsZWN0RGlhbG9nIiwic2FwL20vU3RhbmRhcmRMaXN0SXRlbSIsInNhcC9tL1RleHQiLCJzYXAvdWkvY29yZS9DdXN0b21EYXRhIiwic2FwL3VpL2NvcmUvSXRlbSIsInNhcC9tL0xhYmVsIiwic2FwL3VpL21vZGVsL1NvcnRlciIsInNhcC91aS90aGlyZHBhcnR5L2pxdWVyeSIsInNhcC9iYXNlL0xvZyIsInNhcC91c2hlbGwvY29tcG9uZW50cy90aWxlcy91dGlsc1JUIl0sZnVuY3Rpb24oUCxyLE8sSixjLEYsZCxJLGUsUyxmLFQsQyxnLEwsaCxxLGssdSl7InVzZSBzdHJpY3QiO3ZhciBNPWMuTWVzc2FnZVR5cGU7dmFyIFY9Yy5WYWx1ZVN0YXRlO3ZhciBsPWMubXZjLlZpZXdUeXBlO3ZhciBVPXt9O1UuaXNJbml0aWFsPWZ1bmN0aW9uKHMpe3JldHVybiBzPT09IkFwcCBMYXVuY2hlciDigJMgU3RhdGljInx8cz09PSJBcHAgTGF1bmNoZXIg4oCTIER5bmFtaWMifHxzPT09IlRhcmdldCBNYXBwaW5nIjt9O1UuZ2V0UmVzb3VyY2VCdW5kbGVNb2RlbD1mdW5jdGlvbigpe3JldHVybiByLmkxOG5Nb2RlbDt9O1UuZ2V0RW1wdHlSb3dPYmo9ZnVuY3Rpb24oRSl7cmV0dXJue25hbWU6IiIsbWFuZGF0b3J5OmZhbHNlLHZhbHVlOiIiLGlzUmVndWxhckV4cHJlc3Npb246ZmFsc2UsZGVmYXVsdFZhbHVlOiIiLHZhbEVuYWJsZWQ6ZmFsc2V8fCFFLGRlZlZhbEVuYWJsZWQ6dHJ1ZSxlZGl0YWJsZTpFfTt9O1UuZ2V0RW1wdHlUaWxlQWN0aW9uc1Jvd09iaj1mdW5jdGlvbihFKXt2YXIgUj1VLmdldFJlc291cmNlQnVuZGxlTW9kZWwoKS5nZXRSZXNvdXJjZUJ1bmRsZSgpO3JldHVybnttZW51X3RpdGxlOiIiLHRhcmdldF90eXBlOlIuZ2V0VGV4dCgiY29uZmlndXJhdGlvbi50aWxlX2FjdGlvbnMudGFibGUudGFyZ2V0X3R5cGUudXJsIiksbmF2aWdhdGlvbl90YXJnZXQ6IiIsYWN0aW9uOiIiLGljb246IiIsaXNUYXJnZXRUeXBlSW50ZW50OmZhbHNlLGVkaXRhYmxlOkV9O307VS5nZXRUaWxlTmF2aWdhdGlvbkFjdGlvbnNSb3dzPWZ1bmN0aW9uKGEsRSl7dmFyIGI9W10saj1bXTtqPXRoaXMuZ2V0VGlsZU5hdmlnYXRpb25BY3Rpb25zKGEpO2lmKGoubGVuZ3RoKXtmb3IodmFyIGk9MDtpPGoubGVuZ3RoO2krKyl7Yi5wdXNoKHQoaltpXSxFKSk7fX1lbHNle2I9W3RoaXMuZ2V0RW1wdHlUaWxlQWN0aW9uc1Jvd09iaihFKV07fXJldHVybiBiO307VS5nZXRUaWxlTmF2aWdhdGlvbkFjdGlvbnM9ZnVuY3Rpb24oYSl7dmFyIGI9W10scz0iIjt2YXIgaj1hLmJhZy5nZXRCYWcoInRpbGVOYXZpZ2F0aW9uQWN0aW9ucyIpO2lmKGouZ2V0UHJvcGVydHlOYW1lcygpLmluZGV4T2YoInRpbGVfbmF2aWdhdGlvbl9hY3Rpb25zIik+PTApe2I9SlNPTi5wYXJzZShqLmdldFByb3BlcnR5KCJ0aWxlX25hdmlnYXRpb25fYWN0aW9ucyIpKTtmb3IodmFyIGk9MDtpPGIubGVuZ3RoO2krKyl7aWYoYltpXS50ZXh0KXtpZihqLmdldFRleHROYW1lcygpLmluZGV4T2YoImFjdGlvbl90aWxlXyIrKGkrMSkpPj0wKXtzPWouZ2V0VGV4dCgiYWN0aW9uX3RpbGVfIisoaSsxKSk7fWJbaV0udGV4dD1zO319fXJldHVybiBiO307dmFyIHQ9ZnVuY3Rpb24oYSxFKXt2YXIgYj17fSxSPVUuZ2V0UmVzb3VyY2VCdW5kbGVNb2RlbCgpLmdldFJlc291cmNlQnVuZGxlKCk7Yi5tZW51X3RpdGxlPWEudGV4dDtiLmljb249YS5pY29uO2lmKChhLnRhcmdldFVSTCkuY2hhckF0KDApPT09IiMiKXtiLnRhcmdldF90eXBlPVIuZ2V0VGV4dCgiY29uZmlndXJhdGlvbi50aWxlX2FjdGlvbnMudGFibGUudGFyZ2V0X3R5cGUuaW50ZW50Iik7dmFyIE49YS50YXJnZXRVUkwuc3BsaXQoIi0iKTtiLm5hdmlnYXRpb25fdGFyZ2V0PU5bMF0uc3Vic3RyaW5nKDEsTlswXS5sZW5ndGgpO2IuYWN0aW9uPU5bMV07Yi5pc1RhcmdldFR5cGVJbnRlbnQ9dHJ1ZTt9ZWxzZXtiLnRhcmdldF90eXBlPVIuZ2V0VGV4dCgiY29uZmlndXJhdGlvbi50aWxlX2FjdGlvbnMudGFibGUudGFyZ2V0X3R5cGUudXJsIik7Yi5uYXZpZ2F0aW9uX3RhcmdldD1hLnRhcmdldFVSTDtiLmFjdGlvbj0iIjtiLmlzVGFyZ2V0VHlwZUludGVudD1mYWxzZTt9Yi5lZGl0YWJsZT1FO3JldHVybiBiO307VS50aWxlQWN0aW9uc1Jvd3MyVGlsZUFjdGlvbnNBcnJheT1mdW5jdGlvbihhKXt2YXIgYj1bXTtmb3IodmFyIGk9MDtpPGEubGVuZ3RoO2krKyl7aWYoYVtpXS5tZW51X3RpdGxlKXtiLnB1c2gobShhW2ldKSk7fX1yZXR1cm4gYjt9O3ZhciBtPWZ1bmN0aW9uKGEpe3ZhciBiPXt9O2IudGV4dD1hLm1lbnVfdGl0bGU7Yi5pY29uPWEuaWNvbjtpZihhLmFjdGlvbil7Yi50YXJnZXRVUkw9IiMiK2EubmF2aWdhdGlvbl90YXJnZXQrIi0iK2EuYWN0aW9uO31lbHNle2IudGFyZ2V0VVJMPWEubmF2aWdhdGlvbl90YXJnZXQ7fXJldHVybiBiO307VS5wb3B1bGF0ZVRpbGVOYXZpZ2F0aW9uQWN0aW9uc0JhZz1mdW5jdGlvbihhLE4pe2Euc2V0UHJvcGVydHkoInRpbGVfbmF2aWdhdGlvbl9hY3Rpb25zIixKU09OLnN0cmluZ2lmeShOKSk7Zm9yKHZhciBpPTA7aTxOLmxlbmd0aDtpKyspe3ZhciBBPU5baV0udGV4dDthLnNldFRleHQoImFjdGlvbl90aWxlXyIrKGkrMSksQSk7fX07VS5nZXREZWZhdWx0Rm9ybUZhY3RvcnM9ZnVuY3Rpb24oKXtyZXR1cm57ImFwcERlZmF1bHQiOmZhbHNlLCJtYW51YWwiOnsiZGVza3RvcCI6dHJ1ZSwidGFibGV0Ijp0cnVlLCJwaG9uZSI6dHJ1ZX0sImRlZmF1bHRQYXJhbSI6dHJ1ZX07fTtVLmJ1aWxkRm9ybUZhY3RvcnNPYmplY3Q9ZnVuY3Rpb24oYSl7cmV0dXJueyJhcHBEZWZhdWx0IjphLmdldFByb3BlcnR5KCIvY29uZmlnL2FwcEZvcm1GYWN0b3IiKSwibWFudWFsIjp7ImRlc2t0b3AiOmEuZ2V0UHJvcGVydHkoIi9jb25maWcvZGVza3RvcENoZWNrZWQiKSwidGFibGV0IjphLmdldFByb3BlcnR5KCIvY29uZmlnL3RhYmxldENoZWNrZWQiKSwicGhvbmUiOmEuZ2V0UHJvcGVydHkoIi9jb25maWcvcGhvbmVDaGVja2VkIil9fTt9O1UudGFibGVIYXNEdXBsaWNhdGVQYXJhbWV0ZXJOYW1lcz1mdW5jdGlvbihhKXt2YXIgcD17fTtmb3IodmFyIGk9MDtpPGEubGVuZ3RoO2krKyl7dmFyIGI9YVtpXS5uYW1lO2lmKGIhPT0iIil7aWYocFtiXSl7cmV0dXJuIHRydWU7fXBbYl09dHJ1ZTt9fXJldHVybiBmYWxzZTt9O1UudGFibGVIYXNJbnZhbGlkU2FwUHJlbGF1bmNoT3BlcmF0aW9uVmFsdWU9ZnVuY3Rpb24oYSl7Zm9yKHZhciBpPTA7aTxhLmxlbmd0aDtpKyspe2lmKGFbaV0ubmFtZT09PSJzYXAtcHJlbGF1bmNoLW9wZXJhdGlvbnMiKXtpZihQLnBhcnNlQW5kVmFsaWRhdGVPcGVyYXRpb25zKGFbaV0uZGVmYXVsdFZhbHVlKT09PW51bGwpe3JldHVybiBmYWxzZTt9YnJlYWs7fX1yZXR1cm4gdHJ1ZTt9O1UuZ2V0TWFwcGluZ1NpZ25hdHVyZVN0cmluZz1mdW5jdGlvbihhLGIpe3ZhciBqPSIiO2Zvcih2YXIgaT0wO2k8YS5sZW5ndGg7aSsrKXtpZihhW2ldLm5hbWUpe2orPShuKGFbaV0pKyImIik7fX1yZXR1cm4gYj9qKyIqPSoiOmouc3Vic3RyaW5nKDAsai5sZW5ndGgtMSk7fTt2YXIgbj1mdW5jdGlvbihhKXt2YXIgcD0iIjtpZihhLm1hbmRhdG9yeSl7aWYoYS5pc1JlZ3VsYXJFeHByZXNzaW9uKXtwPSJ7IithLm5hbWUrIj0iK2VuY29kZVVSSUNvbXBvbmVudChhLnZhbHVlKSsifSI7fWVsc2V7cD1hLm5hbWUrIj0iK2VuY29kZVVSSUNvbXBvbmVudChhLnZhbHVlKTt9fWVsc2V7cD0iWyIrYS5uYW1lKyI9IitlbmNvZGVVUklDb21wb25lbnQoYS5kZWZhdWx0VmFsdWUpKyJdIjt9cmV0dXJuIHA7fTtVLmdldE1hcHBpbmdTaWduYXR1cmVUYWJsZURhdGE9ZnVuY3Rpb24oYSxFKXt2YXIgcD1bXTt2YXIgYj1hLnNwbGl0KCImIik7Zm9yKHZhciBpPTA7aTxiLmxlbmd0aDtpKyspe3ZhciBqPWJbaV07aWYoaiE9PSIqPSoiKXtwLnB1c2gobyhiW2ldLEUpKTt9fXJldHVybiBwO307dmFyIG89ZnVuY3Rpb24ocCxFKXt2YXIgYT17fTtpZihwLmNoYXJBdCgwKT09PSJbIil7YS5tYW5kYXRvcnk9ZmFsc2U7YS5pc1JlZ3VsYXJFeHByZXNzaW9uPWZhbHNlO2EudmFsdWU9IiI7cD1wLnN1YnN0cmluZygxLHAubGVuZ3RoLTEpO2EubmFtZT1wLnN1YnN0cmluZygwLHAuaW5kZXhPZigiPSIpKTthLmRlZmF1bHRWYWx1ZT1kZWNvZGVVUklDb21wb25lbnQocC5zdWJzdHJpbmcocC5pbmRleE9mKCI9IikrMSkpO31lbHNle2EubWFuZGF0b3J5PXRydWU7YS5kZWZhdWx0VmFsdWU9IiI7aWYocC5jaGFyQXQoMCk9PT0ieyIpe2EuaXNSZWd1bGFyRXhwcmVzc2lvbj10cnVlO3A9cC5zdWJzdHJpbmcoMSxwLmxlbmd0aC0xKTt9ZWxzZXthLmlzUmVndWxhckV4cHJlc3Npb249ZmFsc2U7fWEubmFtZT1wLnN1YnN0cmluZygwLHAuaW5kZXhPZigiPSIpKTthLnZhbHVlPWRlY29kZVVSSUNvbXBvbmVudChwLnN1YnN0cmluZyhwLmluZGV4T2YoIj0iKSsxKSk7fWEuZWRpdGFibGU9RTtpZihFKXthLnZhbEVuYWJsZWQ9YS5tYW5kYXRvcnk7YS5kZWZWYWxFbmFibGVkPSFhLm1hbmRhdG9yeTt9ZWxzZXthLnZhbEVuYWJsZWQ9dHJ1ZTthLmRlZlZhbEVuYWJsZWQ9dHJ1ZTt9cmV0dXJuIGE7fTtVLmdldEFsbG93VW5rbm93blBhcmFtZXRlcnNWYWx1ZT1mdW5jdGlvbihhKXtpZihhJiYoYS5zdWJzdHJpbmcoYS5sZW5ndGgtMyxhLmxlbmd0aCk9PT0iKj0qIikpe3JldHVybiB0cnVlO31yZXR1cm4gZmFsc2U7fTtVLmdldE1hcHBpbmdTaWduYXR1cmU9ZnVuY3Rpb24oUixhKXt2YXIgQT1hPyJhbGxvd2VkIjoiaWdub3JlZCI7dmFyIGI9bmV3IFJlZ0V4cCgiJSVVc2VyRGVmYXVsdFsuXS4rJSUiKTt2YXIgaT1bXTt2YXIgaj17InBhcmFtZXRlcnMiOnt9LCJhZGRpdGlvbmFsX3BhcmFtZXRlcnMiOkF9O1IuZm9yRWFjaChmdW5jdGlvbihwKXtqLnBhcmFtZXRlcnNbcC5uYW1lXT17InJlcXVpcmVkIjpwLm1hbmRhdG9yeSwicmVuYW1lX3RvIjpwLnJlbmFtZV90b307aWYocC5kZWZhdWx0VmFsdWUpe2k9Yi5leGVjKHAuZGVmYXVsdFZhbHVlKTtpZihpKXtwLmRlZmF1bHRWYWx1ZT1pWzBdO31qLnBhcmFtZXRlcnNbcC5uYW1lXS5kZWZhdWx0VmFsdWU9eyJ2YWx1ZSI6cC5kZWZhdWx0VmFsdWV9O31pZihwLnZhbHVlKXtpPWIuZXhlYyhwLnZhbHVlKTtpZihpKXtwLnZhbHVlPWlbMF07fWoucGFyYW1ldGVyc1twLm5hbWVdLmZpbHRlcj17InZhbHVlIjpwLnZhbHVlfTtpZihwLmlzUmVndWxhckV4cHJlc3Npb24pe2oucGFyYW1ldGVyc1twLm5hbWVdLmZpbHRlci5mb3JtYXQ9InJlZ2V4cCI7fX19KTtyZXR1cm4gajt9O1UuZ2V0U2lnbmF0dXJlVGFibGVEYXRhPWZ1bmN0aW9uKHMsRSl7dmFyIHA9W107dmFyIFI9e307dmFyIGE9e307dmFyIGI9cy5wYXJhbWV0ZXJzO2Zvcih2YXIgaSBpbiBiKXthPWJbaV07Uj17fTtSLmVkaXRhYmxlPUU7Ui5uYW1lPWk7Ui5tYW5kYXRvcnk9YS5yZXF1aXJlZDtpZihhLnJlbmFtZV90byl7Ui5yZW5hbWVfdG89YS5yZW5hbWVfdG87fWVsc2V7Ui5yZW5hbWVfdG89YS5yZW5hbWVUbzt9aWYoRSl7Ui52YWxFbmFibGVkPVIubWFuZGF0b3J5O1IuZGVmVmFsRW5hYmxlZD0hUi5tYW5kYXRvcnk7fWVsc2V7Ui52YWxFbmFibGVkPXRydWU7Ui5kZWZWYWxFbmFibGVkPXRydWU7fWlmKGEuZmlsdGVyKXtSLnZhbHVlPWEuZmlsdGVyLnZhbHVlO2lmKGEuZmlsdGVyLmZvcm1hdCYmYS5maWx0ZXIuZm9ybWF0PT09InJlZ2V4cCIpe1IuaXNSZWd1bGFyRXhwcmVzc2lvbj10cnVlO319aWYoYS5kZWZhdWx0VmFsdWUpe1IuZGVmYXVsdFZhbHVlPWEuZGVmYXVsdFZhbHVlLnZhbHVlO31wLnB1c2goUik7fXJldHVybiBwO307VS5nZXRUcmFuc2xhdGVkVGl0bGU9ZnVuY3Rpb24oYSl7aWYoYS5iYWcpe3ZhciBiPWEuYmFnLmdldEJhZygidGlsZVByb3BlcnRpZXMiKTtpZihiLmdldFRleHROYW1lcygpLmluZGV4T2YoImRpc3BsYXlfdGl0bGVfdGV4dCIpPj0wKXtyZXR1cm4gYi5nZXRUZXh0KCJkaXNwbGF5X3RpdGxlX3RleHQiKTt9fWlmKGEudGl0bGUpe3JldHVybiBhLnRpdGxlLmdldFRpdGxlKCk7fWlmKGEucHJldmlldyl7cmV0dXJuIGEucHJldmlldy5nZXRUaXRsZSgpO31yZXR1cm4iIjt9O1UuZ2V0VHJhbnNsYXRlZFN1YnRpdGxlPWZ1bmN0aW9uKGEsYil7aWYoYS5iYWcpe3ZhciBpPWEuYmFnLmdldEJhZygidGlsZVByb3BlcnRpZXMiKTtpZihpLmdldFRleHROYW1lcygpLmluZGV4T2YoImRpc3BsYXlfc3VidGl0bGVfdGV4dCIpPj0wKXtyZXR1cm4gaS5nZXRUZXh0KCJkaXNwbGF5X3N1YnRpdGxlX3RleHQiKTt9fWlmKHR5cGVvZiBiLmRpc3BsYXlfc3VidGl0bGVfdGV4dD09PSJzdHJpbmciKXtyZXR1cm4gYi5kaXNwbGF5X3N1YnRpdGxlX3RleHQ7fWlmKGEucHJldmlldyYmYS5wcmV2aWV3LmdldERlc2NyaXB0aW9uJiZhLnByZXZpZXcuZ2V0RGVzY3JpcHRpb24oKSl7cmV0dXJuIGEucHJldmlldy5nZXREZXNjcmlwdGlvbigpO31yZXR1cm4iIjt9O1UuZ2V0VHJhbnNsYXRlZFByb3BlcnR5PWZ1bmN0aW9uKGEsYixwKXtpZihhLmJhZyl7dmFyIGk9YS5iYWcuZ2V0QmFnKCJ0aWxlUHJvcGVydGllcyIpO2lmKGkuZ2V0VGV4dE5hbWVzKCkuaW5kZXhPZihwKT49MCl7cmV0dXJuIGkuZ2V0VGV4dChwKTt9fXJldHVybiBiW3BdO307VS5nZXRBY3Rpb25Db25maWd1cmF0aW9uPWZ1bmN0aW9uKGEsQSl7dmFyIHM9YS5jb25maWd1cmF0aW9uLmdldFBhcmFtZXRlclZhbHVlQXNTdHJpbmcoInRpbGVDb25maWd1cmF0aW9uIik7dmFyIGI9SlNPTi5wYXJzZShzfHwie30iKSxSO2lmKHR5cGVvZiBBPT09InVuZGVmaW5lZCIpe0E9YS5jb25maWd1cmF0aW9uVWkuaXNFbmFibGVkKCk7fWlmKEEpe1I9VS5nZXRSZXNvdXJjZUJ1bmRsZU1vZGVsKCkuZ2V0UmVzb3VyY2VCdW5kbGUoKTt9Yi5zZW1hbnRpY19vYmplY3Q9Yi5zZW1hbnRpY19vYmplY3R8fChBPyJbIitSLmdldFRleHQoImNvbmZpZ3VyYXRpb24uc2VtYW50aWNfb2JqZWN0IikrIl0iOiIiKTtiLnNlbWFudGljX2FjdGlvbj1iLnNlbWFudGljX2FjdGlvbnx8KEE/IlsiK1IuZ2V0VGV4dCgiY29uZmlndXJhdGlvbi5zZW1hbnRpY19hY3Rpb24iKSsiXSI6IiIpO2IubmF2aWdhdGlvbl9wcm92aWRlcj1iLm5hdmlnYXRpb25fcHJvdmlkZXJ8fCIiO2IubmF2aWdhdGlvbl9wcm92aWRlcl9yb2xlPWIubmF2aWdhdGlvbl9wcm92aWRlcl9yb2xlfHwiIjtiLm5hdmlnYXRpb25fcHJvdmlkZXJfaW5zdGFuY2U9Yi5uYXZpZ2F0aW9uX3Byb3ZpZGVyX2luc3RhbmNlfHwiIjtiLnRhcmdldF9hcHBsaWNhdGlvbl9pZD1iLnRhcmdldF9hcHBsaWNhdGlvbl9pZHx8IiI7Yi50YXJnZXRfYXBwbGljYXRpb25fYWxpYXM9Yi50YXJnZXRfYXBwbGljYXRpb25fYWxpYXN8fCIiO2IuZGlzcGxheV9pbmZvX3RleHQ9Yi5kaXNwbGF5X2luZm9fdGV4dHx8IiI7Yi5lZGl0YWJsZT10cnVlO2lmKGEuY29uZmlndXJhdGlvblVpJiZhLmNvbmZpZ3VyYXRpb25VaS5pc1JlYWRPbmx5KXtpZihhLmNvbmZpZ3VyYXRpb25VaS5pc1JlYWRPbmx5KCkpe2IuZWRpdGFibGU9ZmFsc2U7fX1yZXR1cm4gYjt9O1UuZ2V0Q29uZmlndXJhdGlvbj1mdW5jdGlvbih2KXt2YXIgYT12LmdldFZpZXdEYXRhKCk7dmFyIGI9YS5jaGlwO3ZhciBpPXUuZ2V0Q29uZmlndXJhdGlvbihiLHRydWUsdHJ1ZSk7cmV0dXJuIGk7fTtVLmdldENvbmZpZ3VyYXRpb25VaT1mdW5jdGlvbih2LHMpe3ZhciBhLGIsUixpLEEsajt2YXIgcD12LmdldFZpZXdEYXRhKCk7dmFyIHc9VS5nZXRDb25maWd1cmF0aW9uKHYpO3ZhciB4PW5ldyBKKHtjb25maWc6dyx0aWxlTW9kZWw6di5nZXRNb2RlbCgpfSk7YT1uZXcgc2FwLnVpLnZpZXcoe3R5cGU6bC5YTUwsdmlld0RhdGE6cCx2aWV3TmFtZTpzfSk7YS5zZXRNb2RlbCh4KTtiPWEuYnlJZCgibmF2aWdhdGlvbl9zZW1hbnRpY19vYmplY3RJbnB1dCIpfHxhLmJ5SWQoInNlbWFudGljX29iamVjdElucHV0Iik7aWYoYil7Yi5nZXRNb2RlbCgpLnNldFByb3BlcnR5KCIvZW5hYmxlZCIsdy5uYXZpZ2F0aW9uX3VzZV9zZW1hbnRpY19vYmplY3QpO2IuZ2V0TW9kZWwoKS5zZXRQcm9wZXJ0eSgiL3ZhbHVlIix3LnNlbWFudGljX29iamVjdHx8dy5uYXZpZ2F0aW9uX3NlbWFudGljX29iamVjdCk7fVI9YS5ieUlkKCJuYXZpZ2F0aW9uX3Byb3ZpZGVyX3JvbGVJbnB1dCIpO2lmKFIpe1IuZ2V0TW9kZWwoKS5zZXRQcm9wZXJ0eSgiL3ZhbHVlIix3Lm5hdmlnYXRpb25fcHJvdmlkZXJfcm9sZSk7fWk9YS5ieUlkKCJuYXZpZ2F0aW9uX3Byb3ZpZGVyX2luc3RhbmNlSW5wdXQiKTtpZihpKXtpLmdldE1vZGVsKCkuc2V0UHJvcGVydHkoIi92YWx1ZSIsdy5uYXZpZ2F0aW9uX3Byb3ZpZGVyX2luc3RhbmNlKTt9QT1hLmJ5SWQoInRhcmdldF9hcHBsaWNhdGlvbl9hbGlhc0lucHV0Iik7aWYoQSl7QS5nZXRNb2RlbCgpLnNldFByb3BlcnR5KCIvdmFsdWUiLHcudGFyZ2V0X2FwcGxpY2F0aW9uX2FsaWFzKTt9aj1hLmJ5SWQoInRhcmdldFR5cGVJbnB1dCIpO2lmKGope2lmKCFhLmdldE1vZGVsKCkuZ2V0UHJvcGVydHkoIi9jb25maWcvdHJhbnNhY3Rpb24iKSl7YS5nZXRNb2RlbCgpLnNldFByb3BlcnR5KCIvY29uZmlnL3RyYW5zYWN0aW9uIix7fSk7fWlmKCFhLmdldE1vZGVsKCkuZ2V0UHJvcGVydHkoIi9jb25maWcvd2ViX2R5bnBybyIpKXthLmdldE1vZGVsKCkuc2V0UHJvcGVydHkoIi9jb25maWcvd2ViX2R5bnBybyIse30pO31pZih2LmdldE1vZGVsKCkuZ2V0UHJvcGVydHkoIi9jb25maWcvbmF2aWdhdGlvbl9wcm92aWRlciIpPT09IkxQRCIpe1UuZGlzcGxheUxwZEN1c3RBcHBsaWNhdGlvblR5cGVGaWVsZHMoYSk7fWVsc2UgaWYodi5nZXRNb2RlbCgpLmdldFByb3BlcnR5KCIvY29uZmlnL25hdmlnYXRpb25fcHJvdmlkZXIiKT09PSJXQ0YiKXtqLnNldFNlbGVjdGVkS2V5KCJXQ0YiKTtVLmRpc3BsYXlXQ0ZBcHBsaWNhdGlvblR5cGVGaWVsZHMoYSk7fWVsc2UgaWYodi5nZXRNb2RlbCgpLmdldFByb3BlcnR5KCIvY29uZmlnL25hdmlnYXRpb25fcHJvdmlkZXIiKT09PSJTQVBVSTUifHx2LmdldE1vZGVsKCkuZ2V0UHJvcGVydHkoIi9jb25maWcvbmF2aWdhdGlvbl9wcm92aWRlciIpPT09IiIpe2ouc2V0U2VsZWN0ZWRLZXkoIlNBUFVJNSIpO1UuZGlzcGxheVNhcHVpNUFwcGxpY2F0aW9uVHlwZUZpZWxkcyhhKTt9ZWxzZSBpZih2LmdldE1vZGVsKCkuZ2V0UHJvcGVydHkoIi9jb25maWcvbmF2aWdhdGlvbl9wcm92aWRlciIpPT09IlRSIil7VS5kaXNwbGF5VHJhbnNhY3Rpb25BcHBsaWNhdGlvblR5cGVGaWVsZHMoYSk7fWVsc2UgaWYodi5nZXRNb2RlbCgpLmdldFByb3BlcnR5KCIvY29uZmlnL25hdmlnYXRpb25fcHJvdmlkZXIiKT09PSJXREEiKXtVLmRpc3BsYXlXZWJEeW5wcm9BcHBsaWNhdGlvblR5cGVGaWVsZHMoYSk7fWVsc2UgaWYodi5nZXRNb2RlbCgpLmdldFByb3BlcnR5KCIvY29uZmlnL25hdmlnYXRpb25fcHJvdmlkZXIiKT09PSJVUkwiKXtVLmRpc3BsYXlVUkxBcHBsaWNhdGlvblR5cGVGaWVsZHMoYSk7fX1yZXR1cm4gYTt9O1UuX3VwZGF0ZVRpbGVQcm9wZXJ0aWVzVGV4dHM9ZnVuY3Rpb24odixhKXt2YXIgYj1hLmdldFRleHROYW1lcygpLGk9di5nZXRNb2RlbCgpO2IuZm9yRWFjaChmdW5jdGlvbihwKXtpLnNldFByb3BlcnR5KCIvZGF0YS8iK3AsYS5nZXRUZXh0KHApKTtpLnNldFByb3BlcnR5KCIvY29uZmlnLyIrcCxhLmdldFRleHQocCkpO30pO307VS5fdXBkYXRlVGlsZUNvbmZpZ3VyYXRpb249ZnVuY3Rpb24odixhKXt2YXIgYj12LmdldE1vZGVsKCk7cS5lYWNoKEpTT04ucGFyc2UoYSksZnVuY3Rpb24ocCxzKXtiLnNldFByb3BlcnR5KCIvZGF0YS8iK3Ascyk7Yi5zZXRQcm9wZXJ0eSgiL2NvbmZpZy8iK3Ascyk7aWYocD09PSJuYXZpZ2F0aW9uX3RhcmdldF91cmwiKXtiLnNldFByb3BlcnR5KCIvbmF2LyIrcCxzKTt9fSk7fTtVLmFEYXRhPVtdO1UuYUFjdGlvbkRhdGE9W107VS5hUm9sZURhdGE9W107VS5hQWxpYXNEYXRhPVtdO1Uub2JqZWN0U2VsZWN0RG9TZWFyY2g9ZnVuY3Rpb24oRSl7dmFyIGE9W10sdj1FLmdldFBhcmFtZXRlcigidmFsdWUiKSxpLHMsYjtpZih2IT09dW5kZWZpbmVkKXtpPUUuZ2V0UGFyYW1ldGVyKCJpdGVtc0JpbmRpbmciKTtzPW5ldyBGKCJuYW1lIixkLkNvbnRhaW5zLHYpO2I9bmV3IEYoIm9iaiIsZC5Db250YWlucyx2KTthLnB1c2goYik7YS5wdXNoKHMpO2kuZmlsdGVyKG5ldyBGKGEsZmFsc2UpKTt9fTtVLmFjdGlvblNlbGVjdERvU2VhcmNoPWZ1bmN0aW9uKEUpe3ZhciBhPVtdLHY9RS5nZXRQYXJhbWV0ZXIoInZhbHVlIiksaSxzO2lmKHYhPT11bmRlZmluZWQpe2k9RS5nZXRQYXJhbWV0ZXIoIml0ZW1zQmluZGluZyIpO3M9bmV3IEYoInRleHQiLGQuQ29udGFpbnMsdik7YS5wdXNoKHMpO2kuZmlsdGVyKG5ldyBGKGEsZmFsc2UpKTt9fTtVLnJvbGVTZWxlY3REb1NlYXJjaD1mdW5jdGlvbihFKXt2YXIgYT1bXSx2PUUuZ2V0UGFyYW1ldGVyKCJ2YWx1ZSIpLGkscyxiO2lmKHYhPT11bmRlZmluZWQpe2k9RS5nZXRQYXJhbWV0ZXIoIml0ZW1zQmluZGluZyIpO3M9bmV3IEYoInJvbGUiLGQuQ29udGFpbnMsdik7Yj1uZXcgRigiaW5zdGFuY2UiLGQuQ29udGFpbnMsdik7YS5wdXNoKHMpO2EucHVzaChiKTtpLmZpbHRlcihuZXcgRihhLGZhbHNlKSk7fX07VS5pbnN0YW5jZVNlbGVjdERvU2VhcmNoPWZ1bmN0aW9uKEUpe3ZhciBhPVtdLHY9RS5nZXRQYXJhbWV0ZXIoInZhbHVlIiksYixSLGkscyxqO2I9RS5nZXRTb3VyY2UoKS5nZXRDdXN0b21EYXRhKCk7Uj1iWzBdLmdldFZhbHVlKCk7aWYodiE9PXVuZGVmaW5lZCl7aT1FLmdldFBhcmFtZXRlcigiaXRlbXNCaW5kaW5nIik7aWYodiE9PSIiKXtqPW5ldyBGKCJpbnN0YW5jZSIsZC5Db250YWlucyx2KTthLnB1c2goaik7fWlmKFIhPT0iIil7cz1uZXcgRigicm9sZSIsZC5FUSxSKTthLnB1c2gocyk7fWlmKGEubGVuZ3RoPjApe2kuZmlsdGVyKG5ldyBGKGEsdHJ1ZSkpO319fTtVLmluc3RhbmNlU3VnZ2VzdD1mdW5jdGlvbihhLEUpe3ZhciB2PWEuZ2V0VmlldygpLGI9W10scz1FLmdldFBhcmFtZXRlcigidmFsdWUiKSxSLGksaixwLHc7Uj12LmJ5SWQoIm5hdmlnYXRpb25fcHJvdmlkZXJfcm9sZUlucHV0Iik7aT1SLmdldFZhbHVlKCk7cz1FLmdldFBhcmFtZXRlcigic3VnZ2VzdFZhbHVlIik7aWYocyE9PSIiKXt3PW5ldyBGKCJpbnN0YW5jZSIsZC5Db250YWlucyxzKTtiLnB1c2godyk7fWlmKGkhPT0iIil7cD1uZXcgRigicm9sZSIsZC5FUSxpKTtiLnB1c2gocCk7fWlmKGIubGVuZ3RoPjApe2o9RS5vU291cmNlLmdldEJpbmRpbmcoInN1Z2dlc3Rpb25JdGVtcyIpO2ouZmlsdGVyKG5ldyBGKGIsdHJ1ZSkpO319O1UuYWxpYXNTdWdnZXN0PWZ1bmN0aW9uKGEsRSl7dmFyIHY9YS5nZXRWaWV3KCksYj1bXSxzPUUuZ2V0UGFyYW1ldGVyKCJ2YWx1ZSIpLGksaixwLHcseDtpPXYuYnlJZCgibmF2aWdhdGlvbl9wcm92aWRlcl9pbnN0YW5jZUlucHV0Iik7aj1pLmdldFZhbHVlKCk7cz1FLmdldFBhcmFtZXRlcigic3VnZ2VzdFZhbHVlIik7aWYocyE9PSIiKXt4PW5ldyBGKCJhbGlhcyIsZC5Db250YWlucyxzKTtiLnB1c2goeCk7fWlmKGohPT0iIil7dz1uZXcgRigiaW5zdGFuY2UiLGQuRVEsaik7Yi5wdXNoKHcpO31pZihiLmxlbmd0aD4wKXtwPUUub1NvdXJjZS5nZXRCaW5kaW5nKCJzdWdnZXN0aW9uSXRlbXMiKTtwLmZpbHRlcihuZXcgRihiLHRydWUpKTt9fTtVLmFsaWFzU2VsZWN0RG9TZWFyY2g9ZnVuY3Rpb24oRSl7dmFyIGE9W10sdj1FLmdldFBhcmFtZXRlcigidmFsdWUiKSxiLGksaixzLHA7Yj1FLmdldFNvdXJjZSgpLmdldEN1c3RvbURhdGEoKTtpPWJbMF0uZ2V0VmFsdWUoKTtpZih2IT09dW5kZWZpbmVkKXtqPUUuZ2V0UGFyYW1ldGVyKCJpdGVtc0JpbmRpbmciKTtzPW5ldyBGKCJpbnN0YW5jZSIsZC5FUSxpKTtpZih2IT09IiIpe3A9bmV3IEYoImFsaWFzIixkLkNvbnRhaW5zLHYpO2EucHVzaChwKTt9YS5wdXNoKHMpO2ouZmlsdGVyKG5ldyBGKGEsdHJ1ZSkpO319O1Uub2JqZWN0U2VsZWN0VXBkYXRlRGlhbG9nPWZ1bmN0aW9uKHMsdil7dmFyIGE9W10saT1zLmdldEJpbmRpbmcoIml0ZW1zIiksYjtpZih2IT09dW5kZWZpbmVkKXtiPW5ldyBGKCJuYW1lIixkLkNvbnRhaW5zLHYpO2EucHVzaChiKTtpLmZpbHRlcihhKTt9fTtVLmFjdGlvblNlbGVjdFVwZGF0ZURpYWxvZz1mdW5jdGlvbihzLHYpe3ZhciBhPVtdLGk9cy5nZXRCaW5kaW5nKCJpdGVtcyIpLGI7aWYodiE9PXVuZGVmaW5lZCl7Yj1uZXcgRigidGV4dCIsZC5Db250YWlucyx2KTthLnB1c2goYik7aS5maWx0ZXIoYSk7fX07VS5yb2xlU2VsZWN0VXBkYXRlRGlhbG9nPWZ1bmN0aW9uKHMsdil7dmFyIGE9W10saT1zLmdldEJpbmRpbmcoIml0ZW1zIiksYjtpZih2IT09dW5kZWZpbmVkKXtiPW5ldyBGKCJyb2xlIixkLkNvbnRhaW5zLHYpO2EucHVzaChiKTtpLmZpbHRlcihhKTt9fTtVLmluc3RhbmNlU2VsZWN0VXBkYXRlRGlhbG9nPWZ1bmN0aW9uKHMsdil7dmFyIGE9W10sYixpPXMuZ2V0QmluZGluZygiaXRlbXMiKSxqLFIscDtiPXMuZ2V0Q3VzdG9tRGF0YSgpO1I9YlswXS5nZXRWYWx1ZSgpO2lmKHYhPT11bmRlZmluZWQpe2o9bmV3IEYoImluc3RhbmNlIixkLkNvbnRhaW5zLHYpO2EucHVzaChqKTt9aWYoUiE9PSIiKXtwPW5ldyBGKCJyb2xlIixkLkVRLFIpO2EucHVzaChwKTt9aWYoYS5sZW5ndGg+MCl7aS5maWx0ZXIoYSx0cnVlKTt9fTtVLmFsaWFzU2VsZWN0VXBkYXRlRGlhbG9nPWZ1bmN0aW9uKHMsdil7dmFyIGE9W10sYixpLGo9cy5nZXRCaW5kaW5nKCJpdGVtcyIpLHAsdztiPXMuZ2V0Q3VzdG9tRGF0YSgpO2k9YlswXS5nZXRWYWx1ZSgpO2lmKHYhPT11bmRlZmluZWQpe3c9bmV3IEYoImFsaWFzIixkLkNvbnRhaW5zLHYpO2EucHVzaCh3KTt9aWYoaSE9PSIiKXtwPW5ldyBGKCJpbnN0YW5jZSIsZC5FUSxpKTthLnB1c2gocCk7fWlmKGEubGVuZ3RoPjApe2ouZmlsdGVyKGEsdHJ1ZSk7fX07VS5zU2VsZWN0ZWRDb2xvcj0ocSgiLnNhcE1TdGRUaWxlSWNvbkRpdiIpLmNzcygiY29sb3IiKXx8IiMwMDdjYzAiKS5zcGxpdCgiICIpLmpvaW4oIiIpO1Uuc0Rlc2VsZWN0ZWRDb2xvcj0ocSgiLnNhcE1MYWJlbDpub3QoLnNhcEZpb3JpRHJvcFpvbmVUZXh0ICkiKS5jc3MoImNvbG9yIil8fCIjNjY2NjY2Iikuc3BsaXQoIiAiKS5qb2luKCIiKTtVLmljb25TZWxlY3Q9ZnVuY3Rpb24oaSxzKXtpLnNldENvbG9yKHM/VS5zU2VsZWN0ZWRDb2xvcjpVLnNEZXNlbGVjdGVkQ29sb3IpO2kuc2V0QWN0aXZlQ29sb3Iocz9VLnNEZXNlbGVjdGVkQ29sb3I6VS5zU2VsZWN0ZWRDb2xvcik7fTtVLm9uU2VsZWN0SWNvbj1mdW5jdGlvbihhLGksYixqKXt2YXIgcD1hLmdldFZpZXcoKS5nZXRNb2RlbCgpLHM7aWYoaSl7cz1wLmdldFByb3BlcnR5KCIvY29uZmlnL3RpbGVfYWN0aW9uc19zZWxlY3RlZF9pY29uIik7fWVsc2V7cz1wLmdldFByb3BlcnR5KCIvY29uZmlnL3NlbGVjdGVkX2ljb24iKTt9aWYocyl7VS5pY29uU2VsZWN0KHMsZmFsc2UpO31zPWouZ2V0U291cmNlKCk7VS5pY29uU2VsZWN0KHMsdHJ1ZSk7cC5zZXRQcm9wZXJ0eSgiL2NvbmZpZy9vay5lbmFibGVkIix0cnVlKTtpZihpKXtwLnNldFByb3BlcnR5KCIvY29uZmlnL3RpbGVfYWN0aW9uc19zZWxlY3RlZF9pY29uIixzKTt9ZWxzZXtwLnNldFByb3BlcnR5KCIvY29uZmlnL3NlbGVjdGVkX2ljb24iLHMpO31hLmJ5SWQoInNlbGVjdEljb25EaWFsb2ciKS5zZXRUaXRsZShzLmdldFNyYygpKTt9O1Uub25TZWxlY3RJY29uQ2xvc2U9ZnVuY3Rpb24odil7di5ieUlkKCJzZWxlY3RJY29uRGlhbG9nIikuY2xvc2UoKTt9O1Uub25TZWxlY3RJY29uT2s9ZnVuY3Rpb24odixhKXt2YXIgcz12LmdldE1vZGVsKCkuZ2V0UHJvcGVydHkoIi9jb25maWcvc2VsZWN0ZWRfaWNvbiIpO2lmKCFhKXt2LmdldE1vZGVsKCkuc2V0UHJvcGVydHkoIi9jb25maWcvZGlzcGxheV9pY29uX3VybCIscy5nZXRTcmMoKSk7di5ieUlkKCJpY29uSW5wdXQiKS5zZXRWYWx1ZVN0YXRlKFYuTm9uZSk7fWVsc2V7cz12LmdldE1vZGVsKCkuZ2V0UHJvcGVydHkoIi9jb25maWcvdGlsZV9hY3Rpb25zX3NlbGVjdGVkX2ljb24iKTtpZihzKXthLnNldFZhbHVlKHMuZ2V0U3JjKCkpO2Euc2V0VmFsdWVTdGF0ZShWLk5vbmUpO319VS5vblNlbGVjdEljb25DbG9zZSh2KTt9O1UuaWNvblNlbGVjdE9uVmFsdWVIZWxwUmVxdWVzdD1mdW5jdGlvbihhLEUsYil7dmFyIHA9YS5nZXRWaWV3KCkuZ2V0TW9kZWwoKTt2YXIgUj1hLmdldFZpZXcoKS5ieUlkKCJpY29ucyIpO3ZhciBzPUkuZ2V0SWNvbkNvbGxlY3Rpb25OYW1lcygpO3ZhciBEPWEuZ2V0VmlldygpLmJ5SWQoInNlbGVjdEljb25EaWFsb2ciKTt2YXIgdj1hLmdldFZpZXcoKS5ieUlkKCJvayIpO3ZhciB3LHgseSx6LGksaixBLEI9ZmFsc2U7Ui5kZXN0cm95Q29udGVudCgpO2lmKGIpe3k9c2FwLnVpLmdldENvcmUoKS5ieUlkKEUuZ2V0UGFyYW1ldGVyKCJpZCIpKTt4PXkuZ2V0VmFsdWUoKTt9ZWxzZXt4PXAuZ2V0UHJvcGVydHkoIi9jb25maWcvZGlzcGxheV9pY29uX3VybCIpO312LmF0dGFjaEV2ZW50T25jZSgicHJlc3MiLGZ1bmN0aW9uKCl7VS5vblNlbGVjdEljb25PayhhLmdldFZpZXcoKSx5KTt9KTtzLnNvcnQoKTtzPXEuZ3JlcChzLGZ1bmN0aW9uKEcpe2lmKEc9PT0iQnVzaW5lc3NTdWl0ZUluQXBwU3ltYm9scyIpe0I9dHJ1ZTtyZXR1cm4gZmFsc2U7fXJldHVybiB0cnVlO30pO2lmKEIpe3MucHVzaCgiQnVzaW5lc3NTdWl0ZUluQXBwU3ltYm9scyIpO31mb3IoaT0wO2k8cy5sZW5ndGg7aSs9MSl7ej1JLmdldEljb25OYW1lcyhzW2ldKTt6LnNvcnQoKTtmb3Ioaj0wO2o8ei5sZW5ndGg7ais9MSl7QT1JLmdldEljb25VUkkoeltqXSxzW2ldKTtSLmFkZENvbnRlbnQobmV3IGUoe2hlaWdodDoiMzhweCIscHJlc3M6VS5vblNlbGVjdEljb24uYmluZChudWxsLGEsYix5KSxzaXplOiIycmVtIixzcmM6QSx0b29sdGlwOkEsd2lkdGg6IjM4cHgifSkpO319dz1SLmdldENvbnRlbnQoKTtwLnNldFByb3BlcnR5KCIvY29uZmlnL29rLmVuYWJsZWQiLGZhbHNlKTtELmJpbmRQcm9wZXJ0eSgidGl0bGUiLHttb2RlbDoiaTE4biIscGF0aDoiY29uZmlndXJhdGlvbi5zZWxlY3RfaWNvbiJ9KTtmb3IoaT0wO2k8dy5sZW5ndGg7aSs9MSl7aWYod1tpXS5nZXRTcmMoKT09PXgpe2lmKGIpe3Auc2V0UHJvcGVydHkoIi9jb25maWcvdGlsZV9hY3Rpb25zX3NlbGVjdGVkX2ljb24iLHdbaV0pO31lbHNle3Auc2V0UHJvcGVydHkoIi9jb25maWcvc2VsZWN0ZWRfaWNvbiIsd1tpXSk7fVUuaWNvblNlbGVjdCh3W2ldLHRydWUpO3Auc2V0UHJvcGVydHkoIi9jb25maWcvb2suZW5hYmxlZCIsdHJ1ZSk7RC5zZXRUaXRsZSh4KTt9ZWxzZXtVLmljb25TZWxlY3Qod1tpXSxmYWxzZSk7fX1ELm9wZW4oKTt9O1Uub2JqZWN0U2VsZWN0T25WYWx1ZUhlbHBSZXF1ZXN0PWZ1bmN0aW9uKGEsRSxpKXt2YXIgdj1hLmdldFZpZXcoKSxzPVUuZ2V0UmVzb3VyY2VCdW5kbGVNb2RlbCgpLmdldFJlc291cmNlQnVuZGxlKCkuZ2V0VGV4dCgiY29uZmlndXJhdGlvbi5zZW1hbnRpY19vYmplY3QiKSxiLGoscD1uZXcgSigpLHc9bmV3IFMoInNlbWFudGljX29iamVjdF9zZWxlY3RfZGlhbG9nIix7dGl0bGU6cyxzZWFyY2g6VS5vYmplY3RTZWxlY3REb1NlYXJjaCxsaXZlQ2hhbmdlOlUub2JqZWN0U2VsZWN0RG9TZWFyY2h9KSx4PW5ldyBmKHt0aXRsZToie29ian0ifSk7aWYoaSl7Yj1zYXAudWkuZ2V0Q29yZSgpLmJ5SWQoRS5nZXRQYXJhbWV0ZXIoImlkIikpO31lbHNle2I9di5ieUlkKCJzZW1hbnRpY19vYmplY3RJbnB1dCIpfHx2LmJ5SWQoIm5hdmlnYXRpb25fc2VtYW50aWNfb2JqZWN0SW5wdXQiKTt9aj1iLmdldFZhbHVlKCk7dy5vcGVuKGopO3Auc2V0RGF0YShhLmFEZWZhdWx0T2JqZWN0cy5jb25jYXQoVS5hRGF0YSkpO3cuYmluZEFnZ3JlZ2F0aW9uKCJpdGVtcyIsIi8iLHgpO3cuc2V0TW9kZWwocCk7VS5vYmplY3RTZWxlY3RVcGRhdGVEaWFsb2codyxqKTt3LmF0dGFjaENhbmNlbChmdW5jdGlvbih5KXtiLnNldFZhbHVlKGopO2lmKCFpKXtiLmZpcmVDaGFuZ2UoKTt9dy5kZXN0cm95KCk7dz1udWxsO30pO3cuYXR0YWNoQ29uZmlybShmdW5jdGlvbih5KXt2YXIgej15LmdldFBhcmFtZXRlcigic2VsZWN0ZWRJdGVtIik7aWYoeil7Yi5zZXRWYWx1ZSh6LmdldFRpdGxlKCkpO2lmKCFpKXtiLmZpcmVDaGFuZ2UoKTt9fXcuZGVzdHJveSgpO3c9bnVsbDt9KTt9O1UuYWN0aW9uU2VsZWN0T25WYWx1ZUhlbHBSZXF1ZXN0PWZ1bmN0aW9uKGEsRSxpKXt2YXIgdj1hLmdldFZpZXcoKSxzPVUuZ2V0UmVzb3VyY2VCdW5kbGVNb2RlbCgpLmdldFJlc291cmNlQnVuZGxlKCkuZ2V0VGV4dCgiY29uZmlndXJhdGlvbi5zZW1hbnRpY19hY3Rpb24iKSxBLGIsaj1uZXcgSigpLHA9bmV3IFMoInNlbWFudGljX2FjdGlvbl9zZWxlY3RfZGlhbG9nIix7dGl0bGU6cyxzZWFyY2g6VS5hY3Rpb25TZWxlY3REb1NlYXJjaCxsaXZlQ2hhbmdlOlUuYWN0aW9uU2VsZWN0RG9TZWFyY2h9KSx3PW5ldyBmKHt0aXRsZToie3RleHR9In0pO2lmKGkpe0E9c2FwLnVpLmdldENvcmUoKS5ieUlkKEUuZ2V0UGFyYW1ldGVyKCJpZCIpKTt9ZWxzZXtBPXYuYnlJZCgic2VtYW50aWNfYWN0aW9uSW5wdXQiKXx8di5ieUlkKCJuYXZpZ2F0aW9uX3NlbWFudGljX2FjdGlvbklucHV0Iik7fWI9QS5nZXRWYWx1ZSgpO3Aub3BlbihiKTtqLnNldERhdGEoVS5hQWN0aW9uRGF0YSk7cC5iaW5kQWdncmVnYXRpb24oIml0ZW1zIiwiL2l0ZW1zIix3KTtwLnNldE1vZGVsKGopO1UuYWN0aW9uU2VsZWN0VXBkYXRlRGlhbG9nKHAsYik7cC5hdHRhY2hDYW5jZWwoZnVuY3Rpb24oeCl7QS5zZXRWYWx1ZShiKTtpZighaSl7QS5maXJlQ2hhbmdlKCk7fXAuZGVzdHJveSgpO3A9bnVsbDt9KTtwLmF0dGFjaENvbmZpcm0oZnVuY3Rpb24oeCl7dmFyIHk9eC5nZXRQYXJhbWV0ZXIoInNlbGVjdGVkSXRlbSIpO2lmKHkpe0Euc2V0VmFsdWUoeS5nZXRUaXRsZSgpKTtpZighaSl7QS5maXJlQ2hhbmdlKCk7QS5maXJlTGl2ZUNoYW5nZSh7Im5ld1ZhbHVlIjp5LmdldFRpdGxlKCl9KTt9fXAuZGVzdHJveSgpO3A9bnVsbDt9KTt9O1Uucm9sZVNlbGVjdE9uVmFsdWVIZWxwUmVxdWVzdD1mdW5jdGlvbihhKXt2YXIgdj1hLmdldFZpZXcoKSxzPVUuZ2V0UmVzb3VyY2VCdW5kbGVNb2RlbCgpLmdldFJlc291cmNlQnVuZGxlKCkuZ2V0VGV4dCgiY29uZmlndXJhdGlvbi5uYXZpZ2F0aW9uX3Byb3ZpZGVyX3JvbGUiKSxSLGksYixqPW5ldyBKKCkscD1uZXcgc2FwLm0uVGFibGVTZWxlY3REaWFsb2coInJvbGVfc2VsZWN0X2RpYWxvZyIse3RpdGxlOnMsc2VhcmNoOlUucm9sZVNlbGVjdERvU2VhcmNoLGxpdmVDaGFuZ2U6VS5yb2xlU2VsZWN0RG9TZWFyY2gsY29sdW1uczpbbmV3IHNhcC5tLkNvbHVtbih7aGVhZGVyOltuZXcgVCh7dGV4dDpVLmdldFJlc291cmNlQnVuZGxlTW9kZWwoKS5nZXRSZXNvdXJjZUJ1bmRsZSgpLmdldFRleHQoImNvbmZpZ3VyYXRpb24ubmF2aWdhdGlvbl9wcm92aWRlcl9yb2xlIil9KV19KSxuZXcgc2FwLm0uQ29sdW1uKHtoZWFkZXI6W25ldyBUKHt0ZXh0OlUuZ2V0UmVzb3VyY2VCdW5kbGVNb2RlbCgpLmdldFJlc291cmNlQnVuZGxlKCkuZ2V0VGV4dCgiY29uZmlndXJhdGlvbi5uYXZpZ2F0aW9uX3Byb3ZpZGVyX2luc3RhbmNlIil9KV19KV19KSx3PW5ldyBzYXAubS5Db2x1bW5MaXN0SXRlbSh7Y2VsbHM6W25ldyBUKHt0ZXh0OiJ7cm9sZX0ifSksbmV3IFQoe3RleHQ6IntpbnN0YW5jZX0ifSldfSk7Uj12LmJ5SWQoIm5hdmlnYXRpb25fcHJvdmlkZXJfcm9sZUlucHV0Iik7aT12LmJ5SWQoIm5hdmlnYXRpb25fcHJvdmlkZXJfaW5zdGFuY2VJbnB1dCIpO2I9Ui5nZXRWYWx1ZSgpO3Aub3BlbihiKTtqLnNldERhdGEoYS5hRGVmYXVsdE9iamVjdHMuY29uY2F0KFUuYVJvbGVEYXRhKSk7cC5iaW5kQWdncmVnYXRpb24oIml0ZW1zIiwiLyIsdyk7cC5zZXRNb2RlbChqKTtVLnJvbGVTZWxlY3RVcGRhdGVEaWFsb2cocCxiKTtwLmF0dGFjaENhbmNlbChmdW5jdGlvbih4KXtSLnNldFZhbHVlKGIpO1IuZmlyZUNoYW5nZSgpO3AuZGVzdHJveSgpO3A9bnVsbDt9KTtwLmF0dGFjaENvbmZpcm0oZnVuY3Rpb24oeCl7dmFyIHk9eC5nZXRQYXJhbWV0ZXIoInNlbGVjdGVkSXRlbSIpO2lmKHkpe1Iuc2V0VmFsdWUoeS5nZXRDZWxscygpWzBdLmdldFRleHQoKSk7aS5zZXRWYWx1ZSh5LmdldENlbGxzKClbMV0uZ2V0VGV4dCgpKTtSLmZpcmVDaGFuZ2UoKTtpLmZpcmVDaGFuZ2UoKTt9cC5kZXN0cm95KCk7cD1udWxsO30pO307VS5pbnN0YW5jZVNlbGVjdE9uVmFsdWVIZWxwUmVxdWVzdD1mdW5jdGlvbihhKXt2YXIgdj1hLmdldFZpZXcoKSxSLHM9VS5nZXRSZXNvdXJjZUJ1bmRsZU1vZGVsKCkuZ2V0UmVzb3VyY2VCdW5kbGUoKS5nZXRUZXh0KCJjb25maWd1cmF0aW9uLm5hdmlnYXRpb25fcHJvdmlkZXJfaW5zdGFuY2UiKSxpLGIsaj1uZXcgSigpLHA9bmV3IFMoImluc3RhbmNlX3NlbGVjdF9kaWFsb2ciLHt0aXRsZTpzLHNlYXJjaDpVLmluc3RhbmNlU2VsZWN0RG9TZWFyY2gsbGl2ZUNoYW5nZTpVLmluc3RhbmNlU2VsZWN0RG9TZWFyY2h9KSx3PW5ldyBmKHt0aXRsZToie2luc3RhbmNlfSJ9KTtpPXYuYnlJZCgibmF2aWdhdGlvbl9wcm92aWRlcl9pbnN0YW5jZUlucHV0Iik7Yj1pLmdldFZhbHVlKCk7Uj12LmJ5SWQoIm5hdmlnYXRpb25fcHJvdmlkZXJfcm9sZUlucHV0IikuZ2V0VmFsdWUoKTtwLmFkZEN1c3RvbURhdGEobmV3IEMoe2tleToicm9sZSIsdmFsdWU6Un0pKTtwLm9wZW4oYik7ai5zZXREYXRhKGEuYURlZmF1bHRPYmplY3RzLmNvbmNhdChVLmFSb2xlRGF0YSkpO3AuYmluZEFnZ3JlZ2F0aW9uKCJpdGVtcyIsIi8iLHcpO3Auc2V0TW9kZWwoaik7VS5pbnN0YW5jZVNlbGVjdFVwZGF0ZURpYWxvZyhwLGIpO3AuYXR0YWNoQ2FuY2VsKGZ1bmN0aW9uKHgpe2kuc2V0VmFsdWUoYik7aS5maXJlQ2hhbmdlKCk7cC5kZXN0cm95KCk7cD1udWxsO30pO3AuYXR0YWNoQ29uZmlybShmdW5jdGlvbih4KXt2YXIgeT14LmdldFBhcmFtZXRlcigic2VsZWN0ZWRJdGVtIik7aWYoeSl7aS5zZXRWYWx1ZSh5LmdldFRpdGxlKCkpO2kuZmlyZUNoYW5nZSgpO31wLmRlc3Ryb3koKTtwPW51bGw7fSk7fTtVLmFwcGxpY2F0aW9uQWxpYXNTZWxlY3RPblZhbHVlSGVscFJlcXVlc3Q9ZnVuY3Rpb24oYSl7dmFyIHY9YS5nZXRWaWV3KCkscz1VLmdldFJlc291cmNlQnVuZGxlTW9kZWwoKS5nZXRSZXNvdXJjZUJ1bmRsZSgpLmdldFRleHQoImNvbmZpZ3VyYXRpb24udGFyZ2V0X2FwcGxpY2F0aW9uX2FsaWFzIiksQSxiLGksaj1uZXcgSigpLHA9bmV3IFMoImFsaWFzX3NlbGVjdF9kaWFsb2ciLHt0aXRsZTpzLHNlYXJjaDpVLmFsaWFzU2VsZWN0RG9TZWFyY2gsbGl2ZUNoYW5nZTpVLmFsaWFzU2VsZWN0RG9TZWFyY2h9KSx3PW5ldyBmKHt0aXRsZToie2FsaWFzfSJ9KTtBPXYuYnlJZCgidGFyZ2V0X2FwcGxpY2F0aW9uX2FsaWFzSW5wdXQiKTtiPUEuZ2V0VmFsdWUoKTtpPXYuYnlJZCgibmF2aWdhdGlvbl9wcm92aWRlcl9pbnN0YW5jZUlucHV0IikuZ2V0VmFsdWUoKTtwLmFkZEN1c3RvbURhdGEobmV3IEMoe2tleToiaW5zdGFuY2UiLHZhbHVlOml9KSk7cC5vcGVuKGIpO2ouc2V0RGF0YShhLmFEZWZhdWx0T2JqZWN0cy5jb25jYXQoVS5hQWxpYXNEYXRhKSk7cC5iaW5kQWdncmVnYXRpb24oIml0ZW1zIiwiLyIsdyk7cC5zZXRNb2RlbChqKTtVLmFsaWFzU2VsZWN0VXBkYXRlRGlhbG9nKHAsYik7cC5hdHRhY2hDYW5jZWwoZnVuY3Rpb24oeCl7QS5zZXRWYWx1ZShiKTtBLmZpcmVDaGFuZ2UoKTtwLmRlc3Ryb3koKTtwPW51bGw7fSk7cC5hdHRhY2hDb25maXJtKGZ1bmN0aW9uKHgpe3ZhciB5PXguZ2V0UGFyYW1ldGVyKCJzZWxlY3RlZEl0ZW0iKTtpZih5KXtBLnNldFZhbHVlKHkuZ2V0VGl0bGUoKSk7QS5maXJlQ2hhbmdlKCk7fXAuZGVzdHJveSgpO3A9bnVsbDt9KTt9O1Uub25UYXJnZXRUeXBlQ2hhbmdlPWZ1bmN0aW9uKGEpe3ZhciBpPWEuZ2V0UGFyYW1ldGVyKCJpZCIpO3ZhciBwPXNhcC51aS5nZXRDb3JlKCkuYnlJZChpKS5nZXRQYXJlbnQoKS5nZXRDZWxscygpO3ZhciBzPWEuZ2V0U291cmNlKCkuZ2V0U2VsZWN0ZWRLZXkoKTtpZihzPT09IklOVCIpe3BbM10uc2V0RW5hYmxlZCh0cnVlKTtwWzJdLnNldFNob3dWYWx1ZUhlbHAodHJ1ZSk7cFsyXS5zZXRWYWx1ZSgiIik7fWVsc2V7cFsyXS5zZXRTaG93VmFsdWVIZWxwKGZhbHNlKTtwWzJdLnNldFZhbHVlKCIiKTtwWzNdLnNldEVuYWJsZWQoZmFsc2UpO3BbM10uc2V0VmFsdWUoIiIpO319O1UuYWRkVGlsZUFjdGlvbnNSb3c9ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRNb2RlbCgpO3ZhciBpPWIuZ2V0UHJvcGVydHkoIi9jb25maWcvdGlsZV9hY3Rpb25zX3Jvd3MiKTt2YXIgaj10aGlzLmdldEVtcHR5VGlsZUFjdGlvbnNSb3dPYmooKTtpLnB1c2goaik7Yi5zZXRQcm9wZXJ0eSgiL2NvbmZpZy90aWxlX2FjdGlvbnNfcm93cyIsaSk7fTtVLmRlbGV0ZVRpbGVBY3Rpb25zUm93PWZ1bmN0aW9uKGope3ZhciBwPWouZ2V0TW9kZWwoKTt2YXIgcz1wLmdldFByb3BlcnR5KCIvY29uZmlnL3RpbGVfYWN0aW9uc19yb3dzIik7dmFyIHY9ai5ieUlkKCJ0aWxlQWN0aW9ucyIpO3ZhciB3PXYuZ2V0U2VsZWN0ZWRJbmRpY2VzKCk7dmFyIHg9dy5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGItYTt9KS5zbGljZSgpO2Zvcih2YXIgaT0wO2k8eC5sZW5ndGg7aSsrKXt2LnJlbW92ZVNlbGVjdGlvbkludGVydmFsKHhbaV0seFtpXSk7cy5zcGxpY2UoeFtpXSwxKTt9cC5zZXRQcm9wZXJ0eSgiL2NvbmZpZy90aWxlX2FjdGlvbnNfcm93cyIscyk7fTtVLmNoZWNrSW5wdXQ9ZnVuY3Rpb24oYSxiKXt2YXIgaT1VLmdldFJlc291cmNlQnVuZGxlTW9kZWwoKS5nZXRSZXNvdXJjZUJ1bmRsZSgpLGo9YS5ieUlkKCJpY29uSW5wdXQiKSxwPWEuYnlJZCgidXNlTHBkQ2hlY2tib3giKSxzPWEuYnlJZCgibmF2aWdhdGlvbl9zZW1hbnRpY19vYmplY3RJbnB1dCIpfHxhLmJ5SWQoInNlbWFudGljX29iamVjdElucHV0Iiksdj1hLmJ5SWQoIm5hdmlnYXRpb25fc2VtYW50aWNfYWN0aW9uSW5wdXQiKXx8YS5ieUlkKCJzZW1hbnRpY19hY3Rpb25JbnB1dCIpLHc9Vi5Ob25lLHg9bnVsbCxOPXEudHJpbShiLmdldFBhcmFtZXRlcigibmV3VmFsdWUiKSk7c3dpdGNoKGIuZ2V0U291cmNlKCkpe2Nhc2UgajppZihOIT09IiImJk4uc3Vic3RyaW5nKDAsMTEpIT09InNhcC1pY29uOi8vIil7dz1WLkVycm9yO3g9aS5nZXRUZXh0KCJjb25maWd1cmF0aW9uLmRpc3BsYXlfaWNvbl91cmwud2FybmluZyIpO31icmVhaztjYXNlIHA6aWYoIXAuZ2V0U2VsZWN0ZWQoKSl7di5zZXRWYWx1ZVN0YXRlKFYuTm9uZSk7cy5zZXRWYWx1ZVN0YXRlKFYuTm9uZSk7fWJyZWFrO2Nhc2UgczppZigvWy0jJj8gXS8udGVzdChOKSl7dz1WLkVycm9yO3g9aS5nZXRUZXh0KCJjb25maWd1cmF0aW9uLnNlbWFudGljX29iamVjdC5lcnJvcl9pbnZhbGlkX2NoYXJzIik7fWVsc2UgaWYoTj09PSIiKXt3PVYuRXJyb3I7fWJyZWFrO2Nhc2UgdjppZigvWy0jJj8gXS8udGVzdChOKSl7dz1WLkVycm9yO3g9aS5nZXRUZXh0KCJjb25maWd1cmF0aW9uLnNlbWFudGljX2FjdGlvbi5lcnJvcl9pbnZhbGlkX2NoYXJzIik7fWVsc2UgaWYoTj09PSIiKXt3PVYuRXJyb3I7fWJyZWFrO2RlZmF1bHQ6YnJlYWs7fWlmKHcpe2IuZ2V0U291cmNlKCkuc2V0VmFsdWVTdGF0ZSh3KTtpZih4IT09bnVsbCl7Yi5nZXRTb3VyY2UoKS5zZXRWYWx1ZVN0YXRlVGV4dCh4fHwiIik7fX19O1UuY2hlY2tJbnB1dE9uU2F2ZUNvbmZpZz1mdW5jdGlvbihhKXt2YXIgaT1hLmJ5SWQoImljb25JbnB1dCIpO3ZhciBzPWEuYnlJZCgibmF2aWdhdGlvbl9zZW1hbnRpY19vYmplY3RJbnB1dCIpO3ZhciBiPWEuYnlJZCgibmF2aWdhdGlvbl9zZW1hbnRpY19hY3Rpb25JbnB1dCIpO3ZhciBqPWEuYnlJZCgidXNlTHBkQ2hlY2tib3giKTt2YXIgcD1VLmdldFJlc291cmNlQnVuZGxlTW9kZWwoKS5nZXRSZXNvdXJjZUJ1bmRsZSgpO3ZhciBSPWZhbHNlO2lmKGkuZ2V0VmFsdWUoKSE9PSIiJiYhVS5pc0ljb25VUklWYWxpZChpLmdldFZhbHVlKCkpKXtpLnNldFZhbHVlU3RhdGUoVi5FcnJvcik7aS5zZXRWYWx1ZVN0YXRlVGV4dChwLmdldFRleHQoImNvbmZpZ3VyYXRpb24uZGlzcGxheV9pY29uX3VybC53YXJuaW5nIikpO1I9dHJ1ZTt9aWYoai5nZXRTZWxlY3RlZCgpJiYvWy0jJj8gXS8udGVzdChzLmdldFZhbHVlKCkpKXtzLnNldFZhbHVlU3RhdGUoVi5FcnJvcik7cy5zZXRWYWx1ZVN0YXRlVGV4dChwLmdldFRleHQoImNvbmZpZ3VyYXRpb24uc2VtYW50aWNfb2JqZWN0LmVycm9yX2ludmFsaWRfY2hhcnMiKSk7Uj10cnVlO31lbHNlIGlmKGouZ2V0U2VsZWN0ZWQoKSYmcy5nZXRWYWx1ZSgpPT09IiIpe3Muc2V0VmFsdWVTdGF0ZShWLkVycm9yKTtSPXRydWU7fWlmKC9bLSMmPyBdLy50ZXN0KGIuZ2V0VmFsdWUoKSkpe2Iuc2V0VmFsdWVTdGF0ZShWLkVycm9yKTtiLnNldFZhbHVlU3RhdGVUZXh0KHAuZ2V0VGV4dCgiY29uZmlndXJhdGlvbi5zZW1hbnRpY19hY3Rpb24uZXJyb3JfaW52YWxpZF9jaGFycyIpKTtSPXRydWU7fWVsc2UgaWYoai5nZXRTZWxlY3RlZCgpJiZiLmdldFZhbHVlKCk9PT0iIil7Yi5zZXRWYWx1ZVN0YXRlKFYuRXJyb3IpO1I9dHJ1ZTt9cmV0dXJuIFI7fTtVLmNoZWNrVGlsZUFjdGlvbnM9ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRNb2RlbCgpLmdldFByb3BlcnR5KCIvY29uZmlnL3RpbGVfYWN0aW9uc19yb3dzIik7dmFyIGo9VS5nZXRSZXNvdXJjZUJ1bmRsZU1vZGVsKCkuZ2V0UmVzb3VyY2VCdW5kbGUoKTt2YXIgUj1mYWxzZTtmb3IodmFyIGk9MDtpPGIubGVuZ3RoO2krKyl7aWYoIWJbaV0ubWVudV90aXRsZSYmKGJbaV0ubmF2aWdhdGlvbl90YXJnZXR8fGIubGVuZ3RoPjEpKXtiW2ldLnZhbHVlU3RhdGU9Vi5FcnJvcjtSPXRydWU7fWVsc2V7YltpXS52YWx1ZVN0YXRlPVYuTm9uZTt9aWYoYltpXS5pY29uKXtpZighVS5pc0ljb25VUklWYWxpZChiW2ldLmljb24pKXtiW2ldLmljb25WYWx1ZVN0YXRlPVYuRXJyb3I7YltpXS5pY29uVmFsdWVTdGF0ZVRleHQ9ai5nZXRUZXh0KCJjb25maWd1cmF0aW9uLmRpc3BsYXlfaWNvbl91cmwud2FybmluZyIpO1I9dHJ1ZTt9fX1hLmdldE1vZGVsKCkuc2V0UHJvcGVydHkoIi9jb25maWcvdGlsZV9hY3Rpb25zX3Jvd3MiLGIpO3JldHVybiBSO307VS5pc0ljb25VUklWYWxpZD1mdW5jdGlvbihpKXt2YXIgUj1bXTt2YXIgcz0iIjt2YXIgYT0iIjt2YXIgdj0iIjtSPS9zYXAtaWNvbjpcL1wvKC4rKVwvLy5leGVjKGkpO2lmKFIpe3M9UlsxXTtSPS9cL1wvLitcLyguKykvLmV4ZWMoaSk7aWYoUil7YT1SWzFdO31lbHNle2E9IiI7fXY9SS5nZXRJY29uVVJJKGEscyk7aWYodiE9PWkpe3JldHVybiBmYWxzZTt9fWVsc2V7Uj0vc2FwLWljb246XC9cLyguKykvLmV4ZWMoaSk7aWYoUil7YT1SWzFdO2lmKCFJLmdldEljb25JbmZvKGEpKXtyZXR1cm4gZmFsc2U7fX1lbHNle3JldHVybiBmYWxzZTt9fXJldHVybiB0cnVlO307VS5jaGVja1RNSW5wdXQ9ZnVuY3Rpb24oYSxiKXt2YXIgaT1VLmdldFJlc291cmNlQnVuZGxlTW9kZWwoKS5nZXRSZXNvdXJjZUJ1bmRsZSgpLHM9YS5ieUlkKCJzZW1hbnRpY19vYmplY3RJbnB1dCIpLGo9YS5ieUlkKCJzZW1hbnRpY19hY3Rpb25JbnB1dCIpLHA9YS5ieUlkKCJ0YXJnZXRfYXBwbGljYXRpb25fZGVzY3JpcHRpb25JbnB1dCIpLHY9YS5ieUlkKCJ0YXJnZXRfYXBwbGljYXRpb25fdXJsSW5wdXQiKSx3PWEuYnlJZCgidGFyZ2V0X2FwcGxpY2F0aW9uX2NvbXBvbmVudElucHV0IiksTj1hLmJ5SWQoIm5hdmlnYXRpb25fcHJvdmlkZXJfcm9sZUlucHV0IikseD1hLmJ5SWQoIm5hdmlnYXRpb25fcHJvdmlkZXJfaW5zdGFuY2VJbnB1dCIpLHk9YS5ieUlkKCJ0YXJnZXRfYXBwbGljYXRpb25fYWxpYXNJbnB1dCIpLHo9YS5ieUlkKCJ0YXJnZXRfYXBwbGljYXRpb25faWRJbnB1dCIpLEE9cS50cmltKGIuZ2V0UGFyYW1ldGVyKCJuZXdWYWx1ZSIpKSxCPVYuTm9uZSxEPW51bGw7c3dpdGNoKGIuZ2V0U291cmNlKCkpe2Nhc2UgczppZigvWy0jJj8gXS8udGVzdChBKSl7Qj1WLkVycm9yO0Q9aS5nZXRUZXh0KCJjb25maWd1cmF0aW9uLnNlbWFudGljX29iamVjdC5lcnJvcl9pbnZhbGlkX2NoYXJzIik7fWlmKGouZ2V0VmFsdWUoKT09PSIiKXtqLnNldFZhbHVlU3RhdGUoVi5FcnJvcik7fWJyZWFrO2Nhc2UgajppZigvWy0jJj8gXS8udGVzdChBKSl7Qj1WLkVycm9yO0Q9aS5nZXRUZXh0KCJjb25maWd1cmF0aW9uLnNlbWFudGljX2FjdGlvbi5lcnJvcl9pbnZhbGlkX2NoYXJzIik7fWVsc2UgaWYoQT09PSIiKXtCPVYuRXJyb3I7fWJyZWFrO2Nhc2UgcDppZihBPT09IiIpe0I9Vi5FcnJvcjt9YnJlYWs7Y2FzZSB2OmlmKEEhPT0iIiYmISgvXlstfissOzo/JSYjPS8uXHddKyQvLnRlc3QoQSkpKXtCPVYuRXJyb3I7RD1pLmdldFRleHQoImNvbmZpZ3VyYXRpb24udGFyZ2V0X2FwcGxpY2F0aW9uLnVybC5lcnJvcl9pbnZhbGlkX2NoYXJzIik7fWJyZWFrO2Nhc2UgdzppZihBPT09IiIpe0I9Vi5FcnJvcjt9ZWxzZSBpZihBLnN1YnN0cmluZygwLDE3KT09PSJTQVBVSTUuQ29tcG9uZW50PSIpe0I9Vi5FcnJvcjtEPWkuZ2V0VGV4dCgiY29uZmlndXJhdGlvbi50YXJnZXRfYXBwbGljYXRpb24uY29tcG9uZW50LmVycm9yX2ludmFsaWRfaW5wdXQiKTt9YnJlYWs7Y2FzZSBOOmlmKEE9PT0iIil7Qj1WLkVycm9yO31lbHNlIGlmKCEoL15bXHcvXSskLy50ZXN0KEEpKSl7Qj1WLkVycm9yO0Q9aS5nZXRUZXh0KCJjb25maWd1cmF0aW9uLnRhcmdldF9hcHBsaWNhdGlvbi5yb2xlLmVycm9yX2ludmFsaWRfY2hhcnMiKTt9YnJlYWs7Y2FzZSB4OmlmKEE9PT0iIil7Qj1WLkVycm9yO31lbHNlIGlmKCEoL15bXHcvXSskLy50ZXN0KEEpKSl7Qj1WLkVycm9yO0Q9aS5nZXRUZXh0KCJjb25maWd1cmF0aW9uLnRhcmdldF9hcHBsaWNhdGlvbi5pbnN0YW5jZS5lcnJvcl9pbnZhbGlkX2NoYXJzIik7fWJyZWFrO2Nhc2UgeTppZihBPT09IiImJnouZ2V0VmFsdWUoKT09PSIiKXtCPVYuRXJyb3I7RD1pLmdldFRleHQoImNvbmZpZ3VyYXRpb24udGFyZ2V0X2FwcGxpY2F0aW9uLmFsaWFzX2lkLndhcm5pbmciKTt9ZWxzZSBpZihBIT09IiImJnouZ2V0VmFsdWUoKSE9PSIiKXtCPVYuRXJyb3I7RD1pLmdldFRleHQoImNvbmZpZ3VyYXRpb24udGFyZ2V0X2FwcGxpY2F0aW9uLmFsaWFzX2lkLndhcm5pbmciKTt6LnNldFZhbHVlU3RhdGUoQik7ei5zZXRWYWx1ZVN0YXRlVGV4dChEKTt9ZWxzZXt6LnNldFZhbHVlU3RhdGUoVi5Ob25lKTt9YnJlYWs7Y2FzZSB6OmlmKEE9PT0iIiYmeS5nZXRWYWx1ZSgpPT09IiIpe0I9Vi5FcnJvcjtEPWkuZ2V0VGV4dCgiY29uZmlndXJhdGlvbi50YXJnZXRfYXBwbGljYXRpb24uYWxpYXNfaWQud2FybmluZyIpO31lbHNlIGlmKEEhPT0iIiYmeS5nZXRWYWx1ZSgpIT09IiIpe0I9Vi5FcnJvcjtEPWkuZ2V0VGV4dCgiY29uZmlndXJhdGlvbi50YXJnZXRfYXBwbGljYXRpb24uYWxpYXNfaWQud2FybmluZyIpO3kuc2V0VmFsdWVTdGF0ZShCKTt5LnNldFZhbHVlU3RhdGVUZXh0KEQpO31lbHNlIGlmKEEhPT0iIiYmISgvXltBLUZhLWYwLTldKyQvLnRlc3QoQSkpKXtCPVYuRXJyb3I7RD1pLmdldFRleHQoImNvbmZpZ3VyYXRpb24udGFyZ2V0X2FwcGxpY2F0aW9uLmFsaWFzX2lkLmVycm9yX2ludmFsaWRfY2hhcnMiKTt9ZWxzZXt5LnNldFZhbHVlU3RhdGUoVi5Ob25lKTt9YnJlYWs7ZGVmYXVsdDpicmVhazt9aWYoQil7Yi5nZXRTb3VyY2UoKS5zZXRWYWx1ZVN0YXRlKEIpO2lmKEQhPT1udWxsKXtiLmdldFNvdXJjZSgpLnNldFZhbHVlU3RhdGVUZXh0KER8fCIiKTt9fX07VS5jaGVja1RNSW5wdXRPblNhdmVDb25maWc9ZnVuY3Rpb24oYSl7dmFyIGI9VS5nZXRSZXNvdXJjZUJ1bmRsZU1vZGVsKCkuZ2V0UmVzb3VyY2VCdW5kbGUoKTt2YXIgcz1hLmJ5SWQoInNlbWFudGljX29iamVjdElucHV0Iik7dmFyIGk9YS5ieUlkKCJzZW1hbnRpY19hY3Rpb25JbnB1dCIpO3ZhciBqPWEuYnlJZCgidGFyZ2V0X2FwcGxpY2F0aW9uX2Rlc2NyaXB0aW9uSW5wdXQiKTt2YXIgcD1hLmJ5SWQoInRhcmdldF9hcHBsaWNhdGlvbl91cmxJbnB1dCIpO3ZhciB2PWEuYnlJZCgidGFyZ2V0X2FwcGxpY2F0aW9uX2NvbXBvbmVudElucHV0Iik7dmFyIE49YS5ieUlkKCJuYXZpZ2F0aW9uX3Byb3ZpZGVyX3JvbGVJbnB1dCIpO3ZhciB3PWEuYnlJZCgibmF2aWdhdGlvbl9wcm92aWRlcl9pbnN0YW5jZUlucHV0Iik7dmFyIHg9YS5ieUlkKCJ0YXJnZXRfYXBwbGljYXRpb25fYWxpYXNJbnB1dCIpO3ZhciB5PWEuYnlJZCgidGFyZ2V0X2FwcGxpY2F0aW9uX2lkSW5wdXQiKTt2YXIgej1hLmJ5SWQoInRhcmdldFR5cGVJbnB1dCIpO3ZhciBBPWEuYnlJZCgidGFyZ2V0X3RyYW5zYWN0aW9uSW5wdXQiKTt2YXIgVz1hLmJ5SWQoInRhcmdldF93ZWJfZHlucHJvX2FwcGxpY2F0aW9uSW5wdXQiKTt2YXIgQj1hLmJ5SWQoInRhcmdldF93Y2ZfYXBwbGljYXRpb25faWRJbnB1dCIpO3ZhciBEPWEuYnlJZCgiZGVza3RvcENCIik7dmFyIEU9YS5ieUlkKCJ0YWJsZXRDQiIpO3ZhciBHPWEuYnlJZCgicGhvbmVDQiIpO3ZhciBSPWZhbHNlO3Muc2V0VmFsdWUocy5nZXRWYWx1ZSgpLnRyaW0oKSk7aWYoL1stIyY/IF0vLnRlc3Qocy5nZXRWYWx1ZSgpKSl7cy5zZXRWYWx1ZVN0YXRlKFYuRXJyb3IpO3Muc2V0VmFsdWVTdGF0ZVRleHQoYi5nZXRUZXh0KCJjb25maWd1cmF0aW9uLnNlbWFudGljX29iamVjdC5lcnJvcl9pbnZhbGlkX2NoYXJzIikpO1I9dHJ1ZTt9aS5zZXRWYWx1ZShpLmdldFZhbHVlKCkudHJpbSgpKTtpZigvWy0jJj8gXS8udGVzdChpLmdldFZhbHVlKCkpKXtpLnNldFZhbHVlU3RhdGUoVi5FcnJvcik7aS5zZXRWYWx1ZVN0YXRlVGV4dChiLmdldFRleHQoImNvbmZpZ3VyYXRpb24uc2VtYW50aWNfYWN0aW9uLmVycm9yX2ludmFsaWRfY2hhcnMiKSk7Uj10cnVlO31lbHNlIGlmKGkuZ2V0VmFsdWUoKT09PSIiKXtpLnNldFZhbHVlU3RhdGUoVi5FcnJvcik7Uj10cnVlO312YXIgSD1hLmdldE1vZGVsKCkuZ2V0UHJvcGVydHkoIi9jb25maWcvbmF2aWdhdGlvbl9wcm92aWRlciIpLEs7aWYoSD09PSJTQVBVSTUiKXtpZihqLmdldFZhbHVlKCk9PT0iIil7ai5zZXRWYWx1ZVN0YXRlKFYuRXJyb3IpO1I9dHJ1ZTt9aWYocC5nZXRWYWx1ZSgpIT09IiImJiEoL15bLX4rLDs6PyUmIz0vLlx3XSskLy50ZXN0KHAuZ2V0VmFsdWUoKSkpKXtwLnNldFZhbHVlU3RhdGUoVi5FcnJvcik7cC5zZXRWYWx1ZVN0YXRlVGV4dChiLmdldFRleHQoImNvbmZpZ3VyYXRpb24udGFyZ2V0X2FwcGxpY2F0aW9uLnVybC5lcnJvcl9pbnZhbGlkX2NoYXJzIikpO1I9dHJ1ZTt9aWYodi5nZXRWYWx1ZSgpPT09IiIpe3Yuc2V0VmFsdWVTdGF0ZShWLkVycm9yKTtSPXRydWU7fWVsc2UgaWYodi5nZXRWYWx1ZSgpLnN1YnN0cmluZygwLDE3KT09PSJTQVBVSTUuQ29tcG9uZW50PSIpe3Yuc2V0VmFsdWVTdGF0ZShWLkVycm9yKTt2LnNldFZhbHVlU3RhdGVUZXh0KGIuZ2V0VGV4dCgiY29uZmlndXJhdGlvbi50YXJnZXRfYXBwbGljYXRpb24uY29tcG9uZW50LmVycm9yX2ludmFsaWRfaW5wdXQiKSk7Uj10cnVlO319ZWxzZSBpZihIPT09IkxQRCIpe2lmKE4uZ2V0VmFsdWUoKT09PSIiKXtOLnNldFZhbHVlU3RhdGUoVi5FcnJvcik7Uj10cnVlO31pZighKC9eW1x3XSskLy50ZXN0KE4uZ2V0VmFsdWUoKSkpKXtOLnNldFZhbHVlU3RhdGUoVi5FcnJvcik7Sz1iLmdldFRleHQoImNvbmZpZ3VyYXRpb24udGFyZ2V0X2FwcGxpY2F0aW9uLnJvbGUuZXJyb3JfaW52YWxpZF9jaGFycyIpO04uc2V0VmFsdWVTdGF0ZVRleHQoSyk7Uj10cnVlO31pZih3LmdldFZhbHVlKCk9PT0iIil7dy5zZXRWYWx1ZVN0YXRlKFYuRXJyb3IpO1I9dHJ1ZTt9aWYoISgvXltcd10rJC8udGVzdCh3LmdldFZhbHVlKCkpKSl7dy5zZXRWYWx1ZVN0YXRlKFYuRXJyb3IpO0s9Yi5nZXRUZXh0KCJjb25maWd1cmF0aW9uLnRhcmdldF9hcHBsaWNhdGlvbi5pbnN0YW5jZS5lcnJvcl9pbnZhbGlkX2NoYXJzIik7dy5zZXRWYWx1ZVN0YXRlVGV4dChLKTtSPXRydWU7fWlmKHguZ2V0VmFsdWUoKT09PSIiJiZ5LmdldFZhbHVlKCk9PT0iIil7Sz1iLmdldFRleHQoImNvbmZpZ3VyYXRpb24udGFyZ2V0X2FwcGxpY2F0aW9uLmFsaWFzX2lkLndhcm5pbmciKTt4LnNldFZhbHVlU3RhdGUoVi5FcnJvcik7eC5zZXRWYWx1ZVN0YXRlVGV4dChLKTt5LnNldFZhbHVlU3RhdGUoVi5FcnJvcik7eS5zZXRWYWx1ZVN0YXRlVGV4dChLKTtSPXRydWU7fWlmKHguZ2V0VmFsdWUoKSE9PSIiJiZ5LmdldFZhbHVlKCkhPT0iIil7Sz1iLmdldFRleHQoImNvbmZpZ3VyYXRpb24udGFyZ2V0X2FwcGxpY2F0aW9uLmFsaWFzX2lkLndhcm5pbmciKTt4LnNldFZhbHVlU3RhdGUoVi5FcnJvcik7eC5zZXRWYWx1ZVN0YXRlVGV4dChLKTt5LnNldFZhbHVlU3RhdGUoVi5FcnJvcik7eS5zZXRWYWx1ZVN0YXRlVGV4dChLKTtSPXRydWU7fWlmKHkuZ2V0VmFsdWUoKSE9PSIiJiYhKC9eW0EtRmEtZjAtOV0rJC8udGVzdCh5LmdldFZhbHVlKCkpKSl7eS5zZXRWYWx1ZVN0YXRlKFYuRXJyb3IpO3kuc2V0VmFsdWVTdGF0ZVRleHQoYi5nZXRUZXh0KCJjb25maWd1cmF0aW9uLnRhcmdldF9hcHBsaWNhdGlvbi5hbGlhc19pZC5lcnJvcl9pbnZhbGlkX2NoYXJzIikpO1I9dHJ1ZTt9fWVsc2UgaWYoSD09PSJUUiIpe2lmKEEuZ2V0VmFsdWUoKT09PSIiKXtBLnNldFZhbHVlU3RhdGUoVi5FcnJvcik7Uj10cnVlO319ZWxzZSBpZihIPT09IldEQSIpe2lmKFcuZ2V0VmFsdWUoKT09PSIiKXtXLnNldFZhbHVlU3RhdGUoVi5FcnJvcik7Uj10cnVlO319ZWxzZSBpZihIPT09IldDRiIpe2lmKEIuZ2V0VmFsdWUoKT09PSIiKXtCLnNldFZhbHVlU3RhdGUoVi5FcnJvcik7Uj10cnVlO319ZWxzZSBpZihIPT09IlVSTCIpe2lmKHAuZ2V0VmFsdWUoKT09PSIiKXtwLnNldFZhbHVlU3RhdGUoVi5FcnJvcik7Uj10cnVlO31lbHNlIGlmKCEoL15bLX4rLDs6PyUmIz0vLlx3XSskLy50ZXN0KHAuZ2V0VmFsdWUoKSkpKXtwLnNldFZhbHVlU3RhdGUoVi5FcnJvcik7cC5zZXRWYWx1ZVN0YXRlVGV4dChiLmdldFRleHQoImNvbmZpZ3VyYXRpb24udGFyZ2V0X2FwcGxpY2F0aW9uLnVybC5lcnJvcl9pbnZhbGlkX2NoYXJzIikpO1I9dHJ1ZTt9fWVsc2V7ei5zZXRWYWx1ZVN0YXRlKFYuRXJyb3IpO3ouc2V0VmFsdWVTdGF0ZVRleHQoYi5nZXRUZXh0KCJjb25maWd1cmF0aW9uLm5hdmlnYXRpb25fcHJvdmlkZXIuZXJyb3JfaW52YWxpZF9wcm92aWRlciIpKTtSPXRydWU7fWlmKCFELmdldFNlbGVjdGVkKCkmJiFFLmdldFNlbGVjdGVkKCkmJiFHLmdldFNlbGVjdGVkKCkpe0s9Yi5nZXRUZXh0KCJjb25maWd1cmF0aW9uLmZvcm1fZmFjdG9yLndhcm5pbmciKTtELnNldFZhbHVlU3RhdGUoVi5FcnJvcik7RC5zZXRWYWx1ZVN0YXRlVGV4dChLKTtFLnNldFZhbHVlU3RhdGUoVi5FcnJvcik7RS5zZXRWYWx1ZVN0YXRlVGV4dChLKTtHLnNldFZhbHVlU3RhdGUoVi5FcnJvcik7Ry5zZXRWYWx1ZVN0YXRlVGV4dChLKTtSPXRydWU7fXJldHVybiBSO307VS51cGRhdGVUb29sdGlwRm9yRGlzYWJsZWRQcm9wZXJ0aWVzPWZ1bmN0aW9uKGEpe3ZhciBiPWEuZ2V0TW9kZWwoKTt2YXIgaT1iLmdldFByb3BlcnR5KCIvY29uZmlnL2lzTG9jYWxlU3VpdGFibGUiKTtpZighaSl7dmFyIGo9VS5nZXRSZXNvdXJjZUJ1bmRsZU1vZGVsKCkuZ2V0UmVzb3VyY2VCdW5kbGUoKTt2YXIgcD1qLmdldFRleHQoImVkaXRfY29uZmlndXJhdGlvbi5vcmlnaW5hbF9sb2NhbGVfbm90X2ZpdF90b29sdGlwIixbYi5nZXRQcm9wZXJ0eSgiL2NvbmZpZy91c2VyTG9jYWxlIiksYi5nZXRQcm9wZXJ0eSgiL2NvbmZpZy9vcmdMb2NhbGUiKV0pO2EuYnlJZCgidGl0bGVJbnB1dCIpLnNldFRvb2x0aXAocCk7YS5ieUlkKCJzdWJ0aXRsZUlucHV0Iikuc2V0VG9vbHRpcChwKTthLmJ5SWQoImtleXdvcmRzSW5wdXQiKS5zZXRUb29sdGlwKHApO2EuYnlJZCgiaW5mb0lucHV0Iikuc2V0VG9vbHRpcChwKTt9fTtVLnVwZGF0ZU1lc3NhZ2VTdHJpcEZvck9yaWdpbmFsTGFuZ3VhZ2U9ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRNb2RlbCgpO2lmKGIuZ2V0UHJvcGVydHkoIi9jb25maWcvaXNMb2NhbGVTdWl0YWJsZSIpPT09ZmFsc2Upe3ZhciBzPVUuZ2V0UmVzb3VyY2VCdW5kbGVNb2RlbCgpLmdldFJlc291cmNlQnVuZGxlKCkuZ2V0VGV4dCgiZWRpdF9jb25maWd1cmF0aW9uLm9yaWdpbmFsX2xvY2FsZV9ub3RfZml0X21lc3NhZ2UiLFtiLmdldFByb3BlcnR5KCIvY29uZmlnL29yZ0xvY2FsZSIpLnRvVXBwZXJDYXNlKCksYi5nZXRQcm9wZXJ0eSgiL2NvbmZpZy91c2VyTG9jYWxlIikudG9VcHBlckNhc2UoKV0pO3ZhciBpPWEuYnlJZCgibWVzc2FnZVN0cmlwIik7aS5zZXRWaXNpYmxlKHRydWUpO2kuc2V0VGV4dChzKTtpLnNldFR5cGUoTS5XYXJuaW5nKTt9fTtVLmNyZWF0ZVNlbWFudGljT2JqZWN0TW9kZWw9ZnVuY3Rpb24oYSxzLEQpe3ZhciB2PWEuZ2V0VmlldygpLGI9Ii9zYXAvb3B1L29kYXRhL1VJMi9JTlRFUk9QL1NlbWFudGljT2JqZWN0cyIsaj1be29iajoiIixuYW1lOiIifSx7b2JqOiIqIixuYW1lOiIqIn1dLHA9KER8fGopLnNsaWNlKDApLHc9bmV3IEooKTt3LnNldFNpemVMaW1pdCg5OTk5OTkpO3cuc2V0UHJvcGVydHkoIi92YWx1ZSIsIiIpO3cuc2V0UHJvcGVydHkoIi9lbmFibGVkIix0cnVlKTtzLmJpbmRBZ2dyZWdhdGlvbigic3VnZ2VzdGlvbkl0ZW1zIiwic3VnZ2VzdD4vaXRlbXMiLG5ldyBnKHt0ZXh0OiJ7c3VnZ2VzdD5vYmp9In0pKTtzLnNldE1vZGVsKHcsInN1Z2dlc3QiKTtpZihVLmFEYXRhLmxlbmd0aD4wKXt3LnNldERhdGEoe2l0ZW1zOnAuY29uY2F0KFUuYURhdGEpfSx0cnVlKTtyZXR1cm47fU8ucmVhZCh7cmVxdWVzdFVyaTpiLGhlYWRlcnM6eyJBY2NlcHQiOiJhcHBsaWNhdGlvbi9qc29uIn19LGZ1bmN0aW9uKHgpe3ZhciB5LHosaTtmb3IoaT0wO2k8eC5yZXN1bHRzLmxlbmd0aDtpPWkrMSl7eT14LnJlc3VsdHNbaV0uaWQ7ej14LnJlc3VsdHNbaV0udGV4dDtVLmFEYXRhLnB1c2goe29iajp5LG5hbWU6enx8eX0pO313LnNldERhdGEoe2l0ZW1zOnAuY29uY2F0KFUuYURhdGEpfSx0cnVlKTt9LGZ1bmN0aW9uKEUpe3ZhciBpPUUmJkUubWVzc2FnZT9FLm1lc3NhZ2U6RTtpZihFLnJlc3BvbnNlKXtpKz0iIC0gIitFLnJlc3BvbnNlLnN0YXR1c0NvZGUrIiAiK0UucmVzcG9uc2Uuc3RhdHVzVGV4dDt9ay5lcnJvcigiQ291bGQgbm90IGZldGNoIGRhdGE6ICIrYisiOiAiK2ksbnVsbCwodi5nZXRWaWV3TmFtZSgpfHwic2FwLnVzaGVsbC5jb21wb25lbnRzLnRpbGVzLnV0aWxzIikpO30pO307VS5jcmVhdGVSb2xlTW9kZWw9ZnVuY3Rpb24oYSxSLGIpe3ZhciB2PWEuZ2V0VmlldygpLHM9Ii9zYXAvb3B1L29kYXRhL1VJMi9JTlRFUk9QL0dldExQREluc3RhbmNlcyIsaj1uZXcgSigpLHA9bmV3IEooKTtqLnNldFNpemVMaW1pdCg5OTk5OTkpO3Auc2V0U2l6ZUxpbWl0KDk5OTk5OSk7ai5zZXRQcm9wZXJ0eSgiL3ZhbHVlIiwiIik7ai5zZXRQcm9wZXJ0eSgiL2VuYWJsZWQiLHRydWUpO3Auc2V0UHJvcGVydHkoIi92YWx1ZSIsIiIpO3Auc2V0UHJvcGVydHkoIi9lbmFibGVkIix0cnVlKTt2YXIgdz1uZXcgc2FwLm0uQ29sdW1uTGlzdEl0ZW0oe2NlbGxzOltuZXcgTCh7dGV4dDoie3JvbGV9In0pLG5ldyBMKHt0ZXh0OiJ7aW5zdGFuY2V9In0pXX0pO1IuYmluZEFnZ3JlZ2F0aW9uKCJzdWdnZXN0aW9uUm93cyIsIi9pdGVtcyIsdyk7Yi5iaW5kQWdncmVnYXRpb24oInN1Z2dlc3Rpb25JdGVtcyIsIi9pdGVtcyIsbmV3IGcoe3RleHQ6IntpbnN0YW5jZX0ifSkpO2Iuc2V0TW9kZWwocCk7Ui5zZXRNb2RlbChqKTtSLmF0dGFjaFN1Z2dlc3Rpb25JdGVtU2VsZWN0ZWQoZnVuY3Rpb24oaSl7Yi5zZXRWYWx1ZShpLmdldFBhcmFtZXRlcigic2VsZWN0ZWRSb3ciKS5nZXRDZWxscygpWzFdLmdldFRleHQoKSk7Yi5maXJlQ2hhbmdlKCk7fSk7aWYoVS5hUm9sZURhdGEubGVuZ3RoPjApe2ouc2V0RGF0YSh7aXRlbXM6VS5hUm9sZURhdGF9LGZhbHNlKTtwLnNldERhdGEoe2l0ZW1zOlUuYVJvbGVEYXRhfSxmYWxzZSk7cmV0dXJuO31PLnJlYWQoe3JlcXVlc3RVcmk6cyxoZWFkZXJzOnsiQWNjZXB0IjoiYXBwbGljYXRpb24vanNvbiJ9fSxmdW5jdGlvbihEKXt2YXIgeCx5LGk7Zm9yKGk9MDtpPEQucmVzdWx0cy5sZW5ndGg7aT1pKzEpe3g9RC5yZXN1bHRzW2ldLmxwZFJvbGU7eT1ELnJlc3VsdHNbaV0uaW5zdGFuY2U7VS5hUm9sZURhdGEucHVzaCh7cm9sZTp4LGluc3RhbmNlOnl9KTt9ai5zZXREYXRhKHtpdGVtczpVLmFSb2xlRGF0YX0sdHJ1ZSk7cC5zZXREYXRhKHtpdGVtczpVLmFSb2xlRGF0YX0sdHJ1ZSk7fSxmdW5jdGlvbihFKXt2YXIgaT1FJiZFLm1lc3NhZ2U/RS5tZXNzYWdlOkU7aWYoRS5yZXNwb25zZSl7aSs9IiAtICIrRS5yZXNwb25zZS5zdGF0dXNDb2RlKyIgIitFLnJlc3BvbnNlLnN0YXR1c1RleHQ7fWsuZXJyb3IoIkNvdWxkIG5vdCBmZXRjaCBkYXRhOiAiK3MrIjogIitpLG51bGwsKHYuZ2V0Vmlld05hbWUoKXx8InNhcC51c2hlbGwuY29tcG9uZW50cy50aWxlcy51dGlscyIpKTt9KTt9O1UuY3JlYXRlQWxpYXNNb2RlbD1mdW5jdGlvbihhLEEpe3ZhciB2PWEuZ2V0VmlldygpLGIscz0iL3NhcC9vcHUvb2RhdGEvVUkyL0lOVEVST1AvR2V0TFBEQXBwQWxpYXMiLGo9bmV3IEooKTtqLnNldFNpemVMaW1pdCg5OTk5OTkpO2ouc2V0UHJvcGVydHkoIi92YWx1ZSIsIiIpO2ouc2V0UHJvcGVydHkoIi9lbmFibGVkIix0cnVlKTtBLmJpbmRBZ2dyZWdhdGlvbigic3VnZ2VzdGlvbkl0ZW1zIiwiL2l0ZW1zIixuZXcgZyh7dGV4dDoie2FsaWFzfSJ9KSk7QS5zZXRNb2RlbChqKTtiPXUuZ2V0Q29uZmlndXJhdGlvbih2Lm9WaWV3RGF0YS5jaGlwLHRydWUsdHJ1ZSk7aWYoYiYmYi5uYXZpZ2F0aW9uX3Byb3ZpZGVyX3JvbGUmJmIubmF2aWdhdGlvbl9wcm92aWRlcl9pbnN0YW5jZSl7aWYoYi5uYXZpZ2F0aW9uX3Byb3ZpZGVyX3JvbGUhPT0iIiYmYi5uYXZpZ2F0aW9uX3Byb3ZpZGVyX2luc3RhbmNlIT09IiIpe3M9cysiP3JvbGU9JyIrYi5uYXZpZ2F0aW9uX3Byb3ZpZGVyX3JvbGUrIicmaW5zdGFuY2U9JyIrYi5uYXZpZ2F0aW9uX3Byb3ZpZGVyX2luc3RhbmNlKyInIjt9fU8ucmVhZCh7cmVxdWVzdFVyaTpzLGhlYWRlcnM6eyJBY2NlcHQiOiJhcHBsaWNhdGlvbi9qc29uIn19LGZ1bmN0aW9uKEQpe3ZhciBwLFIsdyxpLHg7VS5hQWxpYXNEYXRhPVtdO2ZvcihpPTA7aTxELnJlc3VsdHMubGVuZ3RoO2k9aSsxKXtwPUQucmVzdWx0c1tpXS5scGRBcHBsaWNhdGlvbkFsaWFzO1I9RC5yZXN1bHRzW2ldLmxwZFJvbGU7dz1ELnJlc3VsdHNbaV0ubHBkSW5zdGFuY2U7VS5hQWxpYXNEYXRhLnB1c2goe3JvbGU6UixpbnN0YW5jZTp3LGFsaWFzOnB9KTt9eD1qLmdldERhdGEoKTtpZih4KXt4Lml0ZW1zPVUuYUFsaWFzRGF0YTt9ZWxzZXt4PXtpdGVtczpVLmFBbGlhc0RhdGF9O31qLnNldERhdGEoeCxmYWxzZSk7fSxmdW5jdGlvbihFKXt2YXIgaT1FJiZFLm1lc3NhZ2U/RS5tZXNzYWdlOkU7aWYoRS5yZXNwb25zZSl7aSs9IiAtICIrRS5yZXNwb25zZS5zdGF0dXNDb2RlKyIgIitFLnJlc3BvbnNlLnN0YXR1c1RleHQ7fWsuZXJyb3IoIkNvdWxkIG5vdCBmZXRjaCBkYXRhOiAiK3MrIjogIitpLG51bGwsKHYuZ2V0Vmlld05hbWUoKXx8InNhcC51c2hlbGwuY29tcG9uZW50cy50aWxlcy51dGlscyIpKTt9KTt9O1UudXBkYXRlQWxpYXNNb2RlbD1mdW5jdGlvbih2LGEpe3ZhciBzLGIsUixqPWEuZ2V0TW9kZWwoKTtiPXYuYnlJZCgibmF2aWdhdGlvbl9wcm92aWRlcl9pbnN0YW5jZUlucHV0IikuZ2V0VmFsdWUoKTtSPXYuYnlJZCgibmF2aWdhdGlvbl9wcm92aWRlcl9yb2xlSW5wdXQiKS5nZXRWYWx1ZSgpO3M9Ii9zYXAvb3B1L29kYXRhL1VJMi9JTlRFUk9QL0dldExQREFwcEFsaWFzP3JvbGU9JyIrUisiJyZpbnN0YW5jZT0nIitiKyInIjtPLnJlYWQoe3JlcXVlc3RVcmk6cyxoZWFkZXJzOnsiQWNjZXB0IjoiYXBwbGljYXRpb24vanNvbiJ9fSxmdW5jdGlvbihEKXt2YXIgQSxSLGIsaSxwO1UuYUFsaWFzRGF0YT1bXTtmb3IoaT0wO2k8RC5yZXN1bHRzLmxlbmd0aDtpPWkrMSl7QT1ELnJlc3VsdHNbaV0ubHBkQXBwbGljYXRpb25BbGlhcztSPUQucmVzdWx0c1tpXS5scGRSb2xlO2I9RC5yZXN1bHRzW2ldLmxwZEluc3RhbmNlO1UuYUFsaWFzRGF0YS5wdXNoKHtyb2xlOlIsaW5zdGFuY2U6YixhbGlhczpBfSk7fXA9ai5nZXREYXRhKCk7aWYocCl7cC5pdGVtcz1VLmFBbGlhc0RhdGE7fWVsc2V7cD17aXRlbXM6VS5hQWxpYXNEYXRhfTt9ai5zZXREYXRhKHAsZmFsc2UpO30sZnVuY3Rpb24oRSl7dmFyIGk9RSYmRS5tZXNzYWdlP0UubWVzc2FnZTpFO2lmKEUucmVzcG9uc2Upe2krPSIgLSAiK0UucmVzcG9uc2Uuc3RhdHVzQ29kZSsiICIrRS5yZXNwb25zZS5zdGF0dXNUZXh0O31rLmVycm9yKCJDb3VsZCBub3QgZmV0Y2ggZGF0YTogIitzKyI6ICIraSxudWxsLCh2LmdldFZpZXdOYW1lKCl8fCJzYXAudXNoZWxsLmNvbXBvbmVudHMudGlsZXMudXRpbHMiKSk7fSk7fTtVLmNyZWF0ZUFjdGlvbk1vZGVsPWZ1bmN0aW9uKGEsQSl7dmFyIGk9bmV3IEooKTt2YXIgdj1hLmdldFZpZXcoKSxiLHM7aS5zZXREYXRhKHsiaXRlbXMiOlt7InRleHQiOiJkaXNwbGF5In0seyJ0ZXh0IjoiYXBwcm92ZSJ9LHsidGV4dCI6ImRpc3BsYXlGYWN0U2hlZXQifSx7InRleHQiOiJtYW5hZ2UifSx7InRleHQiOiJjcmVhdGUifSx7InRleHQiOiJtb25pdG9yIn0seyJ0ZXh0IjoidHJhY2sifSx7InRleHQiOiJjaGFuZ2UifSx7InRleHQiOiJyZWdpc3RlciJ9LHsidGV4dCI6InJlbGVhc2UifSx7InRleHQiOiJhbmFseXplS1BJRGV0YWlscyJ9LHsidGV4dCI6Imxvb2t1cCJ9LHsidGV4dCI6Im1hbmFnZUxpbmVJdGVtcyJ9XX0pO1UuYUFjdGlvbkRhdGE9aS5nZXREYXRhKCk7Yj11LmdldENvbmZpZ3VyYXRpb24odi5vVmlld0RhdGEuY2hpcCx0cnVlLHRydWUpO3M9Yi5uYXZpZ2F0aW9uX3NlbWFudGljX2FjdGlvbnx8Yi5zZW1hbnRpY19hY3Rpb247aWYocyl7aWYoIWkuZ2V0RGF0YSgpLml0ZW1zLnNvbWUoZnVuY3Rpb24oail7cmV0dXJuIGoudGV4dD09PXM7fSkpe2kuZ2V0RGF0YSgpLml0ZW1zLnB1c2goeyJ0ZXh0IjpzfSk7fX1BLmJpbmRBZ2dyZWdhdGlvbigic3VnZ2VzdGlvbkl0ZW1zIiwiaXRlbXM+L2l0ZW1zIixuZXcgZyh7dGV4dDoie2l0ZW1zPnRleHR9In0pKTtBLnNldE1vZGVsKGksIml0ZW1zIik7QS5nZXRCaW5kaW5nKCJzdWdnZXN0aW9uSXRlbXMiKS5zb3J0KG5ldyBoKCJ0ZXh0IixmYWxzZSkpO307VS5jcmVhdGVOYXZpZ2F0aW9uUHJvdmlkZXJNb2RlbD1mdW5jdGlvbihhLGIpe3ZhciBpPW5ldyBKKCk7dmFyIFI9VS5nZXRSZXNvdXJjZUJ1bmRsZU1vZGVsKCkuZ2V0UmVzb3VyY2VCdW5kbGUoKTt2YXIgaj1beyJrZXkiOiJTQVBVSTUiLCJ0ZXh0IjpSLmdldFRleHQoImNvbmZpZ3VyYXRpb24udGFyZ2V0X2FwcGxpY2F0aW9uLnNhcHVpNSIpfSx7ImtleSI6IkxQRCIsInRleHQiOlIuZ2V0VGV4dCgiY29uZmlndXJhdGlvbi50YXJnZXRfYXBwbGljYXRpb24ubHBkX2N1c3QiKX0seyJrZXkiOiJUUiIsInRleHQiOlIuZ2V0VGV4dCgiY29uZmlndXJhdGlvbi50YXJnZXRfYXBwbGljYXRpb24udHJhbnNhY3Rpb24iKX0seyJrZXkiOiJXREEiLCJ0ZXh0IjpSLmdldFRleHQoImNvbmZpZ3VyYXRpb24udGFyZ2V0X2FwcGxpY2F0aW9uLndlYl9keW5wcm8iKX0seyJrZXkiOiJVUkwiLCJ0ZXh0IjpSLmdldFRleHQoImNvbmZpZ3VyYXRpb24udGFyZ2V0X2FwcGxpY2F0aW9uLnVybCIpfV07dmFyIHA9VS5nZXRDb25maWd1cmF0aW9uKGEuZ2V0VmlldygpKTt2YXIgcz1wLm5hdmlnYXRpb25fcHJvdmlkZXI9PT0iV0NGIjtpZihzKXtqLnB1c2goeyJrZXkiOiJXQ0YiLCJ0ZXh0IjpSLmdldFRleHQoImNvbmZpZ3VyYXRpb24udGFyZ2V0X2FwcGxpY2F0aW9uLndjZiIpfSk7fWkuc2V0RGF0YSh7Iml0ZW1zIjpqfSk7Yi5iaW5kSXRlbXMoIml0ZW1zPi9pdGVtcyIsbmV3IGcoe2tleToie2l0ZW1zPmtleX0iLHRleHQ6IntpdGVtcz50ZXh0fSJ9KSk7Yi5zZXRNb2RlbChpLCJpdGVtcyIpO2IuZ2V0QmluZGluZygiaXRlbXMiKS5zb3J0KG5ldyBoKCJ0ZXh0IixmYWxzZSkpO307VS5kaXNwbGF5QXBwbGljYXRpb25UeXBlRmllbGRzPWZ1bmN0aW9uKGEsYil7c3dpdGNoKGEpe2Nhc2UiTFBEIjpVLmRpc3BsYXlMcGRDdXN0QXBwbGljYXRpb25UeXBlRmllbGRzKGIpO2JyZWFrO2Nhc2UiU0FQVUk1IjpVLmRpc3BsYXlTYXB1aTVBcHBsaWNhdGlvblR5cGVGaWVsZHMoYik7YnJlYWs7Y2FzZSJUUiI6VS5kaXNwbGF5VHJhbnNhY3Rpb25BcHBsaWNhdGlvblR5cGVGaWVsZHMoYik7YnJlYWs7Y2FzZSJXREEiOlUuZGlzcGxheVdlYkR5bnByb0FwcGxpY2F0aW9uVHlwZUZpZWxkcyhiKTticmVhaztjYXNlIlVSTCI6VS5kaXNwbGF5VVJMQXBwbGljYXRpb25UeXBlRmllbGRzKGIpO2JyZWFrO2Nhc2UiV0NGIjpVLmRpc3BsYXlXQ0ZBcHBsaWNhdGlvblR5cGVGaWVsZHMoYik7YnJlYWs7fX07VS5kaXNwbGF5V0NGQXBwbGljYXRpb25UeXBlRmllbGRzPWZ1bmN0aW9uKGEpe2EuYnlJZCgibmF2aWdhdGlvbl9wcm92aWRlcl9yb2xlIikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJuYXZpZ2F0aW9uX3Byb3ZpZGVyX3JvbGVJbnB1dCIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgibmF2aWdhdGlvbl9wcm92aWRlcl9pbnN0YW5jZSIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgibmF2aWdhdGlvbl9wcm92aWRlcl9pbnN0YW5jZUlucHV0Iikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJ0YXJnZXRfYXBwbGljYXRpb25fYWxpYXMiKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoInRhcmdldF9hcHBsaWNhdGlvbl9hbGlhc0lucHV0Iikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJ0YXJnZXRfYXBwbGljYXRpb25faWQiKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoInRhcmdldF9hcHBsaWNhdGlvbl9pZElucHV0Iikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJhcHBsaWNhdGlvbl9kZXNjcmlwdGlvbiIpLnNldFZpc2libGUodHJ1ZSk7YS5ieUlkKCJ0YXJnZXRfYXBwbGljYXRpb25fZGVzY3JpcHRpb25JbnB1dCIpLnNldFZpc2libGUodHJ1ZSk7YS5ieUlkKCJhcHBsaWNhdGlvbl91cmwiKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoInRhcmdldF9hcHBsaWNhdGlvbl91cmxJbnB1dCIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgiYXBwbGljYXRpb25fY29tcG9uZW50Iikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJ0YXJnZXRfYXBwbGljYXRpb25fY29tcG9uZW50SW5wdXQiKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoInRhcmdldF90cmFuc2FjdGlvbiIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgidGFyZ2V0X3RyYW5zYWN0aW9uSW5wdXQiKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoInRhcmdldF93Y2ZfYXBwbGljYXRpb25faWQiKS5zZXRWaXNpYmxlKHRydWUpO2EuYnlJZCgidGFyZ2V0X3djZl9hcHBsaWNhdGlvbl9pZElucHV0Iikuc2V0VmlzaWJsZSh0cnVlKTthLmJ5SWQoInRhcmdldF93ZWJfZHlucHJvX2FwcGxpY2F0aW9uIikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJ0YXJnZXRfd2ViX2R5bnByb19hcHBsaWNhdGlvbklucHV0Iikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJ0YXJnZXRfd2ViX2R5bnByb19jb25maWd1cmF0aW9uIikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJ0YXJnZXRfd2ViX2R5bnByb19jb25maWd1cmF0aW9uSW5wdXQiKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoInRhcmdldF9zeXN0ZW1fYWxpYXMiKS5zZXRWaXNpYmxlKHRydWUpO2EuYnlJZCgidGFyZ2V0X3N5c3RlbV9hbGlhc0lucHV0Iikuc2V0VmlzaWJsZSh0cnVlKTthLmJ5SWQoImFwcGxpY2F0aW9uX3R5cGVfZGVwcmVjYXRlZCIpLnNldFZpc2libGUoZmFsc2UpO307VS5kaXNwbGF5U2FwdWk1QXBwbGljYXRpb25UeXBlRmllbGRzPWZ1bmN0aW9uKGEpe2EuYnlJZCgibmF2aWdhdGlvbl9wcm92aWRlcl9yb2xlIikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJuYXZpZ2F0aW9uX3Byb3ZpZGVyX3JvbGVJbnB1dCIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgibmF2aWdhdGlvbl9wcm92aWRlcl9pbnN0YW5jZSIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgibmF2aWdhdGlvbl9wcm92aWRlcl9pbnN0YW5jZUlucHV0Iikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJ0YXJnZXRfYXBwbGljYXRpb25fYWxpYXMiKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoInRhcmdldF9hcHBsaWNhdGlvbl9hbGlhc0lucHV0Iikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJ0YXJnZXRfYXBwbGljYXRpb25faWQiKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoInRhcmdldF9hcHBsaWNhdGlvbl9pZElucHV0Iikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJhcHBsaWNhdGlvbl9kZXNjcmlwdGlvbiIpLnNldFZpc2libGUodHJ1ZSk7YS5ieUlkKCJ0YXJnZXRfYXBwbGljYXRpb25fZGVzY3JpcHRpb25JbnB1dCIpLnNldFZpc2libGUodHJ1ZSk7YS5ieUlkKCJhcHBsaWNhdGlvbl91cmwiKS5zZXRWaXNpYmxlKHRydWUpO2EuYnlJZCgidGFyZ2V0X2FwcGxpY2F0aW9uX3VybElucHV0Iikuc2V0VmlzaWJsZSh0cnVlKTthLmJ5SWQoImFwcGxpY2F0aW9uX2NvbXBvbmVudCIpLnNldFZpc2libGUodHJ1ZSk7YS5ieUlkKCJ0YXJnZXRfYXBwbGljYXRpb25fY29tcG9uZW50SW5wdXQiKS5zZXRWaXNpYmxlKHRydWUpO2EuYnlJZCgidGFyZ2V0X3RyYW5zYWN0aW9uIikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJ0YXJnZXRfdHJhbnNhY3Rpb25JbnB1dCIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgidGFyZ2V0X3djZl9hcHBsaWNhdGlvbl9pZCIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgidGFyZ2V0X3djZl9hcHBsaWNhdGlvbl9pZElucHV0Iikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJ0YXJnZXRfd2ViX2R5bnByb19hcHBsaWNhdGlvbiIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgidGFyZ2V0X3dlYl9keW5wcm9fYXBwbGljYXRpb25JbnB1dCIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgidGFyZ2V0X3dlYl9keW5wcm9fY29uZmlndXJhdGlvbiIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgidGFyZ2V0X3dlYl9keW5wcm9fY29uZmlndXJhdGlvbklucHV0Iikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJ0YXJnZXRfc3lzdGVtX2FsaWFzIikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJ0YXJnZXRfc3lzdGVtX2FsaWFzSW5wdXQiKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoImFwcGxpY2F0aW9uX3R5cGVfZGVwcmVjYXRlZCIpLnNldFZpc2libGUoZmFsc2UpO307VS5kaXNwbGF5THBkQ3VzdEFwcGxpY2F0aW9uVHlwZUZpZWxkcz1mdW5jdGlvbihhKXthLmJ5SWQoImFwcGxpY2F0aW9uX2Rlc2NyaXB0aW9uIikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJ0YXJnZXRfYXBwbGljYXRpb25fZGVzY3JpcHRpb25JbnB1dCIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgiYXBwbGljYXRpb25fdXJsIikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJ0YXJnZXRfYXBwbGljYXRpb25fdXJsSW5wdXQiKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoImFwcGxpY2F0aW9uX2NvbXBvbmVudCIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgidGFyZ2V0X2FwcGxpY2F0aW9uX2NvbXBvbmVudElucHV0Iikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJuYXZpZ2F0aW9uX3Byb3ZpZGVyX3JvbGUiKS5zZXRWaXNpYmxlKHRydWUpO2EuYnlJZCgibmF2aWdhdGlvbl9wcm92aWRlcl9yb2xlSW5wdXQiKS5zZXRWaXNpYmxlKHRydWUpO2EuYnlJZCgibmF2aWdhdGlvbl9wcm92aWRlcl9pbnN0YW5jZSIpLnNldFZpc2libGUodHJ1ZSk7YS5ieUlkKCJuYXZpZ2F0aW9uX3Byb3ZpZGVyX2luc3RhbmNlSW5wdXQiKS5zZXRWaXNpYmxlKHRydWUpO2EuYnlJZCgidGFyZ2V0X2FwcGxpY2F0aW9uX2FsaWFzIikuc2V0VmlzaWJsZSh0cnVlKTthLmJ5SWQoInRhcmdldF9hcHBsaWNhdGlvbl9hbGlhc0lucHV0Iikuc2V0VmlzaWJsZSh0cnVlKTthLmJ5SWQoInRhcmdldF9hcHBsaWNhdGlvbl9pZCIpLnNldFZpc2libGUodHJ1ZSk7YS5ieUlkKCJ0YXJnZXRfYXBwbGljYXRpb25faWRJbnB1dCIpLnNldFZpc2libGUodHJ1ZSk7YS5ieUlkKCJ0YXJnZXRfdHJhbnNhY3Rpb24iKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoInRhcmdldF90cmFuc2FjdGlvbklucHV0Iikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJ0YXJnZXRfd2NmX2FwcGxpY2F0aW9uX2lkIikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJ0YXJnZXRfd2NmX2FwcGxpY2F0aW9uX2lkSW5wdXQiKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoInRhcmdldF93ZWJfZHlucHJvX2FwcGxpY2F0aW9uIikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJ0YXJnZXRfd2ViX2R5bnByb19hcHBsaWNhdGlvbklucHV0Iikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJ0YXJnZXRfd2ViX2R5bnByb19jb25maWd1cmF0aW9uIikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJ0YXJnZXRfd2ViX2R5bnByb19jb25maWd1cmF0aW9uSW5wdXQiKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoInRhcmdldF9zeXN0ZW1fYWxpYXMiKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoInRhcmdldF9zeXN0ZW1fYWxpYXNJbnB1dCIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgiYXBwbGljYXRpb25fdHlwZV9kZXByZWNhdGVkIikuc2V0VmlzaWJsZSh0cnVlKTt9O1UuZGlzcGxheVRyYW5zYWN0aW9uQXBwbGljYXRpb25UeXBlRmllbGRzPWZ1bmN0aW9uKGEpe2EuYnlJZCgiYXBwbGljYXRpb25fZGVzY3JpcHRpb24iKS5zZXRWaXNpYmxlKHRydWUpO2EuYnlJZCgidGFyZ2V0X2FwcGxpY2F0aW9uX2Rlc2NyaXB0aW9uSW5wdXQiKS5zZXRWaXNpYmxlKHRydWUpO2EuYnlJZCgiYXBwbGljYXRpb25fdXJsIikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJ0YXJnZXRfYXBwbGljYXRpb25fdXJsSW5wdXQiKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoImFwcGxpY2F0aW9uX2NvbXBvbmVudCIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgidGFyZ2V0X2FwcGxpY2F0aW9uX2NvbXBvbmVudElucHV0Iikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJuYXZpZ2F0aW9uX3Byb3ZpZGVyX3JvbGUiKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoIm5hdmlnYXRpb25fcHJvdmlkZXJfcm9sZUlucHV0Iikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJuYXZpZ2F0aW9uX3Byb3ZpZGVyX2luc3RhbmNlIikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJuYXZpZ2F0aW9uX3Byb3ZpZGVyX2luc3RhbmNlSW5wdXQiKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoInRhcmdldF9hcHBsaWNhdGlvbl9hbGlhcyIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgidGFyZ2V0X2FwcGxpY2F0aW9uX2FsaWFzSW5wdXQiKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoInRhcmdldF9hcHBsaWNhdGlvbl9pZCIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgidGFyZ2V0X2FwcGxpY2F0aW9uX2lkSW5wdXQiKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoInRhcmdldF90cmFuc2FjdGlvbiIpLnNldFZpc2libGUodHJ1ZSk7YS5ieUlkKCJ0YXJnZXRfdHJhbnNhY3Rpb25JbnB1dCIpLnNldFZpc2libGUodHJ1ZSk7YS5ieUlkKCJ0YXJnZXRfd2NmX2FwcGxpY2F0aW9uX2lkIikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJ0YXJnZXRfd2NmX2FwcGxpY2F0aW9uX2lkSW5wdXQiKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoInRhcmdldF93ZWJfZHlucHJvX2FwcGxpY2F0aW9uIikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJ0YXJnZXRfd2ViX2R5bnByb19hcHBsaWNhdGlvbklucHV0Iikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJ0YXJnZXRfd2ViX2R5bnByb19jb25maWd1cmF0aW9uIikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJ0YXJnZXRfd2ViX2R5bnByb19jb25maWd1cmF0aW9uSW5wdXQiKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoInRhcmdldF9zeXN0ZW1fYWxpYXMiKS5zZXRWaXNpYmxlKHRydWUpO2EuYnlJZCgidGFyZ2V0X3N5c3RlbV9hbGlhc0lucHV0Iikuc2V0VmlzaWJsZSh0cnVlKTthLmJ5SWQoImFwcGxpY2F0aW9uX3R5cGVfZGVwcmVjYXRlZCIpLnNldFZpc2libGUoZmFsc2UpO307VS5kaXNwbGF5V2ViRHlucHJvQXBwbGljYXRpb25UeXBlRmllbGRzPWZ1bmN0aW9uKGEpe2EuYnlJZCgiYXBwbGljYXRpb25fZGVzY3JpcHRpb24iKS5zZXRWaXNpYmxlKHRydWUpO2EuYnlJZCgidGFyZ2V0X2FwcGxpY2F0aW9uX2Rlc2NyaXB0aW9uSW5wdXQiKS5zZXRWaXNpYmxlKHRydWUpO2EuYnlJZCgiYXBwbGljYXRpb25fdXJsIikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJ0YXJnZXRfYXBwbGljYXRpb25fdXJsSW5wdXQiKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoImFwcGxpY2F0aW9uX2NvbXBvbmVudCIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgidGFyZ2V0X2FwcGxpY2F0aW9uX2NvbXBvbmVudElucHV0Iikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJuYXZpZ2F0aW9uX3Byb3ZpZGVyX3JvbGUiKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoIm5hdmlnYXRpb25fcHJvdmlkZXJfcm9sZUlucHV0Iikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJuYXZpZ2F0aW9uX3Byb3ZpZGVyX2luc3RhbmNlIikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJuYXZpZ2F0aW9uX3Byb3ZpZGVyX2luc3RhbmNlSW5wdXQiKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoInRhcmdldF9hcHBsaWNhdGlvbl9hbGlhcyIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgidGFyZ2V0X2FwcGxpY2F0aW9uX2FsaWFzSW5wdXQiKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoInRhcmdldF9hcHBsaWNhdGlvbl9pZCIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgidGFyZ2V0X2FwcGxpY2F0aW9uX2lkSW5wdXQiKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoInRhcmdldF90cmFuc2FjdGlvbiIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgidGFyZ2V0X3RyYW5zYWN0aW9uSW5wdXQiKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoInRhcmdldF93Y2ZfYXBwbGljYXRpb25faWQiKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoInRhcmdldF93Y2ZfYXBwbGljYXRpb25faWRJbnB1dCIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgidGFyZ2V0X3dlYl9keW5wcm9fYXBwbGljYXRpb24iKS5zZXRWaXNpYmxlKHRydWUpO2EuYnlJZCgidGFyZ2V0X3dlYl9keW5wcm9fYXBwbGljYXRpb25JbnB1dCIpLnNldFZpc2libGUodHJ1ZSk7YS5ieUlkKCJ0YXJnZXRfd2ViX2R5bnByb19jb25maWd1cmF0aW9uIikuc2V0VmlzaWJsZSh0cnVlKTthLmJ5SWQoInRhcmdldF93ZWJfZHlucHJvX2NvbmZpZ3VyYXRpb25JbnB1dCIpLnNldFZpc2libGUodHJ1ZSk7YS5ieUlkKCJ0YXJnZXRfc3lzdGVtX2FsaWFzIikuc2V0VmlzaWJsZSh0cnVlKTthLmJ5SWQoInRhcmdldF9zeXN0ZW1fYWxpYXNJbnB1dCIpLnNldFZpc2libGUodHJ1ZSk7YS5ieUlkKCJhcHBsaWNhdGlvbl90eXBlX2RlcHJlY2F0ZWQiKS5zZXRWaXNpYmxlKGZhbHNlKTt9O1UuZGlzcGxheVVSTEFwcGxpY2F0aW9uVHlwZUZpZWxkcz1mdW5jdGlvbihhKXthLmJ5SWQoIm5hdmlnYXRpb25fcHJvdmlkZXJfcm9sZSIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgibmF2aWdhdGlvbl9wcm92aWRlcl9yb2xlSW5wdXQiKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoIm5hdmlnYXRpb25fcHJvdmlkZXJfaW5zdGFuY2UiKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoIm5hdmlnYXRpb25fcHJvdmlkZXJfaW5zdGFuY2VJbnB1dCIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgidGFyZ2V0X2FwcGxpY2F0aW9uX2FsaWFzIikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJ0YXJnZXRfYXBwbGljYXRpb25fYWxpYXNJbnB1dCIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgidGFyZ2V0X2FwcGxpY2F0aW9uX2lkIikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJ0YXJnZXRfYXBwbGljYXRpb25faWRJbnB1dCIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgiYXBwbGljYXRpb25fZGVzY3JpcHRpb24iKS5zZXRWaXNpYmxlKHRydWUpO2EuYnlJZCgidGFyZ2V0X2FwcGxpY2F0aW9uX2Rlc2NyaXB0aW9uSW5wdXQiKS5zZXRWaXNpYmxlKHRydWUpO2EuYnlJZCgiYXBwbGljYXRpb25fdXJsIikuc2V0VmlzaWJsZSh0cnVlKTthLmJ5SWQoInRhcmdldF9hcHBsaWNhdGlvbl91cmxJbnB1dCIpLnNldFZpc2libGUodHJ1ZSk7YS5ieUlkKCJhcHBsaWNhdGlvbl9jb21wb25lbnQiKS5zZXRWaXNpYmxlKGZhbHNlKTthLmJ5SWQoInRhcmdldF9hcHBsaWNhdGlvbl9jb21wb25lbnRJbnB1dCIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgidGFyZ2V0X3RyYW5zYWN0aW9uIikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJ0YXJnZXRfdHJhbnNhY3Rpb25JbnB1dCIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgidGFyZ2V0X3djZl9hcHBsaWNhdGlvbl9pZCIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgidGFyZ2V0X3djZl9hcHBsaWNhdGlvbl9pZElucHV0Iikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJ0YXJnZXRfd2ViX2R5bnByb19hcHBsaWNhdGlvbiIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgidGFyZ2V0X3dlYl9keW5wcm9fYXBwbGljYXRpb25JbnB1dCIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgidGFyZ2V0X3dlYl9keW5wcm9fY29uZmlndXJhdGlvbiIpLnNldFZpc2libGUoZmFsc2UpO2EuYnlJZCgidGFyZ2V0X3dlYl9keW5wcm9fY29uZmlndXJhdGlvbklucHV0Iikuc2V0VmlzaWJsZShmYWxzZSk7YS5ieUlkKCJ0YXJnZXRfc3lzdGVtX2FsaWFzIikuc2V0VmlzaWJsZSh0cnVlKTthLmJ5SWQoInRhcmdldF9zeXN0ZW1fYWxpYXNJbnB1dCIpLnNldFZpc2libGUodHJ1ZSk7YS5ieUlkKCJhcHBsaWNhdGlvbl90eXBlX2RlcHJlY2F0ZWQiKS5zZXRWaXNpYmxlKGZhbHNlKTt9O3JldHVybiBVO30sdHJ1ZSk7CnNhcC51aS5wcmVkZWZpbmUoJ3NhcC91c2hlbGwvY29tcG9uZW50cy90aWxlcy91dGlsc1JUJyxbInNhcC91aS9jb3JlL2Zvcm1hdC9OdW1iZXJGb3JtYXQiLCJzYXAvdWkvY29yZS9saWJyYXJ5Iiwic2FwL2Jhc2UvTG9nIl0sZnVuY3Rpb24oTixjLEwpeyJ1c2Ugc3RyaWN0Ijt2YXIgVj1jLm12Yy5WaWV3VHlwZTt2YXIgdT17fTt1LmdldENvbmZpZ3VyYXRpb249ZnVuY3Rpb24odCxhLEUpe3ZhciByO3ZhciBDPXQuY29uZmlndXJhdGlvbi5nZXRQYXJhbWV0ZXJWYWx1ZUFzU3RyaW5nKCJ0aWxlQ29uZmlndXJhdGlvbiIpO3RyeXt2YXIgbz1KU09OLnBhcnNlKEN8fCJ7fSIpO31jYXRjaChlKXtMLmVycm9yKCJFcnJvciB3aGlsZSB0cnlpbmcgdG8gcGFyc2UgdGlsZSBjb25maWd1cmF0aW9uIixlLCJzYXAudXNoZWxsLmNvbXBvbmVudHMudGlsZXMudXRpbHNSVCIpO3JldHVybnt9O312YXIgVT1zYXAudWkucmVxdWlyZSgic2FwL3VzaGVsbC9jb21wb25lbnRzL3RpbGVzL3V0aWxzIik7by5lZGl0YWJsZT10cnVlO2lmKHQuY29uZmlndXJhdGlvblVpJiZ0LmNvbmZpZ3VyYXRpb25VaS5pc1JlYWRPbmx5KXtpZih0LmNvbmZpZ3VyYXRpb25VaS5pc1JlYWRPbmx5KCkpe28uZWRpdGFibGU9ZmFsc2U7fX12YXIgVD1VLmdldFRyYW5zbGF0ZWRUaXRsZSh0KTt2YXIgcz1VLmdldFRyYW5zbGF0ZWRTdWJ0aXRsZSh0LG8pO3ZhciBpPVUuZ2V0VHJhbnNsYXRlZFByb3BlcnR5KHQsbywiZGlzcGxheV9pbmZvX3RleHQiKTt2YXIgaz1VLmdldFRyYW5zbGF0ZWRQcm9wZXJ0eSh0LG8sImRpc3BsYXlfc2VhcmNoX2tleXdvcmRzIik7aWYoYSl7cj1VLmdldFJlc291cmNlQnVuZGxlTW9kZWwoKS5nZXRSZXNvdXJjZUJ1bmRsZSgpO2lmKEUmJnQuYmFnKXt2YXIgYj10LmJhZy5nZXRPcmlnaW5hbExhbmd1YWdlKCk7dmFyIGw9c2FwLnVpLmdldENvcmUoKS5nZXRDb25maWd1cmF0aW9uKCkuZ2V0TG9jYWxlKCkuZ2V0U0FQTG9nb25MYW5ndWFnZSgpO3ZhciBkPXNhcC51aS5nZXRDb3JlKCkuZ2V0Q29uZmlndXJhdGlvbigpLmdldExhbmd1YWdlKCk7by5pc0xvY2FsZVN1aXRhYmxlPWI9PT0iInx8Yi50b0xvd2VyQ2FzZSgpPT09bC50b0xvd2VyQ2FzZSgpfHxiLnRvTG93ZXJDYXNlKCk9PT1kLnRvTG93ZXJDYXNlKCk7by5vcmdMb2NhbGU9YjtvLnVzZXJMb2NhbGU9bDt9fW8uZGlzcGxheV9pY29uX3VybD1vLmRpc3BsYXlfaWNvbl91cmx8fCIiO2lmKGkhPT11bmRlZmluZWQpe28uZGlzcGxheV9pbmZvX3RleHQ9aTt9ZWxzZSBpZihvLmRpc3BsYXlfaW5mb190ZXh0PT09dW5kZWZpbmVkKXtpZihhJiYhRSl7by5kaXNwbGF5X2luZm9fdGV4dD0iWyIrci5nZXRUZXh0KCJjb25maWd1cmF0aW9uLmRpc3BsYXlfaW5mb190ZXh0IikrIl0iO31lbHNle28uZGlzcGxheV9pbmZvX3RleHQ9IiI7fX1vLm5hdmlnYXRpb25fc2VtYW50aWNfb2JqZWN0PW8ubmF2aWdhdGlvbl9zZW1hbnRpY19vYmplY3R8fCIiO28ubmF2aWdhdGlvbl9zZW1hbnRpY19hY3Rpb249by5uYXZpZ2F0aW9uX3NlbWFudGljX2FjdGlvbnx8IiI7by5uYXZpZ2F0aW9uX3NlbWFudGljX3BhcmFtZXRlcnM9by5uYXZpZ2F0aW9uX3NlbWFudGljX3BhcmFtZXRlcnN8fCIiO28uZGlzcGxheV9udW1iZXJfdW5pdD1vLmRpc3BsYXlfbnVtYmVyX3VuaXR8fCIiO28uZGlzcGxheV9udW1iZXJfZmFjdG9yPW8uZGlzcGxheV9udW1iZXJfZmFjdG9yfHwiIjtvLnNlcnZpY2VfcmVmcmVzaF9pbnRlcnZhbD1vLnNlcnZpY2VfcmVmcmVzaF9pbnRlcnZhbD9wYXJzZUludChvLnNlcnZpY2VfcmVmcmVzaF9pbnRlcnZhbCwxMCk6MDtvLnNlcnZpY2VfdXJsPW8uc2VydmljZV91cmx8fCIiO28ubmF2aWdhdGlvbl90YXJnZXRfdXJsPW8ubmF2aWdhdGlvbl90YXJnZXRfdXJsfHwiIjtpZihhJiZVLmlzSW5pdGlhbChUKSl7by5kaXNwbGF5X3RpdGxlX3RleHQ9RT8iIjoiWyIrci5nZXRUZXh0KCJjb25maWd1cmF0aW9uLmRpc3BsYXlfdGl0bGVfdGV4dCIpKyJdIjtvLmRpc3BsYXlfc3VidGl0bGVfdGV4dD1FPyIiOiJbIityLmdldFRleHQoImNvbmZpZ3VyYXRpb24uZGlzcGxheV9zdWJ0aXRsZV90ZXh0IikrIl0iO31lbHNle28uZGlzcGxheV90aXRsZV90ZXh0PVR8fG8uZGlzcGxheV90aXRsZV90ZXh0fHwiIjtpZihzIT09dW5kZWZpbmVkKXtvLmRpc3BsYXlfc3VidGl0bGVfdGV4dD1zO31lbHNlIGlmKG8uZGlzcGxheV9zdWJ0aXRsZV90ZXh0PT09dW5kZWZpbmVkKXtvLmRpc3BsYXlfc3VidGl0bGVfdGV4dD0iIjt9fW8ubmF2aWdhdGlvbl91c2Vfc2VtYW50aWNfb2JqZWN0PShvLm5hdmlnYXRpb25fdXNlX3NlbWFudGljX29iamVjdCE9PWZhbHNlKTtvLmRpc3BsYXlfc2VhcmNoX2tleXdvcmRzPWt8fG8uZGlzcGxheV9zZWFyY2hfa2V5d29yZHN8fCIiO2lmKGEpe28uZGlzcGxheV9udW1iZXJfdmFsdWU9by5kaXNwbGF5X251bWJlcl92YWx1ZXx8MTIzNDt9by5mb3JtX2ZhY3RvcnM9by5mb3JtX2ZhY3RvcnM/by5mb3JtX2ZhY3RvcnM6VS5nZXREZWZhdWx0Rm9ybUZhY3RvcnMoKTtvLmRlc2t0b3BDaGVja2VkPW8uZm9ybV9mYWN0b3JzLm1hbnVhbC5kZXNrdG9wO28udGFibGV0Q2hlY2tlZD1vLmZvcm1fZmFjdG9ycy5tYW51YWwudGFibGV0O28ucGhvbmVDaGVja2VkPW8uZm9ybV9mYWN0b3JzLm1hbnVhbC5waG9uZTtvLm1hbnVhbEZvcm1GYWN0b3I9IShvLmZvcm1fZmFjdG9ycy5hcHBEZWZhdWx0KSYmby5lZGl0YWJsZTtvLmFwcEZvcm1GYWN0b3I9by5mb3JtX2ZhY3RvcnMuYXBwRGVmYXVsdDtvLmZvcm1GYWN0b3JDb25maWdEZWZhdWx0PSEhby5mb3JtX2ZhY3RvcnMuZGVmYXVsdFBhcmFtO2lmKG8uc2lnbmF0dXJlKXtvLnJvd3M9VS5nZXRTaWduYXR1cmVUYWJsZURhdGEoby5zaWduYXR1cmUsRSYmby5lZGl0YWJsZSk7fWVsc2V7by5yb3dzPShvLm1hcHBpbmdfc2lnbmF0dXJlJiZvLm1hcHBpbmdfc2lnbmF0dXJlIT09Iio9KiIpP1UuZ2V0TWFwcGluZ1NpZ25hdHVyZVRhYmxlRGF0YShvLm1hcHBpbmdfc2lnbmF0dXJlLEUmJm8uZWRpdGFibGUpOltVLmdldEVtcHR5Um93T2JqKG8uZWRpdGFibGUpXTt9aWYoby5zaWduYXR1cmUpe28uaXNVbmtub3duQWxsb3dlZD0oby5zaWduYXR1cmUuYWRkaXRpb25hbF9wYXJhbWV0ZXJzPT09ImFsbG93ZWQifHxvLnNpZ25hdHVyZS5hZGRpdGlvbmFsUGFyYW1ldGVycz09PSJhbGxvd2VkIik7fWVsc2V7by5pc1Vua25vd25BbGxvd2VkPShvLm1hcHBpbmdfc2lnbmF0dXJlIT09dW5kZWZpbmVkKT9VLmdldEFsbG93VW5rbm93blBhcmFtZXRlcnNWYWx1ZShvLm1hcHBpbmdfc2lnbmF0dXJlKTp0cnVlO31pZihhKXtvLnRpbGVfYWN0aW9uc19yb3dzPVUuZ2V0VGlsZU5hdmlnYXRpb25BY3Rpb25zUm93cyh0LG8uZWRpdGFibGUpO31lbHNlIGlmKCFvLmFjdGlvbnMpe28uYWN0aW9ucz1VLmdldFRpbGVOYXZpZ2F0aW9uQWN0aW9ucyh0KTt9cmV0dXJuIG87fTt1LmdldERhdGFUb0Rpc3BsYXk9ZnVuY3Rpb24oQyxkKXt2YXIgYT0wLGksbixvLHMsRD17ZGlzcGxheV9pY29uX3VybDpkLmljb258fEMuZGlzcGxheV9pY29uX3VybHx8IiIsZGlzcGxheV90aXRsZV90ZXh0OmQudGl0bGV8fEMuZGlzcGxheV90aXRsZV90ZXh0fHwiIixkaXNwbGF5X251bWJlcl92YWx1ZTohaXNOYU4oZC5udW1iZXIpP2QubnVtYmVyOiIuLi4iLGRpc3BsYXlfbnVtYmVyX3VuaXQ6ZC5udW1iZXJVbml0fHxDLmRpc3BsYXlfbnVtYmVyX3VuaXR8fCIiLGRpc3BsYXlfaW5mb190ZXh0OmQuaW5mb3x8Qy5kaXNwbGF5X2luZm9fdGV4dHx8IiIsZGlzcGxheV9pbmZvX3N0YXRlOmQuaW5mb1N0YXRlfHwiTmV1dHJhbCIsZGlzcGxheV9zdWJ0aXRsZV90ZXh0OmQuc3VidGl0bGV8fEMuZGlzcGxheV9zdWJ0aXRsZV90ZXh0fHwiIixkaXNwbGF5X3N0YXRlX2Fycm93OmQuc3RhdGVBcnJvd3x8Ik5vbmUiLGRpc3BsYXlfbnVtYmVyX3N0YXRlOmQubnVtYmVyU3RhdGV8fCJOZXV0cmFsIixkaXNwbGF5X251bWJlcl9kaWdpdHM6ZC5udW1iZXJEaWdpdHM+PTA/ZC5udW1iZXJEaWdpdHM6NCxkaXNwbGF5X251bWJlcl9mYWN0b3I6ZC5udW1iZXJGYWN0b3J8fCIiLGRpc3BsYXlfc2VhcmNoX2tleXdvcmQ6ZC5rZXl3b3Jkc3x8Qy5kaXNwbGF5X3NlYXJjaF9rZXl3b3JkfHwiIix0YXJnZXRQYXJhbXM6W119O2lmKGQuaW5mb1N0YXR1cyl7RC5kaXNwbGF5X2luZm9fc3RhdGU9ZC5pbmZvU3RhdHVzO31pZihkLnRhcmdldFBhcmFtcyl7RC50YXJnZXRQYXJhbXMucHVzaChkLnRhcmdldFBhcmFtcyk7fWlmKGQucmVzdWx0cyl7Zm9yKGk9MCxuPWQucmVzdWx0cy5sZW5ndGg7aTxuO2k9aSsxKXtvPWQucmVzdWx0c1tpXS5udW1iZXJ8fDA7aWYodHlwZW9mIG89PT0ic3RyaW5nIil7bz1wYXJzZUZsb2F0KG8sMTApO31hPWErbztzPWQucmVzdWx0c1tpXS50YXJnZXRQYXJhbXM7aWYocyl7RC50YXJnZXRQYXJhbXMucHVzaChzKTt9fUQuZGlzcGxheV9udW1iZXJfdmFsdWU9YTt9aWYoIWlzTmFOKGQubnVtYmVyKSl7aWYodHlwZW9mIGQubnVtYmVyPT09InN0cmluZyIpe2QubnVtYmVyPWQubnVtYmVyLnRyaW0oKTt9aWYoZC5udW1iZXI9PT0iIil7RC5kaXNwbGF5X251bWJlcl92YWx1ZT0iLi4uIjt9ZWxzZXt2YXIgUz10aGlzLl9zaG91bGRQcm9jZXNzRGlnaXRzKGQubnVtYmVyLGQubnVtYmVyRGlnaXRzKSxtPUQuZGlzcGxheV9pY29uX3VybD80OjU7aWYoZC5udW1iZXImJmQubnVtYmVyLmxlbmd0aD49bXx8Uyl7dmFyIGI9dGhpcy5fbm9ybWFsaXplTnVtYmVyKGQubnVtYmVyLG0sZC5udW1iZXJGYWN0b3IsZC5udW1iZXJEaWdpdHMpO0QuZGlzcGxheV9udW1iZXJfZmFjdG9yPWIubnVtYmVyRmFjdG9yO0QuZGlzcGxheV9udW1iZXJfdmFsdWU9Yi5kaXNwbGF5TnVtYmVyO31lbHNle3ZhciBlPU4uZ2V0RmxvYXRJbnN0YW5jZSh7bWF4RnJhY3Rpb25EaWdpdHM6bX0pO0QuZGlzcGxheV9udW1iZXJfdmFsdWU9ZS5mb3JtYXQoZC5udW1iZXIpO319fWlmKEQmJkQuZGlzcGxheV9udW1iZXJfc3RhdGUpe3N3aXRjaChELmRpc3BsYXlfbnVtYmVyX3N0YXRlKXtjYXNlIlBvc2l0aXZlIjpELmRpc3BsYXlfbnVtYmVyX3N0YXRlPSJHb29kIjticmVhaztjYXNlIk5lZ2F0aXZlIjpELmRpc3BsYXlfbnVtYmVyX3N0YXRlPSJFcnJvciI7YnJlYWs7fX1yZXR1cm4gRDt9O3UuZ2V0VGlsZVNldHRpbmdzQWN0aW9uPWZ1bmN0aW9uKG0scyx0KXt2YXIgYT1zYXAudWkucmVxdWlyZSgic2FwL3VzaGVsbC9jb21wb25lbnRzL3RpbGVzL3V0aWxzIik7dmFyIHI9YS5nZXRSZXNvdXJjZUJ1bmRsZU1vZGVsKCkuZ2V0UmVzb3VyY2VCdW5kbGUoKTtyZXR1cm57dGV4dDooIXR8fHQ9PT0idGlsZSIpP3IuZ2V0VGV4dCgidGlsZVNldHRpbmdzQnRuIik6ci5nZXRUZXh0KCJsaW5rU2V0dGluZ3NCdG4iKSxwcmVzczpmdW5jdGlvbigpe3NhcC51aS5yZXF1aXJlKFsic2FwL3VpL2xheW91dC9mb3JtL1NpbXBsZUZvcm0iLCJzYXAvdWkvbGF5b3V0L2Zvcm0vU2ltcGxlRm9ybUxheW91dCIsInNhcC9tL0J1dHRvbiIsInNhcC9tL0RpYWxvZyJdLGZ1bmN0aW9uKFMsYixCLEQpe3ZhciBBPXtzaG93R3JvdXBTZWxlY3Rpb246ZmFsc2UsdGl0bGU6bS5nZXRQcm9wZXJ0eSgiL2NvbmZpZy9kaXNwbGF5X3RpdGxlX3RleHQiKSxzdWJ0aXRsZTptLmdldFByb3BlcnR5KCIvY29uZmlnL2Rpc3BsYXlfc3VidGl0bGVfdGV4dCIpfTtpZighdHx8dD09PSJ0aWxlIil7QS5pbmZvPW0uZ2V0UHJvcGVydHkoIi9jb25maWcvZGlzcGxheV9pbmZvX3RleHQiKTtBLmljb249bS5nZXRQcm9wZXJ0eSgiL2NvbmZpZy9kaXNwbGF5X2ljb25fdXJsIik7QS5rZXl3b3Jkcz1tLmdldFByb3BlcnR5KCIvY29uZmlnL2Rpc3BsYXlfc2VhcmNoX2tleXdvcmRzIik7fWVsc2UgaWYodD09PSJsaW5rIil7QS5zaG93SW5mbz1mYWxzZTtBLnNob3dJY29uPWZhbHNlO0Euc2hvd1ByZXZpZXc9ZmFsc2U7fXZhciBkPXNhcC51aS52aWV3KHt0eXBlOlYuSlMsdmlld05hbWU6InNhcC51c2hlbGwudWkuZm9vdGVyYmFyLlNhdmVBc1RpbGUiLHZpZXdEYXRhOnthcHBEYXRhOkF9fSk7dmFyIG89bmV3IFMoe2lkOiJ0aWxlU2V0dGluZ3MiLGxheW91dDpiLkdyaWRMYXlvdXQsY29udGVudDpbZF19KS5hZGRTdHlsZUNsYXNzKCJzYXBVc2hlbGxBZGRCb29rbWFya0Zvcm0iKTt2YXIgZT1uZXcgQigiYm9va21hcmtPa0J0biIse3RleHQ6ci5nZXRUZXh0KCJva0J0biIpLHByZXNzOmZ1bmN0aW9uKCl7cyhkKTtoLmNsb3NlKCk7fSxlbmFibGVkOnRydWV9KSxmPW5ldyBCKCJib29rbWFya0NhbmNlbEJ0biIse3RleHQ6ci5nZXRUZXh0KCJjYW5jZWxCdG4iKSxwcmVzczpmdW5jdGlvbigpe2guY2xvc2UoKTt9fSk7dmFyIGc9ZnVuY3Rpb24oaSl7ZS5zZXRFbmFibGVkKCEhaS50cmltKCkpO307ZC5nZXRUaXRsZUlucHV0KCkuYXR0YWNoTGl2ZUNoYW5nZShmdW5jdGlvbigpe2codGhpcy5nZXRWYWx1ZSgpKTt9KTt2YXIgaD1uZXcgRCh7aWQ6InNldHRpbmdzRGlhbG9nIix0aXRsZTooIXR8fHQ9PT0idGlsZSIpP3IuZ2V0VGV4dCgidGlsZVNldHRpbmdzRGlhbG9nVGl0bGUiKTpyLmdldFRleHQoImxpbmtTZXR0aW5nc0RpYWxvZ1RpdGxlIiksY29udGVudFdpZHRoOiI0MDBweCIsY29udGVudDpvLGJlZ2luQnV0dG9uOmUsZW5kQnV0dG9uOmYsaG9yaXpvbnRhbFNjcm9sbGluZzpmYWxzZSxhZnRlckNsb3NlOmZ1bmN0aW9uKCl7aC5kZXN0cm95KCk7fX0pO2gub3BlbigpO30pO319O307dS5nZXRTZW1hbnRpY05hdmlnYXRpb25Vcmw9ZnVuY3Rpb24oQyl7dmFyIFU9IiMiK2pRdWVyeS50cmltKEMubmF2aWdhdGlvbl9zZW1hbnRpY19vYmplY3QpO1UrPSItIitqUXVlcnkudHJpbShDLm5hdmlnYXRpb25fc2VtYW50aWNfYWN0aW9uKTtpZihDLm5hdmlnYXRpb25fc2VtYW50aWNfcGFyYW1ldGVycyYmalF1ZXJ5LnRyaW0oQy5uYXZpZ2F0aW9uX3NlbWFudGljX3BhcmFtZXRlcnMpLmxlbmd0aD4wKXtVKz0iPyIralF1ZXJ5LnRyaW0oQy5uYXZpZ2F0aW9uX3NlbWFudGljX3BhcmFtZXRlcnMpO31yZXR1cm4gVTt9O3UuYWRkUGFyYW1zVG9Vcmw9ZnVuY3Rpb24oVSxkKXt2YXIgcD0iIixiPVUuaW5kZXhPZigiPyIpIT09LTEsdD1kLnRhcmdldFBhcmFtcyxpO2lmKHQmJnQubGVuZ3RoPjApe2ZvcihpPTA7aTx0Lmxlbmd0aDtpPWkrMSl7cCs9dFtpXTtpZihpPHQubGVuZ3RoLTEpe3ArPSImIjt9fX1pZihwLmxlbmd0aD4wKXtpZighYil7VSs9Ij8iO31lbHNle1UrPSImIjt9VSs9cDt9cmV0dXJuIFU7fTt1Ll9ub3JtYWxpemVOdW1iZXI9ZnVuY3Rpb24obixtLGEsaSl7dmFyIGI7aWYoaXNOYU4obikpe2I9bjt9ZWxzZXt2YXIgbz1OLmdldEZsb2F0SW5zdGFuY2Uoe21heEZyYWN0aW9uRGlnaXRzOml9KTtpZighYSl7dmFyIGQ9TWF0aC5hYnMobik7aWYoZD49MTAwMDAwMDAwMCl7YT0iQiI7bi89MTAwMDAwMDAwMDt9ZWxzZSBpZihkPj0xMDAwMDAwKXthPSJNIjtuLz0xMDAwMDAwO31lbHNlIGlmKGQ+PTEwMDApe2E9IksiO24vPTEwMDA7fX1iPW8uZm9ybWF0KG4pO312YXIgZT1iO3ZhciBmPWVbbS0xXTttLT0oZj09PSIuInx8Zj09PSIsIik/MTowO2U9ZS5zdWJzdHJpbmcoMCxtKTtyZXR1cm57ZGlzcGxheU51bWJlcjplLG51bWJlckZhY3RvcjphfTt9O3UuX3Nob3VsZFByb2Nlc3NEaWdpdHM9ZnVuY3Rpb24oZCxEKXt2YXIgbjtkPXR5cGVvZihkKSE9PSJzdHJpbmciP2QudG9TdHJpbmcoKTpkO2lmKGQuaW5kZXhPZigiLiIpIT09LTEpe249ZC5zcGxpdCgiLiIpWzFdLmxlbmd0aDtpZihuPkQpe3JldHVybiB0cnVlO319cmV0dXJuIGZhbHNlO307cmV0dXJuIHU7fSx0cnVlKTsKc2FwLnVpLnByZWRlZmluZSgnc2FwL3VzaGVsbC91aS9mb290ZXJiYXIvSGlkZUdyb3Vwc0J1dHRvbicsWydzYXAvdXNoZWxsL2xpYnJhcnknLCdzYXAvdXNoZWxsL3VpL2xhdW5jaHBhZC9BY3Rpb25JdGVtJywnLi9IaWRlR3JvdXBzQnV0dG9uUmVuZGVyZXInXSxmdW5jdGlvbihsLEEpeyJ1c2Ugc3RyaWN0Ijt2YXIgSD1BLmV4dGVuZCgic2FwLnVzaGVsbC51aS5mb290ZXJiYXIuSGlkZUdyb3Vwc0J1dHRvbiIse21ldGFkYXRhOntsaWJyYXJ5OiJzYXAudXNoZWxsIixldmVudHM6e3NhdmU6e319fX0pO3JldHVybiBIO30pOwpzYXAudWkucHJlZGVmaW5lKCdzYXAvdXNoZWxsL3VpL2Zvb3RlcmJhci9IaWRlR3JvdXBzQnV0dG9uUmVuZGVyZXInLFsnc2FwL3VpL2NvcmUvUmVuZGVyZXInLCdzYXAvbS9CdXR0b25SZW5kZXJlciddLGZ1bmN0aW9uKFIsQil7InVzZSBzdHJpY3QiO3ZhciBIPVIuZXh0ZW5kKEIpO3JldHVybiBIO30sdHJ1ZSk7CnNhcC51aS5wcmVkZWZpbmUoJ3NhcC91c2hlbGwvdWkvbGF1bmNocGFkL0FjY2Vzc2liaWxpdHlDdXN0b21EYXRhJyxbInNhcC91aS9jb3JlL0N1c3RvbURhdGEiLCJzYXAvYmFzZS9Mb2ciLCJzYXAvdWkvZXZlbnRzL0Y2TmF2aWdhdGlvbiIsInNhcC91aS9jb3JlL2xpYnJhcnkiXSxmdW5jdGlvbihDLEwsRixjKXsidXNlIHN0cmljdCI7dmFyIEk9Yy5JRDt2YXIgQT1DLmV4dGVuZCgic2FwLnVzaGVsbC51aS5sYXVuY2hwYWQuQWNjZXNzaWJpbGl0eUN1c3RvbURhdGEiKSxvPUMucHJvdG90eXBlLl9jaGVja1dyaXRlVG9Eb207QS5wcm90b3R5cGUuX2NoZWNrV3JpdGVUb0RvbT1mdW5jdGlvbihyKXt2YXIgaz10aGlzLmdldEtleSgpLnRvTG93ZXJDYXNlKCksaT1zYXAudWkuZ2V0Q29yZSgpLmdldENvbmZpZ3VyYXRpb24oKS5nZXRBY2Nlc3NpYmlsaXR5KCk7aWYoIWkpe3JldHVybjt9aWYoay5pbmRleE9mKCJhcmlhIik9PT0wfHxrPT09InJvbGUifHxrPT09InRhYmluZGV4Iil7aWYoIXRoaXMuZ2V0V3JpdGVUb0RvbSgpKXtyZXR1cm4gbnVsbDt9dmFyIHY9dGhpcy5nZXRWYWx1ZSgpO2lmKHR5cGVvZiB2IT09InN0cmluZyIpe0wuZXJyb3IoIkN1c3RvbURhdGEgd2l0aCBrZXkgIitrKyIgc2hvdWxkIGJlIHdyaXR0ZW4gdG8gSFRNTCBvZiAiK3IrIiBidXQgdGhlIHZhbHVlIGlzIG5vdCBhIHN0cmluZy4iKTtyZXR1cm4gbnVsbDt9aWYoIShJLmlzVmFsaWQoaykpfHwoay5pbmRleE9mKCI6IikhPS0xKSl7TC5lcnJvcigiQ3VzdG9tRGF0YSB3aXRoIGtleSAiK2srIiBzaG91bGQgYmUgd3JpdHRlbiB0byBIVE1MIG9mICIrcisiIGJ1dCB0aGUga2V5IGlzIG5vdCB2YWxpZCAobXVzdCBiZSBhIHZhbGlkIHNhcC51aS5jb3JlLklEIHdpdGhvdXQgYW55IGNvbG9uKS4iKTtyZXR1cm4gbnVsbDt9aWYoaz09Ri5mYXN0TmF2aWdhdGlvbktleSl7dj0vXlxzKih4fHRydWUpXHMqJC9pLnRlc3Qodik/InRydWUiOiJmYWxzZSI7fWVsc2UgaWYoay5pbmRleE9mKCJzYXAtdWkiKT09MCl7TC5lcnJvcigiQ3VzdG9tRGF0YSB3aXRoIGtleSAiK2srIiBzaG91bGQgYmUgd3JpdHRlbiB0byBIVE1MIG9mICIrcisiIGJ1dCB0aGUga2V5IGlzIG5vdCB2YWxpZCAobWF5IG5vdCBzdGFydCB3aXRoICdzYXAtdWknKS4iKTtyZXR1cm4gbnVsbDt9cmV0dXJue2tleTprLHZhbHVlOnZ9O31yZXR1cm4gby5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fTtyZXR1cm4gQTt9KTsKc2FwLnVpLnByZWRlZmluZSgnc2FwL3VzaGVsbC91aS9sYXVuY2hwYWQvQW5jaG9ySXRlbScsWyJzYXAvdWkvY29yZS9Db250cm9sIiwic2FwL3VzaGVsbC9saWJyYXJ5IiwiLi9BbmNob3JJdGVtUmVuZGVyZXIiXSxmdW5jdGlvbihDLGwpeyJ1c2Ugc3RyaWN0Ijt2YXIgQT1DLmV4dGVuZCgic2FwLnVzaGVsbC51aS5sYXVuY2hwYWQuQW5jaG9ySXRlbSIse21ldGFkYXRhOntsaWJyYXJ5OiJzYXAudXNoZWxsIixwcm9wZXJ0aWVzOnt0aXRsZTp7dHlwZToic3RyaW5nIixncm91cDoiTWlzYyIsZGVmYXVsdFZhbHVlOm51bGx9LHNlbGVjdGVkOnt0eXBlOiJib29sZWFuIixncm91cDoiTWlzYyIsZGVmYXVsdFZhbHVlOmZhbHNlfSxncm91cElkOnt0eXBlOiJzdHJpbmciLGdyb3VwOiJNaXNjIixkZWZhdWx0VmFsdWU6bnVsbH0sZGVmYXVsdEdyb3VwOnt0eXBlOiJib29sZWFuIixncm91cDoiTWlzYyIsZGVmYXVsdFZhbHVlOmZhbHNlfSx3cml0ZUhlbHBJZDp7dHlwZToiYm9vbGVhbiIsZ3JvdXA6Ik1pc2MiLGRlZmF1bHRWYWx1ZTpmYWxzZX0saW5kZXg6e3R5cGU6ImludCIsZ3JvdXA6Ik1pc2MiLGRlZmF1bHRWYWx1ZTpudWxsfSx2aXNpYmxlOnt0eXBlOiJib29sZWFuIixncm91cDoiTWlzYyIsZGVmYXVsdFZhbHVlOm51bGx9LGlzR3JvdXBWaXNpYmxlOnt0eXBlOiJib29sZWFuIixncm91cDoiTWlzYyIsZGVmYXVsdFZhbHVlOnRydWV9LGlzR3JvdXBSZW5kZXJlZDp7dHlwZToiYm9vbGVhbiIsZ3JvdXA6Ik1pc2MiLGRlZmF1bHRWYWx1ZTpmYWxzZX0saXNHcm91cERpc2FibGVkOnt0eXBlOiJib29sZWFuIixncm91cDoiTWlzYyIsZGVmYXVsdFZhbHVlOmZhbHNlfSxsb2NrZWQ6e3R5cGU6ImJvb2xlYW4iLGdyb3VwOiJNaXNjIixkZWZhdWx0VmFsdWU6ZmFsc2V9fSxldmVudHM6e3ByZXNzOnt9LGFmdGVyUmVuZGVyaW5nOnt9fX19KTtBLnByb3RvdHlwZS5vbkFmdGVyUmVuZGVyaW5nPWZ1bmN0aW9uKCl7dGhpcy5maXJlQWZ0ZXJSZW5kZXJpbmcoKTt9O0EucHJvdG90eXBlLnNldFRpdGxlPWZ1bmN0aW9uKHQpe3RoaXMuc2V0UHJvcGVydHkoInRpdGxlIix0LHRydWUpO3RoaXMuJCgpLmZpbmQoIi5zYXBVc2hlbGxBbmNob3JJdGVtSW5uZXIiKS50ZXh0KHQpO307QS5wcm90b3R5cGUuc2V0R3JvdXBJZD1mdW5jdGlvbih2KXt0aGlzLnNldFByb3BlcnR5KCJncm91cElkIix2LHRydWUpO307QS5wcm90b3R5cGUuc2V0SXNHcm91cFJlbmRlcmVkPWZ1bmN0aW9uKHIpe3I9ISFyO3RoaXMuc2V0UHJvcGVydHkoImlzR3JvdXBSZW5kZXJlZCIscix0cnVlKTtpZihyKXt0aGlzLnJlbW92ZVN0eWxlQ2xhc3MoInNhcFVzaGVsbEFuY2hvckl0ZW1Ob3RSZW5kZXJlZCIpO31lbHNle3RoaXMuYWRkU3R5bGVDbGFzcygic2FwVXNoZWxsQW5jaG9ySXRlbU5vdFJlbmRlcmVkIik7fX07QS5wcm90b3R5cGUuc2V0SXNHcm91cFZpc2libGU9ZnVuY3Rpb24odil7dj0hIXY7dGhpcy5zZXRQcm9wZXJ0eSgiaXNHcm91cFZpc2libGUiLHYsdHJ1ZSk7dGhpcy50b2dnbGVTdHlsZUNsYXNzKCJzYXBVc2hlbGxTaGVsbEhpZGRlbiIsIXYpO307QS5wcm90b3R5cGUuc2V0SXNHcm91cERpc2FibGVkPWZ1bmN0aW9uKHYpe3Y9ISF2O3RoaXMuc2V0UHJvcGVydHkoImlzR3JvdXBEaXNhYmxlZCIsdix0cnVlKTt0aGlzLiQoKS5maW5kKCIuc2FwVXNoZWxsQW5jaG9ySXRlbUlubmVyIikudG9nZ2xlQ2xhc3MoInNhcFVzaGVsbEFuY2hvckl0ZW1EaXNhYmxlZCIsdik7fTtBLnByb3RvdHlwZS5vbmNsaWNrPWZ1bmN0aW9uKCl7dGhpcy5maXJlUHJlc3MoKTt9O3JldHVybiBBO30pOwpzYXAudWkucHJlZGVmaW5lKCdzYXAvdXNoZWxsL3VpL2xhdW5jaHBhZC9BbmNob3JJdGVtUmVuZGVyZXInLGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO3ZhciBBPXt9O0EucmVuZGVyPWZ1bmN0aW9uKHIsYSl7dmFyIGQ9YS5nZXRNb2RlbCgpLGk9YS5nZXRCaW5kaW5nQ29udGV4dCgpLmdldFBhdGgoKSxJPWQuZ2V0UHJvcGVydHkoaSkscz1JLmdyb3VwSWQsUz1hLmdldFNlbGVjdGVkKCk7ci53cml0ZSgiPGxpIik7ci53cml0ZUNvbnRyb2xEYXRhKGEpO3Iud3JpdGVBdHRyaWJ1dGUoIm1vZGVsR3JvdXBJZCIscyk7ci53cml0ZUFjY2Vzc2liaWxpdHlTdGF0ZShhLHtyb2xlOiJvcHRpb24iLHNlbGVjdGVkOlN9KTtyLmFkZENsYXNzKCJzYXBVc2hlbGxBbmNob3JJdGVtIik7aWYoYS5nZXRXcml0ZUhlbHBJZCgpKXt2YXIgYz1hLmdldERlZmF1bHRHcm91cCgpPyJoZWxwLWlkLWhvbWVBbmNob3JOYXZpZ2F0aW9uQmFySXRlbSI6ImhlbHAtaWQtYW5jaG9yTmF2aWdhdGlvbkJhckl0ZW0iO3IuYWRkQ2xhc3MoYyk7ci53cml0ZUF0dHJpYnV0ZSgiZGF0YS1oZWxwLWlkIixhLmdldEdyb3VwSWQoKSk7fWlmKFMpe3Iud3JpdGVBdHRyaWJ1dGUoInRhYmluZGV4IiwiMCIpO3IuYWRkQ2xhc3MoInNhcFVzaGVsbEFuY2hvckl0ZW1TZWxlY3RlZCIpO31pZighYS5nZXRWaXNpYmxlKCkpe3IuYWRkQ2xhc3MoInNhcFVzaGVsbFNoZWxsSGlkZGVuIik7fXIud3JpdGVDbGFzc2VzKCk7ci53cml0ZSgiPjxkaXYgY2xhc3M9XCJzYXBVc2hlbGxBbmNob3JJdGVtSW5uZXJcIj4iKTtyLndyaXRlRXNjYXBlZChhLmdldFRpdGxlKCkpO3Iud3JpdGUoIjwvZGl2PjwvbGk+Iik7fTtyZXR1cm4gQTt9LHRydWUpOwpzYXAudWkucHJlZGVmaW5lKCdzYXAvdXNoZWxsL3VpL2xhdW5jaHBhZC9BbmNob3JOYXZpZ2F0aW9uQmFyJyxbInNhcC9tL0JhciIsInNhcC91c2hlbGwvb3ZlcnJpZGUiLCJzYXAvdWkvRGV2aWNlIiwic2FwL3VpL3RoaXJkcGFydHkvanF1ZXJ5Iiwic2FwL2Jhc2UvdXRpbC9pc0VtcHR5T2JqZWN0Iiwic2FwL20vQnV0dG9uIiwic2FwL3VzaGVsbC9yZXNvdXJjZXMiLCJzYXAvdWkvbW9kZWwvRmlsdGVyIiwic2FwL3VzaGVsbC91aS9sYXVuY2hwYWQvR3JvdXBMaXN0SXRlbSIsInNhcC9tL0xpc3QiLCJzYXAvbS9saWJyYXJ5Iiwic2FwL3VzaGVsbC9saWJyYXJ5IiwiLi9BbmNob3JOYXZpZ2F0aW9uQmFyUmVuZGVyZXIiXSxmdW5jdGlvbihCLG8sRCxxLGEsYixyLEYsRyxMLG0peyJ1c2Ugc3RyaWN0Ijt2YXIgYz1tLkxpc3RNb2RlO3ZhciBBPUIuZXh0ZW5kKCJzYXAudXNoZWxsLnVpLmxhdW5jaHBhZC5BbmNob3JOYXZpZ2F0aW9uQmFyIix7bWV0YWRhdGE6e2xpYnJhcnk6InNhcC51c2hlbGwiLHByb3BlcnRpZXM6e2FjY2Vzc2liaWxpdHlMYWJlbDp7dHlwZToic3RyaW5nIixkZWZhdWx0VmFsdWU6bnVsbH0sc2VsZWN0ZWRJdGVtSW5kZXg6e3R5cGU6ImludCIsZ3JvdXA6Ik1pc2MiLGRlZmF1bHRWYWx1ZTowfSxvdmVyZmxvd0VuYWJsZWQ6e3R5cGU6ImJvb2xlYW4iLGdyb3VwOiJNaXNjIixkZWZhdWx0VmFsdWU6dHJ1ZX19LGFnZ3JlZ2F0aW9uczp7Z3JvdXBzOnt0eXBlOiJzYXAudXNoZWxsLnVpLmxhdW5jaHBhZC5BbmNob3JJdGVtIixtdWx0aXBsZTp0cnVlLHNpbmd1bGFyTmFtZToiZ3JvdXAifX0sZXZlbnRzOnthZnRlclJlbmRlcmluZzp7fSxpdGVtUHJlc3M6e319fX0pO3ZhciB1PW8udXBkYXRlQWdncmVnYXRlc0ZhY3RvcnkoImdyb3VwcyIpO0EucHJvdG90eXBlLnVwZGF0ZUdyb3Vwcz1mdW5jdGlvbigpe3UuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKHRoaXMuZ2V0RG9tUmVmKCkmJnRoaXMuZ2V0R3JvdXBzKCkubGVuZ3RoKXt0aGlzLnJlQXJyYW5nZU5hdmlnYXRpb25CYXJFbGVtZW50cygpO319O0EucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtELnJlc2l6ZS5hdHRhY2hIYW5kbGVyKHRoaXMucmVBcnJhbmdlTmF2aWdhdGlvbkJhckVsZW1lbnRzLHRoaXMpO3RoaXMuYkdyb3VwV2FzUHJlc3NlZD1mYWxzZTt0aGlzLmJJc1J0bD1zYXAudWkuZ2V0Q29yZSgpLmdldENvbmZpZ3VyYXRpb24oKS5nZXRSVEwoKTt0aGlzLl9iSXNSZW5kZXJlZENvbXBsZXRlbHk9ZmFsc2U7fTtBLnByb3RvdHlwZS5oYW5kbGVFeGl0PWZ1bmN0aW9uKCl7aWYodGhpcy5vUG9wb3Zlcil7dGhpcy5vUG9wb3Zlci5kZXN0cm95KCk7fWlmKHRoaXMub092ZXJmbG93QnV0dG9uKXt0aGlzLm9PdmVyZmxvd0J1dHRvbi5kZXN0cm95KCk7fX07QS5wcm90b3R5cGUudXBkYXRlVmlzaWJpbGl0eT1mdW5jdGlvbigpe3ZhciBnPXRoaXMuZ2V0R3JvdXBzKCksdj0wLGk9MDt3aGlsZShpPGcubGVuZ3RoJiZ2PD0xKXtpZihnW2ldLmdldFByb3BlcnR5KCJ2aXNpYmxlIikpe3YrKzt9aSsrO31pZih2PT09MSl7dGhpcy4kKCkuYWRkQ2xhc3MoInNhcFVzaGVsbEFuY2hvck5hdmlnYXRpb25CYXJJbnZpc2libGUiKTt0aGlzLiQoKS5wYXJlbnQoKS5uZXh0KCkuYWRkQ2xhc3MoInNhcFVzaGVsbFNlY3Rpb25Ob1RvcCIpO31lbHNle3RoaXMuJCgpLnJlbW92ZUNsYXNzKCJzYXBVc2hlbGxBbmNob3JOYXZpZ2F0aW9uQmFySW52aXNpYmxlIik7dGhpcy4kKCkucGFyZW50KCkubmV4dCgpLnJlbW92ZUNsYXNzKCJzYXBVc2hlbGxTZWN0aW9uTm9Ub3AiKTt9fTtBLnByb3RvdHlwZS5vbkFmdGVyUmVuZGVyaW5nPWZ1bmN0aW9uKCl7dmFyIHM7aWYodGhpcy5fYklzUmVuZGVyZWRDb21wbGV0ZWx5KXt0aGlzLnJlQXJyYW5nZU5hdmlnYXRpb25CYXJFbGVtZW50cygpO3M9dGhpcy5nZXRTZWxlY3RlZEl0ZW1JbmRleCgpfHwwO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLmFkanVzdEl0ZW1TZWxlY3Rpb24ocyk7fS5iaW5kKHRoaXMpLDEwMCk7aWYodGhpcy5iSXNSdGwpe3EoIi5zYXBVc2hlbGxBbmNob3JOYXZpZ2F0aW9uQmFySXRlbXNTY3JvbGwiKS5hZGRDbGFzcygic2FwVXNoZWxsUnRsIik7fXEoIi5zYXBVc2hlbGxBbmNob3JOYXZpZ2F0aW9uQmFySXRlbXNTY3JvbGwiKS5zY3JvbGwodGhpcy5zZXROYXZpZ2F0aW9uQmFySXRlbXNWaXNpYmlsaXR5LmJpbmQodGhpcykpO3RoaXMudXBkYXRlVmlzaWJpbGl0eSgpO319O0EucHJvdG90eXBlLm9wZW5PdmVyZmxvd1BvcHVwPWZ1bmN0aW9uKCl7dmFyIGQ9cSgiLnNhcFVzaGVsbEFuY2hvckl0ZW1PdmVyRmxvdyIpLmhhc0NsYXNzKCJzYXBVc2hlbGxBbmNob3JJdGVtT3ZlckZsb3dPcGVuIik7aWYodGhpcy5vT3ZlcmZsb3dCdXR0b24mJiFkKXt0aGlzLm9PdmVyZmxvd0J1dHRvbi5maXJlUHJlc3MoKTt9fTtBLnByb3RvdHlwZS5jbG9zZU92ZXJmbG93UG9wdXA9ZnVuY3Rpb24oKXtpZih0aGlzLm9Qb3BvdmVyKXt0aGlzLm9Qb3BvdmVyLmNsb3NlKCk7fX07QS5wcm90b3R5cGUucmVBcnJhbmdlTmF2aWdhdGlvbkJhckVsZW1lbnRzPWZ1bmN0aW9uKCl7dGhpcy5hbmNob3JJdGVtcz10aGlzLmdldFZpc2libGVHcm91cHMoKTt2YXIgcz10aGlzLmdldFNlbGVjdGVkSXRlbUluZGV4KCl8fDA7aWYodGhpcy5hbmNob3JJdGVtcy5sZW5ndGgpe3RoaXMuYWRqdXN0SXRlbVNlbGVjdGlvbihzKTt9aWYoRC5zeXN0ZW0ucGhvbmUmJnRoaXMuYW5jaG9ySXRlbXMubGVuZ3RoKXt0aGlzLmFuY2hvckl0ZW1zLmZvckVhY2goZnVuY3Rpb24oaSl7aS5zZXRJc0dyb3VwVmlzaWJsZShmYWxzZSk7fSk7dGhpcy5hbmNob3JJdGVtc1t0aGlzLmdldFNlbGVjdGVkSXRlbUluZGV4KCldLnNldElzR3JvdXBWaXNpYmxlKHRydWUpO31lbHNle3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLnNldE5hdmlnYXRpb25CYXJJdGVtc1Zpc2liaWxpdHkoKTt9LmJpbmQodGhpcyksMjAwKTt9dGhpcy5fYWRqdXN0QW5jaG9yQmFyQXJpYVByb3BlcnRpZXModGhpcy5hbmNob3JJdGVtcyk7fTtBLnByb3RvdHlwZS5fc2Nyb2xsVG9Hcm91cEJ5R3JvdXBJbmRleD1mdW5jdGlvbihnLHMpe3ZhciBTPUQuc3lzdGVtLnRhYmxldD8iLnNhcFVzaGVsbEFuY2hvck5hdmlnYXRpb25CYXJJdGVtc1Njcm9sbCI6Ii5zYXBVc2hlbGxBbmNob3JOYXZpZ2F0aW9uQmFySXRlbXMiO3ZhciBDPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKFMpO3ZhciBkPXRoaXMuYW5jaG9ySXRlbXNbZ10uZ2V0RG9tUmVmKCk7aWYoQyYmZCl7dmFyIGU9Qy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTt2YXIgaT1kLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3ZhciB4O2lmKGkubGVmdDxlLmxlZnQpe3g9aS5sZWZ0LWUubGVmdC0xNjt9ZWxzZSBpZihpLnJpZ2h0PmUucmlnaHQpe3g9aS5yaWdodC1lLnJpZ2h0KzE2O31pZih4KXtDLnNjcm9sbExlZnQrPXg7fXRoaXMuc2V0TmF2aWdhdGlvbkJhckl0ZW1zVmlzaWJpbGl0eSgpO319O0EucHJvdG90eXBlLnNldE5hdmlnYXRpb25CYXJJdGVtc1Zpc2liaWxpdHk9ZnVuY3Rpb24oKXtpZighRC5zeXN0ZW0ucGhvbmUpe2lmKHRoaXMuYW5jaG9ySXRlbXMubGVuZ3RoJiYoIXRoaXMuaXNNb3N0UmlnaHRBbmNob3JJdGVtVmlzaWJsZSgpfHwhdGhpcy5pc01vc3RMZWZ0QW5jaG9ySXRlbVZpc2libGUoKSkpe3RoaXMub092ZXJmbG93QnV0dG9uLnJlbW92ZVN0eWxlQ2xhc3MoInNhcFVzaGVsbFNoZWxsSGlkZGVuIik7cSgiLnNhcFVzaGVsbEFuY2hvckl0ZW1PdmVyRmxvdyIpLnJlbW92ZUNsYXNzKCJzYXBVc2hlbGxTaGVsbEhpZGRlbiIpO31lbHNlIGlmKHRoaXMub092ZXJmbG93QnV0dG9uKXt0aGlzLm9PdmVyZmxvd0J1dHRvbi5hZGRTdHlsZUNsYXNzKCJzYXBVc2hlbGxTaGVsbEhpZGRlbiIpO3EoIi5zYXBVc2hlbGxBbmNob3JJdGVtT3ZlckZsb3ciKS5hZGRDbGFzcygic2FwVXNoZWxsU2hlbGxIaWRkZW4iKTt9aWYodGhpcy5iSXNSdGwpe2lmKHRoaXMuYW5jaG9ySXRlbXMubGVuZ3RoJiYhdGhpcy5pc01vc3RMZWZ0QW5jaG9ySXRlbVZpc2libGUoKSl7dGhpcy5vT3ZlcmZsb3dSaWdodEJ1dHRvbi5yZW1vdmVTdHlsZUNsYXNzKCJzYXBVc2hlbGxTaGVsbEhpZGRlbiIpO31lbHNlIGlmKHRoaXMub092ZXJmbG93UmlnaHRCdXR0b24pe3RoaXMub092ZXJmbG93UmlnaHRCdXR0b24uYWRkU3R5bGVDbGFzcygic2FwVXNoZWxsU2hlbGxIaWRkZW4iKTt9aWYodGhpcy5hbmNob3JJdGVtcy5sZW5ndGgmJiF0aGlzLmlzTW9zdFJpZ2h0QW5jaG9ySXRlbVZpc2libGUoKSl7dGhpcy5vT3ZlcmZsb3dMZWZ0QnV0dG9uLnJlbW92ZVN0eWxlQ2xhc3MoInNhcFVzaGVsbFNoZWxsSGlkZGVuIik7fWVsc2UgaWYodGhpcy5vT3ZlcmZsb3dMZWZ0QnV0dG9uKXt0aGlzLm9PdmVyZmxvd0xlZnRCdXR0b24uYWRkU3R5bGVDbGFzcygic2FwVXNoZWxsU2hlbGxIaWRkZW4iKTt9fWVsc2V7aWYodGhpcy5hbmNob3JJdGVtcy5sZW5ndGgmJiF0aGlzLmlzTW9zdExlZnRBbmNob3JJdGVtVmlzaWJsZSgpKXt0aGlzLm9PdmVyZmxvd0xlZnRCdXR0b24ucmVtb3ZlU3R5bGVDbGFzcygic2FwVXNoZWxsU2hlbGxIaWRkZW4iKTt9ZWxzZSBpZih0aGlzLm9PdmVyZmxvd0xlZnRCdXR0b24pe3RoaXMub092ZXJmbG93TGVmdEJ1dHRvbi5hZGRTdHlsZUNsYXNzKCJzYXBVc2hlbGxTaGVsbEhpZGRlbiIpO31pZih0aGlzLmFuY2hvckl0ZW1zLmxlbmd0aCYmIXRoaXMuaXNNb3N0UmlnaHRBbmNob3JJdGVtVmlzaWJsZSgpKXt0aGlzLm9PdmVyZmxvd1JpZ2h0QnV0dG9uLnJlbW92ZVN0eWxlQ2xhc3MoInNhcFVzaGVsbFNoZWxsSGlkZGVuIik7fWVsc2UgaWYodGhpcy5vT3ZlcmZsb3dSaWdodEJ1dHRvbil7dGhpcy5vT3ZlcmZsb3dSaWdodEJ1dHRvbi5hZGRTdHlsZUNsYXNzKCJzYXBVc2hlbGxTaGVsbEhpZGRlbiIpO319cSgiLnNhcFVzaGVsbEFuY2hvckl0ZW0uZmlyc3RJdGVtIikucmVtb3ZlQ2xhc3MoImZpcnN0SXRlbSIpO3ZhciBqPXEoIi5zYXBVc2hlbGxBbmNob3JJdGVtIikuZmlsdGVyKCI6dmlzaWJsZSIpLmVxKDApO2ouYWRkQ2xhc3MoImZpcnN0SXRlbSIpO31lbHNlIGlmKHRoaXMuYW5jaG9ySXRlbXMubGVuZ3RoKXt0aGlzLm9PdmVyZmxvd0J1dHRvbi5yZW1vdmVTdHlsZUNsYXNzKCJzYXBVc2hlbGxTaGVsbEhpZGRlbiIpO3ZhciBzPXRoaXMuZ2V0U2VsZWN0ZWRJdGVtSW5kZXgoKXx8MDtpZih0aGlzLm9Qb3BvdmVyKXt0aGlzLm9Qb3BvdmVyLnNldFRpdGxlKHRoaXMuYW5jaG9ySXRlbXNbc10uZ2V0VGl0bGUoKSk7fX19O0EucHJvdG90eXBlLmFkanVzdEl0ZW1TZWxlY3Rpb249ZnVuY3Rpb24ocyl7c2V0VGltZW91dChmdW5jdGlvbigpe2lmKHRoaXMuYW5jaG9ySXRlbXMmJnRoaXMuYW5jaG9ySXRlbXMubGVuZ3RoKXt0aGlzLmFuY2hvckl0ZW1zLmZvckVhY2goZnVuY3Rpb24oaSl7aS5zZXRTZWxlY3RlZChmYWxzZSk7fSk7dGhpcy5hbmNob3JJdGVtc1tzXS5zZXRTZWxlY3RlZCh0cnVlKTt0aGlzLl9zY3JvbGxUb0dyb3VwQnlHcm91cEluZGV4KHMpO319LmJpbmQodGhpcyksMjAwKTt9O0EucHJvdG90eXBlLmlzTW9zdFJpZ2h0QW5jaG9ySXRlbVZpc2libGU9ZnVuY3Rpb24oKXt2YXIgaj1xKCIuc2FwVXNoZWxsQW5jaG9yTmF2aWdhdGlvbkJhciIpLG49IWEoaik/ai53aWR0aCgpOjAsZD0hYShqKSYmai5vZmZzZXQoKT9qLm9mZnNldCgpLmxlZnQ6MCxsPXRoaXMuYklzUnRsP3RoaXMuYW5jaG9ySXRlbXNbMF0uZ2V0RG9tUmVmKCk6dGhpcy5hbmNob3JJdGVtc1t0aGlzLmFuY2hvckl0ZW1zLmxlbmd0aC0xXS5nZXREb21SZWYoKSxlPSFhKGwpP3EobCkud2lkdGgoKTowLGY7aWYoZTwwKXtlPTgwO31mPWwmJnEobCkub2Zmc2V0KCk/cShsKS5vZmZzZXQoKS5sZWZ0OjA7aWYoZitlPD1kK24pe3JldHVybiB0cnVlO31yZXR1cm4gZmFsc2U7fTtBLnByb3RvdHlwZS5pc01vc3RMZWZ0QW5jaG9ySXRlbVZpc2libGU9ZnVuY3Rpb24oKXt2YXIgaj1xKCIuc2FwVXNoZWxsQW5jaG9yTmF2aWdhdGlvbkJhciIpLG49IWEoaikmJmoub2Zmc2V0KCkmJmoub2Zmc2V0KCkubGVmdHx8MCxmPXRoaXMuYklzUnRsP3RoaXMuYW5jaG9ySXRlbXNbdGhpcy5hbmNob3JJdGVtcy5sZW5ndGgtMV0uZ2V0RG9tUmVmKCk6dGhpcy5hbmNob3JJdGVtc1swXS5nZXREb21SZWYoKSxkPSFhKGYpJiZxKGYpLm9mZnNldCgpP3EoZikub2Zmc2V0KCkubGVmdDowO2lmKGQ+PW4pe3JldHVybiB0cnVlO31yZXR1cm4gZmFsc2U7fTtBLnByb3RvdHlwZS5zZXRTZWxlY3RlZEl0ZW1JbmRleD1mdW5jdGlvbihzKXtpZihzIT09dW5kZWZpbmVkKXt0aGlzLnNldFByb3BlcnR5KCJzZWxlY3RlZEl0ZW1JbmRleCIscyx0cnVlKTt9fTtBLnByb3RvdHlwZS5zZXRPdmVyZmxvd0VuYWJsZWQ9ZnVuY3Rpb24oZSl7dGhpcy5zZXRQcm9wZXJ0eSgib3ZlcmZsb3dFbmFibGVkIixlKTtpZih0aGlzLm9PdmVyZmxvd0J1dHRvbil7dGhpcy5vT3ZlcmZsb3dCdXR0b24uc2V0RW5hYmxlZChlKTt9fTtBLnByb3RvdHlwZS5fZ2V0T3ZlcmZsb3dMZWZ0QXJyb3dCdXR0b249ZnVuY3Rpb24oKXt0aGlzLm9PdmVyZmxvd0xlZnRCdXR0b249bmV3IGIoe2ljb246InNhcC1pY29uOi8vc2xpbS1hcnJvdy1sZWZ0Iix0b29sdGlwOnIuaTE4bi5nZXRUZXh0KCJzY3JvbGxfYmVnaW5uaW5nIikscHJlc3M6ZnVuY3Rpb24oKXt0aGlzLl9zY3JvbGxUb0dyb3VwQnlHcm91cEluZGV4KDApO30uYmluZCh0aGlzKX0pLmFkZFN0eWxlQ2xhc3MoInNhcFVzaGVsbFNoZWxsSGlkZGVuIik7cmV0dXJuIHRoaXMub092ZXJmbG93TGVmdEJ1dHRvbjt9O0EucHJvdG90eXBlLl9nZXRPdmVyZmxvd1JpZ2h0QXJyb3dCdXR0b249ZnVuY3Rpb24oKXt0aGlzLm9PdmVyZmxvd1JpZ2h0QnV0dG9uPW5ldyBiKHtpY29uOiJzYXAtaWNvbjovL3NsaW0tYXJyb3ctcmlnaHQiLHRvb2x0aXA6ci5pMThuLmdldFRleHQoInNjcm9sbF9lbmQiKSxwcmVzczpmdW5jdGlvbigpe3RoaXMuX3Njcm9sbFRvR3JvdXBCeUdyb3VwSW5kZXgodGhpcy5hbmNob3JJdGVtcy5sZW5ndGgtMSk7fS5iaW5kKHRoaXMpfSkuYWRkU3R5bGVDbGFzcygic2FwVXNoZWxsU2hlbGxIaWRkZW4iKTtyZXR1cm4gdGhpcy5vT3ZlcmZsb3dSaWdodEJ1dHRvbjt9O0EucHJvdG90eXBlLl9nZXRPdmVyZmxvd0J1dHRvbj1mdW5jdGlvbigpe2lmKHRoaXMub092ZXJmbG93QnV0dG9uKXtyZXR1cm4gdGhpcy5vT3ZlcmZsb3dCdXR0b247fXRoaXMub092ZXJmbG93QnV0dG9uPW5ldyBiKCJzYXBVc2hlbGxBbmNob3JCYXJPdmVyZmxvd0J1dHRvbiIse2ljb246InNhcC1pY29uOi8vc2xpbS1hcnJvdy1kb3duIix0b29sdGlwOnIuaTE4bi5nZXRUZXh0KCJtb3JlX2dyb3VwcyIpLGVuYWJsZWQ6dGhpcy5nZXRPdmVyZmxvd0VuYWJsZWQoKSxwcmVzczpmdW5jdGlvbigpe3NhcC51aS5yZXF1aXJlKFsic2FwL20vUG9wb3ZlciJdLGZ1bmN0aW9uKFApe2lmKCF0aGlzLm9Qb3BvdmVyKXt0aGlzLl9pbml0UG9wb3ZlcihQKTt9aWYodGhpcy5vUG9wb3Zlci5pc09wZW4oKSl7dGhpcy5vUG9wb3Zlci5jbG9zZSgpO31lbHNle3ZhciBsPXRoaXMub1BvcG92ZXIuZ2V0Q29udGVudCgpWzBdO3RoaXMuYW5jaG9ySXRlbXM9dGhpcy5nZXRWaXNpYmxlR3JvdXBzKCk7bC5zZXRNb2RlbCh0aGlzLmdldE1vZGVsKCkpO3ZhciBkPXRoaXMuZ2V0TW9kZWwoKS5nZXRQcm9wZXJ0eSgiL3RpbGVBY3Rpb25Nb2RlQWN0aXZlIik7dmFyIHY9bmV3IEYoIiIsIkVRIiwiYSIpO3YuZm5UZXN0PWZ1bmN0aW9uKGkpe2lmKCFpLnZpc2liaWxpdHlNb2Rlc1tkPzE6MF0pe3JldHVybiBmYWxzZTt9cmV0dXJuIGkuaXNHcm91cFZpc2libGV8fGQ7fTtsLmJpbmRJdGVtcyh7cGF0aDoiL2dyb3VwcyIsdGVtcGxhdGU6bmV3IEcoe3RpdGxlOiJ7dGl0bGV9Iixncm91cElkOiJ7Z3JvdXBJZH0iLGluZGV4OiJ7aW5kZXh9In0pLGZpbHRlcnM6W3ZdfSk7dmFyIHM9cSgiLnNhcFVzaGVsbEFuY2hvckl0ZW1TZWxlY3RlZCIpLmF0dHIoImlkIik7dmFyIFM9c2FwLnVpLmdldENvcmUoKS5ieUlkKHMpO3EuZWFjaChsLmdldEl0ZW1zKCksZnVuY3Rpb24oaSxlKXtpZihTLm1Qcm9wZXJ0aWVzLmdyb3VwSWQ9PT1lLm1Qcm9wZXJ0aWVzLmdyb3VwSWQpe2UuYWRkU3R5bGVDbGFzcygic2FwVXNoZWxsQW5jaG9yUG9wb3Zlckl0ZW1TZWxlY3RlZCIpO31lbHNle2UuYWRkU3R5bGVDbGFzcygic2FwVXNoZWxsQW5jaG9yUG9wb3Zlckl0ZW1Ob25TZWxlY3RlZCIpO319KTtxKCIuc2FwVXNoZWxsQW5jaG9ySXRlbU92ZXJGbG93IikudG9nZ2xlQ2xhc3MoInNhcFVzaGVsbEFuY2hvckl0ZW1PdmVyRmxvd1ByZXNzZWQiLHRydWUpO3RoaXMub1BvcG92ZXIub3BlbkJ5KHRoaXMub092ZXJmbG93QnV0dG9uKTt9fS5iaW5kKHRoaXMpKTt9LmJpbmQodGhpcyl9KS5hZGRTdHlsZUNsYXNzKCJzYXBVc2hlbGxTaGVsbEhpZGRlbiIpLmFkZFN0eWxlQ2xhc3MoInNhcENvbnRyYXN0UGx1cyIpO3JldHVybiB0aGlzLm9PdmVyZmxvd0J1dHRvbjt9O0EucHJvdG90eXBlLl9pbml0UG9wb3Zlcj1mdW5jdGlvbihQKXt2YXIgdD10aGlzO3ZhciBsPW5ldyBMKHttb2RlOmMuU2luZ2xlU2VsZWN0TWFzdGVyLHJlbWVtYmVyU2VsZWN0aW9uczpmYWxzZSxzZWxlY3Rpb25DaGFuZ2U6ZnVuY3Rpb24oZSl7dC5maXJlSXRlbVByZXNzKHtncm91cDplLmdldFBhcmFtZXRlcigibGlzdEl0ZW0iKX0pO3Qub1BvcG92ZXIuY2xvc2UoKTt9fSk7dGhpcy5iT3ZlckZsb3dCdG5DbGljaz1mYWxzZTt0aGlzLm9Qb3BvdmVyPW5ldyBQKCJzYXBVc2hlbGxBbmNob3JCYXJPdmVyZmxvd1BvcG92ZXIiLHtzaG93QXJyb3c6ZmFsc2Usc2hvd0hlYWRlcjpmYWxzZSxwbGFjZW1lbnQ6IkxlZnQiLGNvbnRlbnQ6W2xdLGhvcml6b250YWxTY3JvbGxpbmc6ZmFsc2UsYmVmb3JlT3BlbjpmdW5jdGlvbigpe3EoIi5zYXBVc2hlbGxBbmNob3JJdGVtT3ZlckZsb3ciKS5hZGRDbGFzcygic2FwVXNoZWxsQW5jaG9ySXRlbU92ZXJGbG93T3BlbiIpO3ZhciBqPXEoIi5zYXBVc2hlbGxBbmNob3JJdGVtT3ZlckZsb3ciKSxpPXNhcC51aS5nZXRDb3JlKCkuZ2V0Q29uZmlndXJhdGlvbigpLmdldFJUTCgpLGQ9aT8tMSpqLm91dGVyV2lkdGgoKTpqLm91dGVyV2lkdGgoKTt0aGlzLnNldE9mZnNldFgoZCk7fSxiZWZvcmVDbG9zZTpmdW5jdGlvbigpe2lmKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuaWQ9PT10aGlzLm9PdmVyZmxvd0J1dHRvbi5nZXRJZCgpKXt0aGlzLmJPdmVyRmxvd0J0bkNsaWNrPXRydWU7fX0uYmluZCh0aGlzKSxhZnRlckNsb3NlOmZ1bmN0aW9uKCl7cSgiLnNhcFVzaGVsbEFuY2hvckl0ZW1PdmVyRmxvdyIpLnJlbW92ZUNsYXNzKCJzYXBVc2hlbGxBbmNob3JJdGVtT3ZlckZsb3dPcGVuIik7cSgiLnNhcFVzaGVsbEFuY2hvckl0ZW1PdmVyRmxvdyIpLnRvZ2dsZUNsYXNzKCJzYXBVc2hlbGxBbmNob3JJdGVtT3ZlckZsb3dQcmVzc2VkIixmYWxzZSk7fX0pLmFkZFN0eWxlQ2xhc3MoInNhcFVzaGVsbEFuY2hvckl0ZW1zUG9wb3ZlciIpLmFkZFN0eWxlQ2xhc3MoInNhcENvbnRyYXN0UGx1cyIpO307QS5wcm90b3R5cGUuZ2V0VmlzaWJsZUdyb3Vwcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEdyb3VwcygpLmZpbHRlcihmdW5jdGlvbihnKXtyZXR1cm4gZy5nZXRWaXNpYmxlKCk7fSk7fTtBLnByb3RvdHlwZS5fYWRqdXN0QW5jaG9yQmFyQXJpYVByb3BlcnRpZXM9ZnVuY3Rpb24oZyl7dmFyIGk7Zm9yKGk9MDtpPGcubGVuZ3RoO2krKyl7dmFyIGo9cShnW2ldLmdldERvbVJlZigpKTtqLmF0dHIoImFyaWEtcG9zaW5zZXQiLGkrMSk7ai5hdHRyKCJhcmlhLXNldHNpemUiLGcubGVuZ3RoKTt9fTtBLnByb3RvdHlwZS5fc2V0UmVuZGVyZWRDb21wbGV0ZWx5PWZ1bmN0aW9uKFIpe3RoaXMuX2JJc1JlbmRlcmVkQ29tcGxldGVseT1SO307QS5wcm90b3R5cGUuaGFuZGxlQW5jaG9ySXRlbVByZXNzPWZ1bmN0aW9uKGUpe3RoaXMuYkdyb3VwV2FzUHJlc3NlZD10cnVlO3RoaXMuZmlyZUl0ZW1QcmVzcyh7Z3JvdXA6ZS5nZXRTb3VyY2UoKSxtYW51YWxQcmVzczp0cnVlfSk7fTtBLnByb3RvdHlwZS5leGl0PWZ1bmN0aW9uKCl7aWYodGhpcy5vT3ZlcmZsb3dMZWZ0QnV0dG9uKXt0aGlzLm9PdmVyZmxvd0xlZnRCdXR0b24uZGVzdHJveSgpO31pZih0aGlzLm9PdmVyZmxvd1JpZ2h0QnV0dG9uKXt0aGlzLm9PdmVyZmxvd1JpZ2h0QnV0dG9uLmRlc3Ryb3koKTt9aWYodGhpcy5vT3ZlcmZsb3dCdXR0b24pe3RoaXMub092ZXJmbG93QnV0dG9uLmRlc3Ryb3koKTt9aWYodGhpcy5vUG9wb3Zlcil7dGhpcy5vUG9wb3Zlci5kZXN0cm95KCk7fX07cmV0dXJuIEE7fSk7CnNhcC51aS5wcmVkZWZpbmUoJ3NhcC91c2hlbGwvdWkvbGF1bmNocGFkL0FuY2hvck5hdmlnYXRpb25CYXJSZW5kZXJlcicsWyJzYXAvdWkvdGhpcmRwYXJ0eS9qcXVlcnkiLCJzYXAvdXNoZWxsL3Jlc291cmNlcyJdLGZ1bmN0aW9uKHEscil7InVzZSBzdHJpY3QiO3ZhciBBPXt9O0EucmVuZGVyPWZ1bmN0aW9uKFIsYyl7Ui53cml0ZSgiPGRpdiIpO1IuYWRkQ2xhc3MoInNhcFVzaGVsbEFuY2hvck5hdmlnYXRpb25CYXIiKTtSLndyaXRlQ2xhc3NlcygpO1Iud3JpdGVDb250cm9sRGF0YShjKTtSLndyaXRlKCI+Iik7Ui53cml0ZSgiPGRpdiIpO1IuYWRkQ2xhc3MoInNhcFVzaGVsbEFuY2hvck5hdmlnYXRpb25CYXJJbm5lciIpO1Iud3JpdGVDbGFzc2VzKCk7Ui53cml0ZSgiPiIpO2lmKGMuZ2V0R3JvdXBzKCkubGVuZ3RoPjApe2MuX3NldFJlbmRlcmVkQ29tcGxldGVseSh0cnVlKTtSLndyaXRlKCI8ZGl2Iik7Ui5hZGRDbGFzcygic2FwVXNoZWxsQW5jaG9yTGVmdE92ZXJGbG93QnV0dG9uIik7Ui53cml0ZUNsYXNzZXMoKTtSLndyaXRlKCI+Iik7Ui5yZW5kZXJDb250cm9sKGMuX2dldE92ZXJmbG93TGVmdEFycm93QnV0dG9uKCkpO1Iud3JpdGUoIjwvZGl2PiIpO1Iud3JpdGUoIjxkaXYiKTtSLmFkZENsYXNzKCJzYXBVc2hlbGxBbmNob3JOYXZpZ2F0aW9uQmFySXRlbXMiKTtSLndyaXRlQ2xhc3NlcygpO1Iud3JpdGVBY2Nlc3NpYmlsaXR5U3RhdGUoYyx7cm9sZToibGlzdCJ9KTtSLndyaXRlKCI+Iik7Ui53cml0ZSgiPHVsIik7Ui5hZGRDbGFzcygic2FwVXNoZWxsQW5jaG9yTmF2aWdhdGlvbkJhckl0ZW1zU2Nyb2xsIik7Ui53cml0ZUNsYXNzZXMoKTtSLndyaXRlQWNjZXNzaWJpbGl0eVN0YXRlKGMse2xhYmVsOnIuaTE4bi5nZXRUZXh0KCJBbmNob3JOYXZpZ2F0aW9uQmFyX0FyaWFMYWJlbCIpLHJvbGU6Imxpc3Rib3gifSk7Ui53cml0ZSgiPiIpO3RoaXMucmVuZGVyQW5jaG9yTmF2aWdhdGlvbkl0ZW1zKFIsYyk7Ui53cml0ZSgiPC91bD4iKTtSLndyaXRlKCI8L2Rpdj4iKTtSLndyaXRlKCI8ZGl2Iik7Ui5hZGRDbGFzcygic2FwVXNoZWxsQW5jaG9yUmlnaHRPdmVyRmxvd0J1dHRvbiIpO1Iud3JpdGVDbGFzc2VzKCk7Ui53cml0ZSgiPiIpO1IucmVuZGVyQ29udHJvbChjLl9nZXRPdmVyZmxvd1JpZ2h0QXJyb3dCdXR0b24oKSk7Ui53cml0ZSgiPC9kaXY+Iik7Ui53cml0ZSgiPGRpdiIpO1IuYWRkQ2xhc3MoInNhcFVzaGVsbEFuY2hvckl0ZW1PdmVyRmxvdyIpO1Iud3JpdGVDbGFzc2VzKCk7Ui53cml0ZUFjY2Vzc2liaWxpdHlTdGF0ZShjLl9nZXRPdmVyZmxvd0J1dHRvbigpLHsiaGlkZGVuIjp0cnVlfSk7Ui53cml0ZSgiPiIpO1IucmVuZGVyQ29udHJvbChjLl9nZXRPdmVyZmxvd0J1dHRvbigpKTtSLndyaXRlKCI8L2Rpdj4iKTt9Ui53cml0ZSgiPC9kaXY+Iik7Ui53cml0ZSgiPC9kaXY+Iik7fTtBLnJlbmRlckFuY2hvck5hdmlnYXRpb25JdGVtcz1mdW5jdGlvbihSLGMpe3ZhciBnPWMuZ2V0R3JvdXBzKCk7cS5lYWNoKGcsZnVuY3Rpb24oKXtSLnJlbmRlckNvbnRyb2wodGhpcyk7fSk7fTtBLnNob3VsZEFkZElCYXJDb250ZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIGZhbHNlO307cmV0dXJuIEE7fSx0cnVlKTsKc2FwLnVpLnByZWRlZmluZSgnc2FwL3VzaGVsbC91aS9sYXVuY2hwYWQvRGFzaGJvYXJkR3JvdXBzQ29udGFpbmVyJyxbInNhcC91aS9iYXNlL01hbmFnZWRPYmplY3QiLCJzYXAvdWkvY29yZS9Db250cm9sIiwic2FwL3VpL2NvcmUvSW52aXNpYmxlVGV4dCIsInNhcC91aS9jb3JlL1Jlc2l6ZUhhbmRsZXIiLCJzYXAvdXNoZWxsL2xpYnJhcnkiLCJzYXAvdXNoZWxsL3Jlc291cmNlcyIsInNhcC91c2hlbGwvb3ZlcnJpZGUiLCJzYXAvdXNoZWxsL3V0aWxzIiwic2FwL3VzaGVsbC9Db25maWciLCJzYXAvdWkvRGV2aWNlIiwiLi9EYXNoYm9hcmRHcm91cHNDb250YWluZXJSZW5kZXJlciJdLGZ1bmN0aW9uKE0sQyxJLFIsbCxyLG8sdSxhLEQpeyJ1c2Ugc3RyaWN0Ijt2YXIgYj0iVVNoZWxsVGlsZURldmljZVNldCI7dmFyIGM9Qy5leHRlbmQoInNhcC51c2hlbGwudWkubGF1bmNocGFkLkRhc2hib2FyZEdyb3Vwc0NvbnRhaW5lciIse21ldGFkYXRhOntsaWJyYXJ5OiJzYXAudXNoZWxsIixwcm9wZXJ0aWVzOnthY2Nlc3NpYmlsaXR5TGFiZWw6e3R5cGU6InN0cmluZyIsZGVmYXVsdFZhbHVlOm51bGx9LGRpc3BsYXlNb2RlOnt0eXBlOiJzdHJpbmciLGRlZmF1bHRWYWx1ZTpudWxsfSxfZ3JpZEVuYWJsZWQ6e3R5cGU6ImJvb2xlYW4iLGRlZmF1bHRWYWx1ZTpmYWxzZX19LGFnZ3JlZ2F0aW9uczp7Z3JvdXBzOnt0eXBlOiJzYXAudWkuY29yZS5Db250cm9sIixtdWx0aXBsZTp0cnVlLHNpbmd1bGFyTmFtZToiZ3JvdXAifX0sZXZlbnRzOnthZnRlclJlbmRlcmluZzp7fX19fSk7Yy5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3RoaXMuX2dldER5bmFtaWNTdHlsZUVsZW1lbnQoKTtpZighRC5tZWRpYS5oYXNSYW5nZVNldChiKSl7RC5tZWRpYS5pbml0UmFuZ2VTZXQoYixbMzc0XSwicHgiLFsiU21hbGwiLCJSZXNwb25zaXZlIl0sdHJ1ZSk7fXRoaXMuX2lDb250YWluZXJXaWR0aD1udWxsO3RoaXMuX29UaWxlRGltZW5zaW9ucz1udWxsO3RoaXMuX2JSYW5nZVNldFNtYWxsPWZhbHNlO2lmKGEubGFzdCgiL2NvcmUvaG9tZS9ncmlkQ29udGFpbmVyIikpe3RoaXMuc2V0UHJvcGVydHkoIl9ncmlkRW5hYmxlZCIsdHJ1ZSk7fWVsc2V7dGhpcy5zZXRQcm9wZXJ0eSgiX2dyaWRFbmFibGVkIixmYWxzZSk7fVIucmVnaXN0ZXIodGhpcyx0aGlzLl9oYW5kbGVSZXNpemUuYmluZCh0aGlzKSk7dGhpcy5hZGRJbnZpc2libGVBY2Nlc3NhYmlsaXR5VGV4dHMoKTt0aGlzLl9vQ29uZmlnQ2hhbmdlPWEub24oIi9jb3JlL2hvbWUvc2l6ZUJlaGF2aW9yIikuZG8oZnVuY3Rpb24ocyl7dGhpcy5fc1NpemVCZWhhdmlvcj1zO3RoaXMuX3VwZGF0ZVRpbGVDb250YWluZXIodHJ1ZSk7fS5iaW5kKHRoaXMpKTtpZighc2FwLnVpLmdldENvcmUoKS5pc0luaXRpYWxpemVkKCkpe3NhcC51aS5nZXRDb3JlKCkuYXR0YWNoSW5pdCh0aGlzLl9oYW5kbGVDb3JlSW5pdGlhbGl6ZWQuYmluZCh0aGlzKSk7fWVsc2V7dGhpcy5faGFuZGxlQ29yZUluaXRpYWxpemVkKCk7fX07Yy5wcm90b3R5cGUuX2hhbmRsZUNvcmVJbml0aWFsaXplZD1mdW5jdGlvbigpe3NhcC51aS5nZXRDb3JlKCkuYXR0YWNoVGhlbWVDaGFuZ2VkKHRoaXMuX2hhbmRsZVRoZW1lQXBwbGllZCx0aGlzKTt9O2MucHJvdG90eXBlLl9oYW5kbGVUaGVtZUFwcGxpZWQ9ZnVuY3Rpb24oKXtzYXAudWkuZ2V0Q29yZSgpLmRldGFjaFRoZW1lQ2hhbmdlZCh0aGlzLl9oYW5kbGVUaGVtZUFwcGxpZWQsdGhpcyk7dGhpcy5fdXBkYXRlVGlsZUNvbnRhaW5lcih0cnVlKTt9O2MucHJvdG90eXBlLmV4aXQ9ZnVuY3Rpb24oKXtpZih0aGlzLl9vU3R5bGVFbGVtZW50KXtkb2N1bWVudC5oZWFkLnJlbW92ZUNoaWxkKHRoaXMuX29TdHlsZUVsZW1lbnQpO31kZWxldGUgdGhpcy5fb1N0eWxlRWxlbWVudDt0aGlzLl9vQ29uZmlnQ2hhbmdlLm9mZigpO2lmKHRoaXMub1RpbGVUZXh0KXt0aGlzLm9UaWxlVGV4dC5kZXN0cm95KCk7fWlmKHRoaXMub1RpbGVFZGl0TW9kZVRleHQpe3RoaXMub1RpbGVFZGl0TW9kZVRleHQuZGVzdHJveSgpO31ELm1lZGlhLmRldGFjaEhhbmRsZXIodGhpcy5faGFuZGxlTWVkaWFDaGFuZ2UsdGhpcyxiKTtDLnByb3RvdHlwZS5leGl0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9O2MucHJvdG90eXBlLl9oYW5kbGVSZXNpemU9ZnVuY3Rpb24oZSl7aWYoZS5zaXplLndpZHRoPjAmJmUuc2l6ZS53aWR0aCE9PWUub2xkU2l6ZS53aWR0aCl7dGhpcy5fdXBkYXRlVGlsZUNvbnRhaW5lcigpO319O2MucHJvdG90eXBlLl91cGRhdGVUaWxlQ29udGFpbmVyPWZ1bmN0aW9uKGQpe3ZhciBpPXRoaXMuX2dldElubmVyVGlsZUNvbnRhaW5lcigpO2lmKCFpKXtyZXR1cm47fXZhciBzPXRoaXMuX3NTaXplQmVoYXZpb3I9PT0iU21hbGwifHx0aGlzLl9iUmFuZ2VTZXRTbWFsbDt2YXIgdD10aGlzLl9nZXRUaWxlRGltZW5zaW9ucyhzLGQpO3ZhciBlPXRoaXMuX2dldEVsZW1lbnREaW1lbnNpb25zKGkpO3ZhciBUPXQud2lkdGg7dmFyIG07dmFyIGY7aWYodGhpcy5nZXRQcm9wZXJ0eSgiX2dyaWRFbmFibGVkIikpe3ZhciBnPXRoaXMuZ2V0R3JvdXBzKCk7aWYoZy5sZW5ndGg+MCl7dmFyIEc9Z1swXTtpZighRy5oYXNMaXN0ZW5lcnMoImxheW91dENoYW5nZSIpKXtHLmF0dGFjaEV2ZW50KCJsYXlvdXRDaGFuZ2UiLHRoaXMuX3VwZGF0ZVRpbGVDb250YWluZXIuYmluZCh0aGlzKSk7fWlmKEcuZ2V0VGlsZVNpemVCZWhhdmlvcigpIT09dGhpcy5fc1NpemVCZWhhdmlvcil7Ry5zZXRUaWxlU2l6ZUJlaGF2aW9yKHRoaXMuX3NTaXplQmVoYXZpb3IpO31tPUcuZ2V0QWN0aXZlR2FwU2l6ZSgpO1Q9VCttO2Y9Ry5nZXRNYXhpbXVtSXRlbU51bWJlcigpO319ZWxzZXttPXQubWFyZ2luRW5kO1Q9VCttO2Y9TWF0aC5mbG9vcihlLndpZHRoL1QpO312YXIgaD1UKmYtdC5tYXJnaW5FbmQ7dmFyIGo9dGhpcy5faUNvbnRhaW5lcldpZHRoIT09aDtpZihqKXt0aGlzLl9pQ29udGFpbmVyV2lkdGg9aDt0aGlzLl91cGRhdGVUaWxlQ29udGFpbmVyV2lkdGgoaCk7fX07Yy5wcm90b3R5cGUuX2dldElubmVyVGlsZUNvbnRhaW5lcj1mdW5jdGlvbigpe3ZhciBkPXRoaXMuZ2V0RG9tUmVmKCk7aWYoIWQpe3JldHVybiBudWxsO312YXIgdCxUPWQucXVlcnlTZWxlY3RvckFsbCgiLnNhcFVzaGVsbFRpbGVDb250YWluZXJDb250ZW50Iik7Zm9yKHZhciBpPTA7aTxULmxlbmd0aDsrK2kpe2lmKCFUW2ldLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCJzYXBVc2hlbGxIaWRkZW4iKSl7dD1UW2ldO2JyZWFrO319aWYodCl7cmV0dXJuIHQucXVlcnlTZWxlY3RvcigiLnNhcFVzaGVsbElubmVyIik7fXJldHVybiBudWxsO307Yy5wcm90b3R5cGUuX2dldER5bmFtaWNTdHlsZUVsZW1lbnQ9ZnVuY3Rpb24oKXtpZighdGhpcy5fb1N0eWxlRWxlbWVudCl7dGhpcy5fb1N0eWxlRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO2RvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQodGhpcy5fb1N0eWxlRWxlbWVudCk7fXJldHVybiB0aGlzLl9vU3R5bGVFbGVtZW50O307Yy5wcm90b3R5cGUuX3VwZGF0ZVRpbGVDb250YWluZXJXaWR0aD1mdW5jdGlvbih0KXt2YXIgcz10aGlzLl9nZXREeW5hbWljU3R5bGVFbGVtZW50KCk7cy5pbm5lckhUTUw9Ii5zYXBVc2hlbGxMaW5lTW9kZUNvbnRhaW5lciwgLnNhcFVzaGVsbExpbmtzQ29udGFpbmVyIHsgd2lkdGg6ICIrdCsicHg7IH0iO307Yy5wcm90b3R5cGUuX2dldFRpbGVEaW1lbnNpb25zPWZ1bmN0aW9uKHMsZCl7aWYodGhpcy5fb1RpbGVEaW1lbnNpb25zJiYhZCl7cmV0dXJuIHRoaXMuX29UaWxlRGltZW5zaW9uczt9dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7dC5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iO3QuY2xhc3NMaXN0LmFkZCgic2FwVXNoZWxsVGlsZSIpO2lmKHMpe3QuY2xhc3NMaXN0LmFkZCgic2FwVXNoZWxsU21hbGwiKTt9ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0KTt0aGlzLl9vVGlsZURpbWVuc2lvbnM9dGhpcy5fZ2V0RWxlbWVudERpbWVuc2lvbnModCk7ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0KTtyZXR1cm4gdGhpcy5fb1RpbGVEaW1lbnNpb25zO307Yy5wcm90b3R5cGUuX2dldEVsZW1lbnREaW1lbnNpb25zPWZ1bmN0aW9uKGUpe3ZhciBzPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGUpO3ZhciBkPXNhcC51aS5nZXRDb3JlKCkuZ2V0Q29uZmlndXJhdGlvbigpLmdldFJUTCgpO3ZhciBtPWQ/cy5tYXJnaW5MZWZ0OnMubWFyZ2luUmlnaHQ7cmV0dXJue3dpZHRoOnBhcnNlRmxvYXQocy53aWR0aCksbWFyZ2luRW5kOnBhcnNlRmxvYXQobSl9O307Yy5wcm90b3R5cGUudXBkYXRlR3JvdXBzPW8udXBkYXRlQWdncmVnYXRlc0ZhY3RvcnkoImdyb3VwcyIpO2MucHJvdG90eXBlLm9uQWZ0ZXJSZW5kZXJpbmc9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLGQ9e2JVc2VVbmlxdWVNYXJrOnRydWV9O2lmKHRoaXMub25BZnRlclJlbmRlcmluZ1RpbWVyKXtjbGVhclRpbWVvdXQodGhpcy5vbkFmdGVyUmVuZGVyaW5nVGltZXIpO310aGlzLm9uQWZ0ZXJSZW5kZXJpbmdUaW1lcj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5vbkFmdGVyUmVuZGVyaW5nVGltZXI9dW5kZWZpbmVkO3Uuc2V0UGVyZm9ybWFuY2VNYXJrKCJGTFAtVGltZVRvSW50ZXJhY3RpdmVfdGlsZXNMb2FkZWQiLGQpO3QuZmlyZUFmdGVyUmVuZGVyaW5nKCk7fSwwKTtELm1lZGlhLmF0dGFjaEhhbmRsZXIodGhpcy5faGFuZGxlTWVkaWFDaGFuZ2UsdGhpcyxiKTt9O2MucHJvdG90eXBlLm9uQmVmb3JlUmVuZGVyaW5nPWZ1bmN0aW9uKCl7RC5tZWRpYS5kZXRhY2hIYW5kbGVyKHRoaXMuX2hhbmRsZU1lZGlhQ2hhbmdlLHRoaXMsYik7fTtjLnByb3RvdHlwZS5faGFuZGxlTWVkaWFDaGFuZ2U9ZnVuY3Rpb24oZSl7dGhpcy5fYlJhbmdlU2V0U21hbGw9ZS5uYW1lPT09IlNtYWxsIjt0aGlzLl91cGRhdGVUaWxlQ29udGFpbmVyKHRydWUpO307Yy5wcm90b3R5cGUuZ2V0R3JvdXBDb250cm9sQnlHcm91cElkPWZ1bmN0aW9uKGcpe3RyeXt2YXIgZD10aGlzLmdldEdyb3VwcygpO2Zvcih2YXIgaT0wO2k8ZC5sZW5ndGg7aSsrKXtpZihkW2ldLmdldEdyb3VwSWQoKT09Zyl7cmV0dXJuIGRbaV07fX19Y2F0Y2goZSl7fXJldHVybiBudWxsO307Yy5wcm90b3R5cGUuYWRkTGlua3NUb1Vuc2VsZWN0ZWRHcm91cHM9ZnVuY3Rpb24oKXt2YXIgZz10aGlzLmdldEdyb3VwcygpO2cuZm9yRWFjaChmdW5jdGlvbihHLGkpe2lmKCFHLmdldElzR3JvdXBTZWxlY3RlZCgpKXtNLnByb3RvdHlwZS51cGRhdGVBZ2dyZWdhdGlvbi5jYWxsKEcsImxpbmtzIik7fX0pO307Yy5wcm90b3R5cGUucmVtb3ZlTGlua3NGcm9tQWxsR3JvdXBzPWZ1bmN0aW9uKCl7dmFyIGc9dGhpcy5nZXRHcm91cHMoKTtnLmZvckVhY2goZnVuY3Rpb24oRyxkKXt2YXIgTD1HLmdldExpbmtzKCk7aWYoTC5sZW5ndGgpe2lmKExbMF0uZ2V0TWV0YWRhdGEoKS5nZXROYW1lKCk9PT0ic2FwLm0uR2VuZXJpY1RpbGUiKXtHLnJlbW92ZUFsbExpbmtzKCk7fWVsc2V7Zm9yKHZhciBpPTA7aTxMLmxlbmd0aDtpKyspe0xbaV0uZGVzdHJveSgpO319fX0pO307Yy5wcm90b3R5cGUucmVtb3ZlTGlua3NGcm9tVW5zZWxlY3RlZEdyb3Vwcz1mdW5jdGlvbigpe3ZhciBnPXRoaXMuZ2V0R3JvdXBzKCk7Zy5mb3JFYWNoKGZ1bmN0aW9uKEcsZCl7dmFyIEw9Ry5nZXRMaW5rcygpO2lmKEwubGVuZ3RoJiYhRy5nZXRJc0dyb3VwU2VsZWN0ZWQoKSl7aWYoTFswXS5nZXRNZXRhZGF0YSgpLmdldE5hbWUoKT09PSJzYXAubS5HZW5lcmljVGlsZSIpe0cucmVtb3ZlQWxsTGlua3MoKTt9ZWxzZXtmb3IodmFyIGk9MDtpPEwubGVuZ3RoO2krKyl7TFtpXS5kZXN0cm95KCk7fX19fSk7fTtjLnByb3RvdHlwZS5hZGRJbnZpc2libGVBY2Nlc3NhYmlsaXR5VGV4dHM9ZnVuY3Rpb24oKXt0aGlzLm9UaWxlVGV4dD1uZXcgSSgic2FwVXNoZWxsRGFzaGJvYXJkQWNjZXNzaWJpbGl0eVRpbGVUZXh0Iix7dGV4dDpyLmkxOG4uZ2V0VGV4dCgidGlsZSIpfSkudG9TdGF0aWMoKTt2YXIgQj1zYXAudWkuZ2V0Q29yZSgpLmdldExpYnJhcnlSZXNvdXJjZUJ1bmRsZSgic2FwLm0iKTtpZihCKXt0aGlzLm9UaWxlRWRpdE1vZGVUZXh0PW5ldyBJKCJzYXBVc2hlbGxEYXNoYm9hcmRBY2Nlc3NpYmlsaXR5VGlsZUVkaXRNb2RlVGV4dCIse3RleHQ6Qi5nZXRUZXh0KCJMSVNUX0lURU1fTkFWSUdBVElPTiIpfSkudG9TdGF0aWMoKTt9fTtyZXR1cm4gYzt9KTsKc2FwLnVpLnByZWRlZmluZSgnc2FwL3VzaGVsbC91aS9sYXVuY2hwYWQvRGFzaGJvYXJkR3JvdXBzQ29udGFpbmVyUmVuZGVyZXInLFsic2FwL3VzaGVsbC91dGlscyJdLGZ1bmN0aW9uKHUpeyJ1c2Ugc3RyaWN0Ijt2YXIgRD17fTtELnJlbmRlcj1mdW5jdGlvbihyLGMpe3Iud3JpdGUoIjxkaXYiKTtyLndyaXRlQ29udHJvbERhdGEoYyk7ci5hZGRDbGFzcygic2FwVXNoZWxsRGFzaGJvYXJkR3JvdXBzQ29udGFpbmVyIik7aWYoYy5nZXRQcm9wZXJ0eSgiX2dyaWRFbmFibGVkIikpe3IuYWRkQ2xhc3MoInNhcFVzaGVsbERhc2hib2FyZEdyb3Vwc0NvbnRhaW5lckdyaWQiKTt9ci53cml0ZUNsYXNzZXMoKTtpZihjLmdldEFjY2Vzc2liaWxpdHlMYWJlbCgpKXtyLndyaXRlQWNjZXNzaWJpbGl0eVN0YXRlKGMse3JvbGU6Im5hdmlnYXRpb24iLGxhYmVsOmMuZ2V0QWNjZXNzaWJpbGl0eUxhYmVsKCl9KTt9ci53cml0ZSgiPiIpO3ZhciBnPWMuZ2V0R3JvdXBzKCk7dmFyIEc7Zm9yKHZhciBpPTA7aTxnLmxlbmd0aDtpKyspe0c9Z1tpXTtyLndyaXRlKCI8ZGl2Iik7ci5hZGRDbGFzcygic2FwVXNoZWxsRGFzaGJvYXJkR3JvdXBzQ29udGFpbmVySXRlbSIpO2lmKEcuZ2V0SXNHcm91cExvY2tlZCgpfHxHLmdldERlZmF1bHRHcm91cCgpKXtyLmFkZENsYXNzKCJzYXBVc2hlbGxEaXNhYmxlRHJhZ0FuZERyb3AiKTt9ci53cml0ZUNsYXNzZXMoKTtyLndyaXRlKCI+Iik7ci5yZW5kZXJDb250cm9sKEcpO3Iud3JpdGUoIjwvZGl2PiIpO311LnNldFBlcmZvcm1hbmNlTWFyaygiRkxQIC0tIGRhc2hib2FyZGdyb3Vwc2NvbnRhaW5lciByZW5kZXJlciIpO307cmV0dXJuIEQ7fSx0cnVlKTsKc2FwLnVpLnByZWRlZmluZSgnc2FwL3VzaGVsbC91aS9sYXVuY2hwYWQvR3JvdXBIZWFkZXJBY3Rpb25zJyxbInNhcC91aS9jb3JlL0NvbnRyb2wiLCJzYXAvbS9CdXR0b24iLCJzYXAvbS9saWJyYXJ5Iiwic2FwL3VzaGVsbC9saWJyYXJ5IiwiLi9Hcm91cEhlYWRlckFjdGlvbnNSZW5kZXJlciJdLGZ1bmN0aW9uKEMsQixtKXsidXNlIHN0cmljdCI7dmFyIFA9bS5QbGFjZW1lbnRUeXBlO3ZhciBHPUMuZXh0ZW5kKCJzYXAudXNoZWxsLnVpLmxhdW5jaHBhZC5Hcm91cEhlYWRlckFjdGlvbnMiLHttZXRhZGF0YTp7bGlicmFyeToic2FwLnVzaGVsbCIscHJvcGVydGllczp7aXNPdmVyZmxvdzp7dHlwZToiYm9vbGVhbiIsZ3JvdXA6Ik1pc2MiLGRlZmF1bHRWYWx1ZTpmYWxzZX0sdGlsZUFjdGlvbk1vZGVBY3RpdmU6e3R5cGU6ImJvb2xlYW4iLGdyb3VwOiJNaXNjIixkZWZhdWx0VmFsdWU6ZmFsc2V9fSxhZ2dyZWdhdGlvbnM6e2NvbnRlbnQ6e3R5cGU6InNhcC51aS5jb3JlLkNvbnRyb2wiLG11bHRpcGxlOnRydWUsc2luZ3VsYXJOYW1lOiJjb250ZW50In0sb3ZlcmZsb3dDdHJsOnt0eXBlOiJzYXAudWkuY29yZS5Db250cm9sIixtdWx0aXBsZTp0cnVlLHNpbmd1bGFyTmFtZToib3ZlcmZsb3dDdHJsIn19LGV2ZW50czp7YWZ0ZXJSZW5kZXJpbmc6e319fX0pO0cucHJvdG90eXBlLm9uQWZ0ZXJSZW5kZXJpbmc9ZnVuY3Rpb24oKXt0aGlzLmZpcmVBZnRlclJlbmRlcmluZygpO307Ry5wcm90b3R5cGUuX2dldEFjdGlvbk92ZXJmbG93Q29udHJvbGw9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO3JldHVybltuZXcgQih7aWNvbjoic2FwLWljb246Ly9vdmVyZmxvdyIsdHlwZToiVHJhbnNwYXJlbnQiLGVuYWJsZWQ6e3BhcnRzOlsiL2VkaXRUaXRsZSJdLGZvcm1hdHRlcjpmdW5jdGlvbihpKXtyZXR1cm4haTt9fSxwcmVzczpmdW5jdGlvbihlKXt2YXIgcz1lLmdldFNvdXJjZSgpO3NhcC51aS5yZXF1aXJlKFsic2FwL20vQWN0aW9uU2hlZXQiXSxmdW5jdGlvbihBKXt2YXIgYT1uZXcgQSh7cGxhY2VtZW50OlAuQXV0b30pO3QuZ2V0Q29udGVudCgpLmZvckVhY2goZnVuY3Rpb24oYil7dmFyIGM9Yi5jbG9uZSgpO2Muc2V0TW9kZWwoYi5nZXRNb2RlbCgpKTtjLnNldEJpbmRpbmdDb250ZXh0KGIuZ2V0QmluZGluZ0NvbnRleHQoKSk7YS5hZGRCdXR0b24oYyk7fSk7YS5vcGVuQnkocyk7fSk7fX0pLmFkZFN0eWxlQ2xhc3MoInNhcFVzaGVsbEhlYWRlckFjdGlvbkJ1dHRvbiIpXTt9O3JldHVybiBHO30pOwpzYXAudWkucHJlZGVmaW5lKCdzYXAvdXNoZWxsL3VpL2xhdW5jaHBhZC9Hcm91cEhlYWRlckFjdGlvbnNSZW5kZXJlcicsWyJzYXAvdWkvdGhpcmRwYXJ0eS9qcXVlcnkiXSxmdW5jdGlvbihxKXsidXNlIHN0cmljdCI7dmFyIEc9e307Ry5yZW5kZXI9ZnVuY3Rpb24ocixjKXt2YXIgaT1jLmdldElzT3ZlcmZsb3coKSxhPWMuZ2V0VGlsZUFjdGlvbk1vZGVBY3RpdmUoKTtyLndyaXRlKCI8ZGl2Iik7ci53cml0ZUNvbnRyb2xEYXRhKGMpO3Iud3JpdGVDbGFzc2VzKCk7ci53cml0ZSgiPiIpO3ZhciBDPWMuZ2V0Q29udGVudCgpO2lmKGEpe2lmKGkpe3EuZWFjaChjLl9nZXRBY3Rpb25PdmVyZmxvd0NvbnRyb2xsKCksZnVuY3Rpb24oKXt0aGlzLnNldFBhcmVudChjKTtyLnJlbmRlckNvbnRyb2wodGhpcyk7fSk7fWVsc2V7cS5lYWNoKEMsZnVuY3Rpb24oKXtyLnJlbmRlckNvbnRyb2wodGhpcyk7fSk7fX1yLndyaXRlKCI8L2Rpdj4iKTt9O3JldHVybiBHO30sdHJ1ZSk7CnNhcC51aS5wcmVkZWZpbmUoJ3NhcC91c2hlbGwvdWkvbGF1bmNocGFkL0dyb3VwTGlzdEl0ZW0nLFsnc2FwL20vTGlzdEl0ZW1CYXNlJywnc2FwL3VzaGVsbC9saWJyYXJ5Jywnc2FwL3VzaGVsbC91dGlscycsJy4vR3JvdXBMaXN0SXRlbVJlbmRlcmVyJ10sZnVuY3Rpb24oTCxsLHUpeyJ1c2Ugc3RyaWN0Ijt2YXIgRz1MLmV4dGVuZCgic2FwLnVzaGVsbC51aS5sYXVuY2hwYWQuR3JvdXBMaXN0SXRlbSIse21ldGFkYXRhOntsaWJyYXJ5OiJzYXAudXNoZWxsIixwcm9wZXJ0aWVzOnt0aXRsZTp7dHlwZToic3RyaW5nIixncm91cDoiTWlzYyIsZGVmYXVsdFZhbHVlOm51bGx9LGRlZmF1bHRHcm91cDp7dHlwZToiYm9vbGVhbiIsZ3JvdXA6Ik1pc2MiLGRlZmF1bHRWYWx1ZTpmYWxzZX0sc2hvdzp7dHlwZToiYm9vbGVhbiIsZ3JvdXA6Ik1pc2MiLGRlZmF1bHRWYWx1ZTp0cnVlfSxncm91cElkOnt0eXBlOiJzdHJpbmciLGdyb3VwOiJNaXNjIixkZWZhdWx0VmFsdWU6bnVsbH0saW5kZXg6e3R5cGU6ImludCIsZ3JvdXA6Ik1pc2MiLGRlZmF1bHRWYWx1ZTpudWxsfSxudW1iZXJPZlRpbGVzOnt0eXBlOiJpbnQiLGdyb3VwOiJNaXNjIixkZWZhdWx0VmFsdWU6MH0saXNHcm91cFZpc2libGU6e3R5cGU6ImJvb2xlYW4iLGdyb3VwOiJNaXNjIixkZWZhdWx0VmFsdWU6dHJ1ZX19LGV2ZW50czp7cHJlc3M6e30sYWZ0ZXJSZW5kZXJpbmc6e319fX0pO0cucHJvdG90eXBlLmV4aXQ9ZnVuY3Rpb24oKXtMLnByb3RvdHlwZS5leGl0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt9O0cucHJvdG90eXBlLm9uQWZ0ZXJSZW5kZXJpbmc9ZnVuY3Rpb24oKXt0aGlzLmZpcmVBZnRlclJlbmRlcmluZygpO307Ry5wcm90b3R5cGUuZ3JvdXBIYXNWaXNpYmxlVGlsZXM9ZnVuY3Rpb24oKXt2YXIgZz10aGlzLmdldE1vZGVsKCkuZ2V0UHJvcGVydHkoIi9ncm91cHMvIit0aGlzLmdldEluZGV4KCkrIi90aWxlcyIpO3ZhciBhPXRoaXMuZ2V0TW9kZWwoKS5nZXRQcm9wZXJ0eSgiL2dyb3Vwcy8iK3RoaXMuZ2V0SW5kZXgoKSsiL2xpbmtzIik7cmV0dXJuIHUuZ3JvdXBIYXNWaXNpYmxlVGlsZXMoZyxhKTt9O0cucHJvdG90eXBlLm9uY2xpY2s9ZnVuY3Rpb24oKXt0aGlzLmZpcmVQcmVzcyh7aWQ6dGhpcy5nZXRJZCgpfSk7fTtHLnByb3RvdHlwZS5zZXRHcm91cElkPWZ1bmN0aW9uKGcpe3RoaXMuc2V0UHJvcGVydHkoImdyb3VwSWQiLGcsdHJ1ZSk7cmV0dXJuIHRoaXM7fTtHLnByb3RvdHlwZS5zZXRUaXRsZT1mdW5jdGlvbih0KXt0aGlzLnNldFByb3BlcnR5KCJ0aXRsZSIsdCk7dGhpcy4kKCkuZmluZCgiLnNhcE1TTElUaXRsZU9ubHkiKS50ZXh0KHQpO3JldHVybiB0aGlzO307cmV0dXJuIEc7fSk7CnNhcC51aS5wcmVkZWZpbmUoJ3NhcC91c2hlbGwvdWkvbGF1bmNocGFkL0dyb3VwTGlzdEl0ZW1SZW5kZXJlcicsWyJzYXAvbS9MaXN0SXRlbUJhc2VSZW5kZXJlciIsInNhcC91aS9jb3JlL1JlbmRlcmVyIl0sZnVuY3Rpb24oTCxSKXsidXNlIHN0cmljdCI7dmFyIEc9Ui5leHRlbmQoTCk7Ry5yZW5kZXJMSUF0dHJpYnV0ZXM9ZnVuY3Rpb24ocil7ci5hZGRDbGFzcygic2FwVXNoZWxsR3JvdXBMSSIpO3IuYWRkQ2xhc3MoInNhcFVzaGVsbEdyb3VwTGlzdEl0ZW0iKTt9O0cucmVuZGVyTElDb250ZW50PWZ1bmN0aW9uKHIsbCl7ci53cml0ZSgiPGRpdiIpO3IuYWRkQ2xhc3MoInNhcE1TTElEaXYiKTtyLmFkZENsYXNzKCJzYXBNU0xJVGl0bGVEaXYiKTtyLndyaXRlQ2xhc3NlcygpO2lmKCFsLmdldFZpc2libGUoKSl7ci5hZGRTdHlsZSgiZGlzcGxheSIsIm5vbmUiKTtyLndyaXRlU3R5bGVzKCk7fXIud3JpdGUoIj4iKTtyLndyaXRlKCI8ZGl2Iik7ci5hZGRDbGFzcygic2FwTVNMSVRpdGxlT25seSIpO3Iud3JpdGVDbGFzc2VzKCk7ci53cml0ZSgiPiIpO3Iud3JpdGVFc2NhcGVkKGwuZ2V0VGl0bGUoKSk7ci53cml0ZSgiPC9kaXY+Iik7ci53cml0ZSgiPC9kaXY+Iik7fTtyZXR1cm4gRzt9LHRydWUpOwpzYXAudWkucHJlZGVmaW5lKCdzYXAvdXNoZWxsL3VpL2xhdW5jaHBhZC9MaW5rVGlsZVdyYXBwZXInLFsic2FwL3VpL3RoaXJkcGFydHkvanF1ZXJ5Iiwic2FwL3VpL2Jhc2UvTWFuYWdlZE9iamVjdCIsInNhcC91aS9jb3JlL0NvbnRyb2wiLCJzYXAvdXNoZWxsL3VpL2xhdW5jaHBhZC9BY2Nlc3NpYmlsaXR5Q3VzdG9tRGF0YSIsInNhcC9iYXNlL0xvZyIsIi4vTGlua1RpbGVXcmFwcGVyUmVuZGVyZXIiXSxmdW5jdGlvbihxLE0sQyxBLEwpeyJ1c2Ugc3RyaWN0Ijt2YXIgYT1DLmV4dGVuZCgic2FwLnVzaGVsbC51aS5sYXVuY2hwYWQuTGlua1RpbGVXcmFwcGVyIix7bWV0YWRhdGE6e2xpYnJhcnk6InNhcC51c2hlbGwiLHByb3BlcnRpZXM6e3V1aWQ6e3R5cGU6InN0cmluZyIsZ3JvdXA6Ik1pc2MiLGRlZmF1bHRWYWx1ZTpudWxsfSx0aWxlQ2F0YWxvZ0lkOnt0eXBlOiJzdHJpbmciLGdyb3VwOiJNaXNjIixkZWZhdWx0VmFsdWU6bnVsbH0sdGFyZ2V0Ont0eXBlOiJzdHJpbmciLGdyb3VwOiJNaXNjIixkZWZhdWx0VmFsdWU6bnVsbH0sdmlzaWJsZTp7dHlwZToiYm9vbGVhbiIsZ3JvdXA6Ik1pc2MiLGRlZmF1bHRWYWx1ZTp0cnVlfSxkZWJ1Z0luZm86e3R5cGU6InN0cmluZyIsZ3JvdXA6Ik1pc2MiLGRlZmF1bHRWYWx1ZTpudWxsfSxhbmltYXRpb25SZW5kZXJlZDp7dHlwZToiYm9vbGVhbiIsZ3JvdXA6Ik1pc2MiLGRlZmF1bHRWYWx1ZTpmYWxzZX0saXNMb2NrZWQ6e3R5cGU6ImJvb2xlYW4iLGdyb3VwOiJNaXNjIixkZWZhdWx0VmFsdWU6ZmFsc2V9LHRpbGVBY3Rpb25Nb2RlQWN0aXZlOnt0eXBlOiJib29sZWFuIixncm91cDoiTWlzYyIsZGVmYXVsdFZhbHVlOmZhbHNlfSxpZUh0bWw1RG5EOnt0eXBlOiJib29sZWFuIixncm91cDoiTWlzYyIsZGVmYXVsdFZhbHVlOmZhbHNlfX0sYWdncmVnYXRpb25zOnt0aWxlVmlld3M6e3R5cGU6InNhcC51aS5jb3JlLkNvbnRyb2wiLG11bHRpcGxlOnRydWUsc2luZ3VsYXJOYW1lOiJ0aWxlVmlldyJ9LGZvb3RJdGVtczp7dHlwZToic2FwLnVpLmNvcmUuQ29udHJvbCIsbXVsdGlwbGU6dHJ1ZSxzaW5ndWxhck5hbWU6ImZvb3RJdGVtIn19LGV2ZW50czp7cHJlc3M6e30sY292ZXJEaXZQcmVzczp7fSxhZnRlclJlbmRlcmluZzp7fSxzaG93QWN0aW9uczp7fX19fSk7YS5wcm90b3R5cGUub250YXA9ZnVuY3Rpb24oKXtMLmluZm8oIlRpbGUgY2xpY2tlZDoiLHRoaXMuZ2V0RGVidWdJbmZvKCksInNhcC51c2hlbGwudWkubGF1bmNocGFkLkxpbmtUaWxlV3JhcHBlciIpO3JldHVybjt9O2EucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24ocyl7dGhpcy5kZXN0cm95VGlsZVZpZXdzKCk7Qy5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMscyk7fTthLnByb3RvdHlwZS5hZGRUaWxlVmlldz1mdW5jdGlvbihvLHMpe28uc2V0UGFyZW50KG51bGwpO28uYWRkQ3VzdG9tRGF0YShuZXcgQSh7a2V5OiJ0YWJpbmRleCIsdmFsdWU6Ii0xIix3cml0ZVRvRG9tOnRydWV9KSk7TS5wcm90b3R5cGUuYWRkQWdncmVnYXRpb24uY2FsbCh0aGlzLCJ0aWxlVmlld3MiLG8scyk7fTthLnByb3RvdHlwZS5kZXN0cm95VGlsZVZpZXdzPWZ1bmN0aW9uKCl7aWYodGhpcy5tQWdncmVnYXRpb25zLnRpbGVWaWV3cyl7dGhpcy5tQWdncmVnYXRpb25zLnRpbGVWaWV3cy5sZW5ndGg9MDt9fTthLnByb3RvdHlwZS5vbkFmdGVyUmVuZGVyaW5nPWZ1bmN0aW9uKCl7dGhpcy5maXJlQWZ0ZXJSZW5kZXJpbmcoKTt9O2EucHJvdG90eXBlLl9sYXVuY2hUaWxlVmlhS2V5Ym9hcmQ9ZnVuY3Rpb24oZSl7aWYoZS50YXJnZXQudGFnTmFtZSE9PSJCVVRUT04iKXt2YXIgdD10aGlzLmdldFRpbGVWaWV3cygpWzBdLHA9ZmFsc2UsYztpZih0LmZpcmVQcmVzcyl7Yz1kb2N1bWVudC5jcmVhdGVFdmVudCgiTW91c2VFdmVudHMiKTtjLmluaXRFdmVudCgiY2xpY2siLGZhbHNlLHRydWUpO3QuZ2V0RG9tUmVmKCkuZGlzcGF0Y2hFdmVudChjKTt9ZWxzZXt3aGlsZSh0LmdldENvbnRlbnQmJiFwKXt0PXQuZ2V0Q29udGVudCgpWzBdO2lmKHQuZmlyZVByZXNzKXt0LmZpcmVQcmVzcyh7aWQ6dGhpcy5nZXRJZCgpfSk7cD10cnVlO319fX19O2EucHJvdG90eXBlLm9uc2FwZW50ZXI9ZnVuY3Rpb24oZSl7dGhpcy5fbGF1bmNoVGlsZVZpYUtleWJvYXJkKGUpO307YS5wcm90b3R5cGUub25zYXBzcGFjZT1mdW5jdGlvbihlKXt0aGlzLl9sYXVuY2hUaWxlVmlhS2V5Ym9hcmQoZSk7fTthLnByb3RvdHlwZS5vbmNsaWNrPWZ1bmN0aW9uKGUpe2lmKHRoaXMuZ2V0VGlsZUFjdGlvbk1vZGVBY3RpdmUoKSl7ZS5wcmV2ZW50RGVmYXVsdCgpO31lbHNle3ZhciBjPXRoaXMuZ2V0VGlsZVZpZXdzKClbMF0uZ2V0Q29udGVudD9jLmdldENvbnRlbnQoKVswXTp0aGlzLmdldFRpbGVWaWV3cygpWzBdO3NhcC51aS5nZXRDb3JlKCkuZ2V0RXZlbnRCdXMoKS5wdWJsaXNoKCJsYXVuY2hwYWQiLCJkYXNoYm9hcmRUaWxlTGlua0NsaWNrIik7fX07YS5wcm90b3R5cGUuc2V0VmlzaWJsZT1mdW5jdGlvbih2KXt0aGlzLnNldFByb3BlcnR5KCJ2aXNpYmxlIix2LHRydWUpO3JldHVybiB0aGlzLnRvZ2dsZVN0eWxlQ2xhc3MoInNhcFVzaGVsbEhpZGRlbiIsIXYpO307YS5wcm90b3R5cGUuc2V0QW5pbWF0aW9uUmVuZGVyZWQ9ZnVuY3Rpb24odil7dGhpcy5zZXRQcm9wZXJ0eSgiYW5pbWF0aW9uUmVuZGVyZWQiLHYsdHJ1ZSk7fTthLnByb3RvdHlwZS5faGFuZGxlVGlsZVNoYWRvdz1mdW5jdGlvbihqLGIpe2lmKGoubGVuZ3RoKXtqLnVuYmluZCgibW91c2VlbnRlciBtb3VzZWxlYXZlIik7dmFyIHUsdD1qLmNzcygiYm9yZGVyIikuc3BsaXQoInB4IilbMF0sbT10aGlzLmdldE1vZGVsKCk7aWYodD4wKXt1PWouY3NzKCJib3JkZXItY29sb3IiKTt9ZWxzZXt1PXRoaXMuZ2V0UmdiYSgpO31qLmhvdmVyKGZ1bmN0aW9uKCl7aWYoIW0uZ2V0UHJvcGVydHkoIi90aWxlQWN0aW9uTW9kZUFjdGl2ZSIpKXt2YXIgbz1xKGopLmNzcygiYm94LXNoYWRvdyIpLFQ9bz9vLnNwbGl0KCIpICIpWzFdOm51bGwsVTtpZihUKXtVPVQrIiAiK3U7cSh0aGlzKS5jc3MoImJveC1zaGFkb3ciLFUpO319fSxmdW5jdGlvbigpe3EodGhpcykuY3NzKCJib3gtc2hhZG93IiwiIik7fSk7fX07YS5wcm90b3R5cGUuc2V0VXVpZD1mdW5jdGlvbih1KXt0aGlzLnNldFByb3BlcnR5KCJ1dWlkIix1LHRydWUpO3JldHVybiB0aGlzO307cmV0dXJuIGE7fSk7CnNhcC51aS5wcmVkZWZpbmUoJ3NhcC91c2hlbGwvdWkvbGF1bmNocGFkL0xpbmtUaWxlV3JhcHBlclJlbmRlcmVyJyxbInNhcC91c2hlbGwvcmVzb3VyY2VzIiwic2FwL20vVGV4dCIsInNhcC9iYXNlL0xvZyJdLGZ1bmN0aW9uKHIsVCxMKXsidXNlIHN0cmljdCI7dmFyIGE9e307YS5yZW5kZXI9ZnVuY3Rpb24oUixjKXt2YXIgdD1udWxsLGwscyxtPWMuZ2V0TW9kZWwoKTt0cnl7dD1jLmdldFRpbGVWaWV3cygpWzBdO31jYXRjaChlKXtMLndhcm5pbmcoIkZhaWxlZCB0byBsb2FkIHRpbGUgdmlldzogIixlLm1lc3NhZ2UpO3Q9bmV3IFQoe3RleHQ6ci5pMThuLmdldFRleHQoImNhbm5vdExvYWRUaWxlIil9KTt9Ui53cml0ZSgiPGRpdiIpO2lmKG0mJm0uZ2V0UHJvcGVydHkoIi9lbmFibGVIZWxwIikpe1Iud3JpdGVBdHRyaWJ1dGUoImRhdGEtaGVscC1pZCIsYy5nZXRUaWxlQ2F0YWxvZ0lkKCkpO31SLndyaXRlQ29udHJvbERhdGEoYyk7Ui5hZGRDbGFzcygic2FwVXNoZWxsTGlua1RpbGUiKTtpZighYy5nZXRWaXNpYmxlKCkpe1IuYWRkQ2xhc3MoInNhcFVzaGVsbEhpZGRlbiIpO31pZihjLmdldElzTG9ja2VkKCkpe1IuYWRkQ2xhc3MoInNhcFVzaGVsbExvY2tlZFRpbGUiKTt9Ui53cml0ZUNsYXNzZXMoKTtpZihjLmdldEllSHRtbDVEbkQoKSl7Ui53cml0ZUF0dHJpYnV0ZSgiZHJhZ2dhYmxlIiwidHJ1ZSIpO31SLndyaXRlQXR0cmlidXRlRXNjYXBlZCgidGFiaW5kZXgiLCItMSIpO2w9Yy5kYXRhKCJsYXlvdXRQb3NpdGlvbiIpO2lmKGwpe3M9Ii13ZWJraXQtdHJhbnNmb3JtOiIrbC50cmFuc2xhdGUzRCsiOy1tcy10cmFuc2Zvcm06IitsLnRyYW5zbGF0ZTJEKyI7dHJhbnNmb3JtOiIrbC50cmFuc2xhdGUzRDtSLndyaXRlQXR0cmlidXRlKCJzdHlsZSIscyk7fVIud3JpdGUoIj4iKTtpZih0aGlzLnJlbmRlclRpbGVWaWV3KXt0aGlzLnJlbmRlclRpbGVWaWV3KFIsdCxjLmdldFRhcmdldCgpKTt9Ui53cml0ZSgiPC9kaXY+Iik7fTthLnJlbmRlclRpbGVWaWV3PWZ1bmN0aW9uKFIsdCxzKXtSLndyaXRlKCI8ZGl2Iik7Ui5hZGRDbGFzcygic2FwVXNoZWxsVGlsZUlubmVyIik7Ui53cml0ZUNsYXNzZXMoKTtSLndyaXRlQXR0cmlidXRlKCJ0aXRsZSIsdCYmdC5nZXRUZXh0P3QuZ2V0VGV4dCgpOiIiKTtSLndyaXRlKCI+Iik7Ui5yZW5kZXJDb250cm9sKHQpO1Iud3JpdGUoIjwvZGl2PiIpO307cmV0dXJuIGE7fSx0cnVlKTsKc2FwLnVpLnByZWRlZmluZSgnc2FwL3VzaGVsbC91aS9sYXVuY2hwYWQvUGx1c1RpbGUnLFsnc2FwL3VzaGVsbC9saWJyYXJ5JywnLi9UaWxlJywnc2FwL3VpL2NvcmUvSWNvbicsJ3NhcC91c2hlbGwvcmVzb3VyY2VzJywnLi9QbHVzVGlsZVJlbmRlcmVyJ10sZnVuY3Rpb24obCxULEkscil7InVzZSBzdHJpY3QiO3ZhciBQPVQuZXh0ZW5kKCJzYXAudXNoZWxsLnVpLmxhdW5jaHBhZC5QbHVzVGlsZSIse21ldGFkYXRhOntsaWJyYXJ5OiJzYXAudXNoZWxsIixwcm9wZXJ0aWVzOntncm91cElkOnt0eXBlOiJzdHJpbmciLGdyb3VwOiJNaXNjIixkZWZhdWx0VmFsdWU6Jyd9LGVuYWJsZUhlbHA6e3R5cGU6ImJvb2xlYW4iLGdyb3VwOiJNaXNjIixkZWZhdWx0VmFsdWU6ZmFsc2V9fSxldmVudHM6e3ByZXNzOnt9fX19KTtQLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5vSWNvbj1uZXcgSSh7c3JjOidzYXAtaWNvbjovL2FkZCcsdG9vbHRpcDpyLmkxOG4uZ2V0VGV4dCgib3BlbkFwcEZpbmRlcl90b29sdGlwIil9KTt9O1AucHJvdG90eXBlLmV4aXQ9ZnVuY3Rpb24oKXtpZih0aGlzLm9JY29uKXt0aGlzLm9JY29uLmRlc3Ryb3koKTt9fTtQLnByb3RvdHlwZS5vbmNsaWNrPWZ1bmN0aW9uKCl7dmFyIGc9dGhpcy5nZXRQYXJlbnQoKS5nZXRCaW5kaW5nQ29udGV4dCgpLmdldE9iamVjdCgpO2lmKCFnLm9iamVjdCl7cmV0dXJuO310aGlzLmZpcmVQcmVzcygpO307UC5wcm90b3R5cGUub25zYXBzcGFjZT1mdW5jdGlvbigpe3RoaXMuZmlyZVByZXNzKCk7fTtQLnByb3RvdHlwZS5vbnNhcGVudGVyPWZ1bmN0aW9uKCl7dGhpcy5maXJlUHJlc3MoKTt9O1AucHJvdG90eXBlLnNldEdyb3VwSWQ9ZnVuY3Rpb24odil7dGhpcy5zZXRQcm9wZXJ0eSgiZ3JvdXBJZCIsdix0cnVlKTtyZXR1cm4gdGhpczt9O3JldHVybiBQO30pOwpzYXAudWkucHJlZGVmaW5lKCdzYXAvdXNoZWxsL3VpL2xhdW5jaHBhZC9QbHVzVGlsZVJlbmRlcmVyJyxbJ3NhcC91c2hlbGwvcmVzb3VyY2VzJywnc2FwL3VzaGVsbC9Db25maWcnXSxmdW5jdGlvbihyLEMpeyJ1c2Ugc3RyaWN0Ijt2YXIgUD17fTt2YXIgdD1yLmkxOG47UC5yZW5kZXI9ZnVuY3Rpb24oUixjKXtSLndyaXRlKCI8bGkiKTtSLndyaXRlQXR0cmlidXRlKCJ0YWJpbmRleCIsIi0xIik7Ui53cml0ZUNvbnRyb2xEYXRhKGMpO1IuYWRkQ2xhc3MoInNhcFVzaGVsbFRpbGUiKTtSLmFkZENsYXNzKCJzYXBVc2hlbGxQbHVzVGlsZSIpO2lmKEMubGFzdCgiL2NvcmUvaG9tZS9zaXplQmVoYXZpb3IiKT09PSJTbWFsbCIpe1IuYWRkQ2xhc3MoInNhcFVzaGVsbFNtYWxsIik7Ui5hZGRDbGFzcygic2FwVXNoZWxsUGx1c1RpbGVTbWFsbCIpO31pZihjLmdldEVuYWJsZUhlbHAoKSl7Ui5hZGRTdHlsZUNsYXNzKCJoZWxwLWlkLXBsdXNUaWxlIik7fVIuYWRkQ2xhc3MoInNhcENvbnRyYXN0UGx1cyIpO1IuYWRkQ2xhc3MoInNhcE1HVCIpO1Iud3JpdGVDbGFzc2VzKCk7Ui53cml0ZUFjY2Vzc2liaWxpdHlTdGF0ZShjLHtsYWJlbDp0LmdldFRleHQoIlRpbGVQbHVzX2xhYmVsIil9KTtSLndyaXRlKCI+Iik7Ui5yZW5kZXJDb250cm9sKGMub0ljb24pO1Iud3JpdGUoIjwvbGk+Iik7fTtyZXR1cm4gUDt9LHRydWUpOwpzYXAudWkucHJlZGVmaW5lKCdzYXAvdXNoZWxsL3VpL2xhdW5jaHBhZC9UaWxlJyxbInNhcC91aS90aGlyZHBhcnR5L2pxdWVyeSIsInNhcC91aS9iYXNlL01hbmFnZWRPYmplY3QiLCJzYXAvdWkvY29yZS9Db250cm9sIiwic2FwL3VpL2NvcmUvSWNvbiIsInNhcC91c2hlbGwvcmVzb3VyY2VzIiwic2FwL3VzaGVsbC91aS9sYXVuY2hwYWQvQWNjZXNzaWJpbGl0eUN1c3RvbURhdGEiLCJzYXAvYmFzZS9Mb2ciLCIuL1RpbGVSZW5kZXJlciJdLGZ1bmN0aW9uKHEsTSxDLEkscixBLEwpeyJ1c2Ugc3RyaWN0Ijt2YXIgVD1DLmV4dGVuZCgic2FwLnVzaGVsbC51aS5sYXVuY2hwYWQuVGlsZSIse21ldGFkYXRhOntsaWJyYXJ5OiJzYXAudXNoZWxsIixwcm9wZXJ0aWVzOntsb25nOnt0eXBlOiJib29sZWFuIixncm91cDoiTWlzYyIsZGVmYXVsdFZhbHVlOmZhbHNlfSx1dWlkOnt0eXBlOiJzdHJpbmciLGdyb3VwOiJNaXNjIixkZWZhdWx0VmFsdWU6bnVsbH0sdGlsZUNhdGFsb2dJZDp7dHlwZToic3RyaW5nIixncm91cDoiTWlzYyIsZGVmYXVsdFZhbHVlOm51bGx9LGlzQ3VzdG9tVGlsZTp7dHlwZToiYm9vbGVhbiIsZ3JvdXA6Ik1pc2MiLGRlZmF1bHRWYWx1ZTpmYWxzZX0sdGFyZ2V0Ont0eXBlOiJzdHJpbmciLGdyb3VwOiJNaXNjIixkZWZhdWx0VmFsdWU6bnVsbH0sZGVidWdJbmZvOnt0eXBlOiJzdHJpbmciLGdyb3VwOiJNaXNjIixkZWZhdWx0VmFsdWU6bnVsbH0scmdiYTp7dHlwZToic3RyaW5nIixncm91cDoiTWlzYyIsZGVmYXVsdFZhbHVlOm51bGx9LGFuaW1hdGlvblJlbmRlcmVkOnt0eXBlOiJib29sZWFuIixncm91cDoiTWlzYyIsZGVmYXVsdFZhbHVlOmZhbHNlfSxpc0xvY2tlZDp7dHlwZToiYm9vbGVhbiIsZ3JvdXA6Ik1pc2MiLGRlZmF1bHRWYWx1ZTpmYWxzZX0sc2hvd0FjdGlvbnNJY29uOnt0eXBlOiJib29sZWFuIixncm91cDoiTWlzYyIsZGVmYXVsdFZhbHVlOmZhbHNlfSx0aWxlQWN0aW9uTW9kZUFjdGl2ZTp7dHlwZToiYm9vbGVhbiIsZ3JvdXA6Ik1pc2MiLGRlZmF1bHRWYWx1ZTpmYWxzZX0saWVIdG1sNURuRDp7dHlwZToiYm9vbGVhbiIsZ3JvdXA6Ik1pc2MiLGRlZmF1bHRWYWx1ZTpmYWxzZX0sbmF2aWdhdGlvbk1vZGU6e3R5cGU6InN0cmluZyIsZ3JvdXA6Ik1pc2MiLGRlZmF1bHRWYWx1ZTpudWxsfSxpc0RyYWdnZWRJblRhYkJhclRvU291cmNlR3JvdXA6e3R5cGU6ImJvb2xlYW4iLGdyb3VwOiJNaXNjIixkZWZhdWx0VmFsdWU6ZmFsc2V9fSxhZ2dyZWdhdGlvbnM6e3RpbGVWaWV3czp7dHlwZToic2FwLnVpLmNvcmUuQ29udHJvbCIsbXVsdGlwbGU6dHJ1ZSxzaW5ndWxhck5hbWU6InRpbGVWaWV3In0scGluQnV0dG9uOnt0eXBlOiJzYXAudWkuY29yZS5Db250cm9sIixtdWx0aXBsZTp0cnVlLHNpbmd1bGFyTmFtZToicGluQnV0dG9uIn19LGV2ZW50czp7cHJlc3M6e30sY292ZXJEaXZQcmVzczp7fSxhZnRlclJlbmRlcmluZzp7fSxzaG93QWN0aW9uczp7fSxkZWxldGVQcmVzczp7fX19fSk7VC5wcm90b3R5cGUuZ2V0QWN0aW9uU2hlZXRJY29uPWZ1bmN0aW9uKCl7aWYoIXRoaXMuZ2V0VGlsZUFjdGlvbk1vZGVBY3RpdmUoKSl7cmV0dXJuIHVuZGVmaW5lZDt9aWYoIXRoaXMuYWN0aW9uU2hlZXRJY29uKXt0aGlzLmFjdGlvblNoZWV0SWNvbj1uZXcgSSh7c3JjOiJzYXAtaWNvbjovL292ZXJmbG93In0pO3RoaXMuYWN0aW9uU2hlZXRJY29uLnNldFRvb2x0aXAoci5pMThuLmdldFRleHQoImNvbmZpZ3VyYXRpb24uY2F0ZWdvcnkudGlsZV9hY3Rpb25zIikpO3RoaXMuYWN0aW9uU2hlZXRJY29uLmFkZFN0eWxlQ2xhc3MoInNhcFVzaGVsbFRpbGVBY3Rpb25JY29uRGl2Qm90dG9tSW5uZXIiKTt9cmV0dXJuIHRoaXMuYWN0aW9uU2hlZXRJY29uO307VC5wcm90b3R5cGUub250YXA9ZnVuY3Rpb24oKXtMLmluZm8oIlRpbGUgY2xpY2tlZDoiLHRoaXMuZ2V0RGVidWdJbmZvKCksInNhcC51c2hlbGwudWkubGF1bmNocGFkLlRpbGUiKTt0aGlzLmZpcmVQcmVzcygpO307VC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbihzKXt0aGlzLmRlc3Ryb3lUaWxlVmlld3MoKTtDLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyxzKTt9O1QucHJvdG90eXBlLmFkZFRpbGVWaWV3PWZ1bmN0aW9uKG8scyl7by5zZXRQYXJlbnQobnVsbCk7TS5wcm90b3R5cGUuYWRkQWdncmVnYXRpb24uY2FsbCh0aGlzLCJ0aWxlVmlld3MiLG8scyk7fTtULnByb3RvdHlwZS5kZXN0cm95VGlsZVZpZXdzPWZ1bmN0aW9uKCl7aWYodGhpcy5tQWdncmVnYXRpb25zLnRpbGVWaWV3cyl7dGhpcy5tQWdncmVnYXRpb25zLnRpbGVWaWV3cy5sZW5ndGg9MDt9fTtULnByb3RvdHlwZS5vbkJlZm9yZVJlbmRlcmluZz1mdW5jdGlvbigpe3ZhciBkPXRoaXMuZ2V0RG9tUmVmKCk7aWYoIWQpe3JldHVybjt9dmFyIGk9ZC5xdWVyeVNlbGVjdG9yKCJhLnNhcFVzaGVsbFRpbGVJbm5lciIpO2lmKGkpe2kub25jbGljaz1udWxsO319O1QucHJvdG90eXBlLm9uQWZ0ZXJSZW5kZXJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLmdldElzRHJhZ2dlZEluVGFiQmFyVG9Tb3VyY2VHcm91cCgpPT09dHJ1ZSl7dmFyIHQ9dGhpcy5nZXRQYXJlbnQoKTt0LnJlbW92ZUFnZ3JlZ2F0aW9uKCJ0aWxlcyIsdGhpcyxmYWxzZSk7fXRoaXMuX3JlZHJhd1JHQkEoKTt0aGlzLl9kaXNhYmxlSW5uZXJMaW5rKCk7dGhpcy5maXJlQWZ0ZXJSZW5kZXJpbmcoKTt9O1QucHJvdG90eXBlLl9kaXNhYmxlSW5uZXJMaW5rPWZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5nZXREb21SZWYoKTt2YXIgaT1kLnF1ZXJ5U2VsZWN0b3IoImEuc2FwVXNoZWxsVGlsZUlubmVyIik7aWYoaSl7aS5vbmNsaWNrPWZ1bmN0aW9uKGUpe2UucHJldmVudERlZmF1bHQoKTt9O319O1QucHJvdG90eXBlLl9sYXVuY2hUaWxlVmlhS2V5Ym9hcmQ9ZnVuY3Rpb24oZSl7aWYodGhpcy5nZXRUaWxlQWN0aW9uTW9kZUFjdGl2ZSgpKXt0aGlzLmZpcmVDb3ZlckRpdlByZXNzKHtpZDp0aGlzLmdldElkKCl9KTt9ZWxzZSBpZihlLnRhcmdldC50YWdOYW1lIT09IkJVVFRPTiIpe3ZhciB0PXRoaXMuZ2V0VGlsZVZpZXdzKClbMF0scD1mYWxzZSxjLG87aWYodC5maXJlUHJlc3Mpe3QuZmlyZVByZXNzKHtpZDp0aGlzLmdldElkKCl9KTt9ZWxzZSBpZih0LmdldENvbXBvbmVudEluc3RhbmNlKXtjPXQuZ2V0Q29tcG9uZW50SW5zdGFuY2UoKTtpZihjLl9vQ29udHJvbGxlciYmYy5fb0NvbnRyb2xsZXIub1ZpZXcuZ2V0Q29udGVudCgpKXtvPWMuX29Db250cm9sbGVyLm9WaWV3LmdldENvbnRlbnQoKVswXTtpZihvJiZvLmZpcmVQcmVzcyl7by5maXJlUHJlc3Moe2lkOnRoaXMuZ2V0SWQoKX0pO319fWVsc2V7d2hpbGUodC5nZXRDb250ZW50JiYhcCl7dD10LmdldENvbnRlbnQoKVswXTtpZih0LmZpcmVQcmVzcyl7dC5maXJlUHJlc3Moe2lkOnRoaXMuZ2V0SWQoKX0pO3A9dHJ1ZTt9fX19fTtULnByb3RvdHlwZS5vbnNhcGVudGVyPWZ1bmN0aW9uKGUpe3RoaXMuX2xhdW5jaFRpbGVWaWFLZXlib2FyZChlKTtpZighdGhpcy5nZXRUaWxlQWN0aW9uTW9kZUFjdGl2ZSgpKXt0aGlzLl9hbm5vdW5jZUxvYWRpbmdBcHBsaWNhdGlvbigpO319O1QucHJvdG90eXBlLm9uc2Fwc3BhY2U9ZnVuY3Rpb24oZSl7dGhpcy5fbGF1bmNoVGlsZVZpYUtleWJvYXJkKGUpO2lmKCF0aGlzLmdldFRpbGVBY3Rpb25Nb2RlQWN0aXZlKCkpe3RoaXMuX2Fubm91bmNlTG9hZGluZ0FwcGxpY2F0aW9uKCk7fX07VC5wcm90b3R5cGUub25mb2N1c2luPWZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5nZXREb21SZWYoKS5nZXRBdHRyaWJ1dGUoImNsYXNzIikscDtwPWM/Yy5pbmRleE9mKCJzYXBVc2hlbGxQbHVzVGlsZSIpIT09LTE6ZmFsc2U7aWYoIXApe3ZhciBqPXEodGhpcy5nZXREb21SZWYoKSkucHJldlVudGlsKCJoMyIpLGUscz0iIix0LG4sYTtpZihqLmxlbmd0aD4wKXtlPWpbai5sZW5ndGgtMV0ucHJldmlvdXNTaWJsaW5nO31lbHNle2U9dGhpcy5nZXREb21SZWYoKS5wcmV2aW91c1NpYmxpbmc7fWlmKGUpe3M9ZS5nZXRBdHRyaWJ1dGUoImlkIik7fWE9dGhpcy5nZXREb21SZWYoKS5xdWVyeVNlbGVjdG9yKCIuc2FwVXNoZWxsVGlsZUlubmVyIik7dmFyIGQ9dGhpcy5nZXREb21SZWYoKS5xdWVyeVNlbGVjdG9yKCIuc2FwVXNoZWxsVGlsZURlbGV0ZUNsaWNrQXJlYSAuc2FwVWlJY29uIik7dmFyIGI9ZD9kLmlkOiIiO2lmKGEmJmEuY2hpbGRyZW4mJmEuY2hpbGRyZW5bMF0pe3ZhciBmPShzJiZzIT09IiIpPyJzYXBVc2hlbGxDYXRhbG9nQWNjZXNzaWJpbGl0eVRpbGVUZXh0Ijoic2FwVXNoZWxsRGFzaGJvYXJkQWNjZXNzaWJpbGl0eVRpbGVUZXh0Ijt0PWEuY2hpbGRyZW5bMF0uZ2V0QXR0cmlidXRlKCJpZCIpO3ZhciBsPVtmLHQsYixzXTtuPXRoaXMuZ2V0SWQoKSsiX25hdmlnYXRpb25Nb2RlIjt2YXIgTj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChuKTtpZihOPT1udWxsKXt2YXIgZz10aGlzLmdldE5hdmlnYXRpb25Nb2RlKCk7aWYoZyl7Tj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTt2YXIgaT1kb2N1bWVudC5jcmVhdGVBdHRyaWJ1dGUoImlkIik7aS52YWx1ZT1uO04uc2V0QXR0cmlidXRlTm9kZShpKTtOLnN0eWxlLmRpc3BsYXk9Im5vbmUiO3ZhciBoPXIuaTE4bi5nZXRUZXh0KGcrIk5hdmlnYXRpb25Nb2RlIik7aWYoaCl7Ti5pbm5lckhUTUw9aDt9ZWxzZXtMLndhcm5pbmcoImNvdWxkIG5vdCBnZXQgdGhlIG5hdmlnYXRpb24gbW9kZSB0ZXh0IG9mIHRoaXMgdGlsZSB0byBiZSBhZGRlZCBvbiB0aGUgYXJpYS1sYWJlbGxlZEJieSBhdHRyaWJ1dGUiKTt9YS5hcHBlbmRDaGlsZChOKTtsLnNwbGljZSgxLDAsbik7fX1lbHNle2wuc3BsaWNlKDEsMCxuKTt9aWYodGhpcy5nZXRUaWxlQWN0aW9uTW9kZUFjdGl2ZSgpKXtsLnB1c2goInNhcFVzaGVsbERhc2hib2FyZEFjY2Vzc2liaWxpdHlUaWxlRWRpdE1vZGVUZXh0Iik7fXRoaXMuZ2V0RG9tUmVmKCkuc2V0QXR0cmlidXRlKCJhcmlhLWxhYmVsbGVkYnkiLGwuam9pbigiICIpKTt9fX07VC5wcm90b3R5cGUub25jbGljaz1mdW5jdGlvbihlKXtpZih0aGlzLmdldFRpbGVBY3Rpb25Nb2RlQWN0aXZlKCkpe3ZhciBzPWUub3JpZ2luYWxFdmVudC5zcmNFbGVtZW50O2lmKHEocykuY2xvc2VzdCgiLnNhcFVzaGVsbFRpbGVEZWxldGVDbGlja0FyZWEiKS5sZW5ndGg+MCl7dGhpcy5maXJlRGVsZXRlUHJlc3MoKTt9ZWxzZXt0aGlzLmZpcmVDb3ZlckRpdlByZXNzKHtpZDp0aGlzLmdldElkKCl9KTt9fWVsc2V7dGhpcy5fYW5ub3VuY2VMb2FkaW5nQXBwbGljYXRpb24oKTt9fTtULnByb3RvdHlwZS5fYW5ub3VuY2VMb2FkaW5nQXBwbGljYXRpb249ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCgic2FwVXNoZWxsTG9hZGluZ0FjY2Vzc2liaWxpdHlIZWxwZXItYXBwSW5mbyIpLGw9ci5pMThuLmdldFRleHQoInNjcmVlblJlYWRlck5hdmlnYXRpb25Mb2FkaW5nIik7aWYoYSl7YS5zZXRBdHRyaWJ1dGUoInJvbGUiLCJhbGVydCIpO2EuaW5uZXJIVE1MPWw7c2V0VGltZW91dChmdW5jdGlvbigpe2EucmVtb3ZlQXR0cmlidXRlKCJyb2xlIik7YS5pbm5lckhUTUw9IiI7fSwwKTt9fTtULnByb3RvdHlwZS5faW5pdERlbGV0ZUFjdGlvbj1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoIXRoaXMuZGVsZXRlSWNvbil7dGhpcy5kZWxldGVJY29uPW5ldyBJKHtzcmM6InNhcC1pY29uOi8vZGVjbGluZSIsdG9vbHRpcDpyLmkxOG4uZ2V0VGV4dCgicmVtb3ZlQnV0dG9uVEl0bGUiKX0pO3RoaXMuZGVsZXRlSWNvbi5hZGRFdmVudERlbGVnYXRlKHtvbmNsaWNrOmZ1bmN0aW9uKGUpe3QuZmlyZURlbGV0ZVByZXNzKCk7ZS5zdG9wUHJvcGFnYXRpb24oKTt9fSk7dGhpcy5kZWxldGVJY29uLmFkZFN0eWxlQ2xhc3MoInNhcFVzaGVsbFRpbGVEZWxldGVJY29uSW5uZXJDbGFzcyIpO3RoaXMuZGVsZXRlSWNvbi5hZGRDdXN0b21EYXRhKG5ldyBBKHtrZXk6ImFyaWEtbGFiZWwiLHZhbHVlOnIuaTE4bi5nZXRUZXh0KCJyZW1vdmVCdXR0b25MYWJlbCIpLHdyaXRlVG9Eb206dHJ1ZX0pKTt9cmV0dXJuIHRoaXMuZGVsZXRlSWNvbjt9O1QucHJvdG90eXBlLnNldFNob3dBY3Rpb25zSWNvbj1mdW5jdGlvbihzKXt2YXIgdD10aGlzLGk7aWYocyl7aT1uZXcgSSh7c2l6ZToiMXJlbSIsc3JjOiJzYXAtaWNvbjovL292ZXJmbG93IixwcmVzczpmdW5jdGlvbihlKXt0LmZpcmVTaG93QWN0aW9ucygpO3QuYWRkU3R5bGVDbGFzcygic2hvd1RpbGVBY3Rpb25zSWNvbiIpO3ZhciBFPXNhcC51aS5nZXRDb3JlKCkuZ2V0RXZlbnRCdXMoKSxhPWZ1bmN0aW9uKG4sYixjKXtjLnJlbW92ZVN0eWxlQ2xhc3MoInNob3dUaWxlQWN0aW9uc0ljb24iKTtFLnVuc3Vic2NyaWJlKCJkYXNoYm9hcmQiLCJhY3Rpb25TaGVldENsb3NlIixhKTt9O0Uuc3Vic2NyaWJlKCJkYXNoYm9hcmQiLCJhY3Rpb25TaGVldENsb3NlIixhKTt9fSk7aS5hZGRTdHlsZUNsYXNzKCJzYXBVc2hlbGxUaWxlQWN0aW9uc0ljb25DbGFzcyIpO3RoaXMuYWN0aW9uSWNvbj1pO31lbHNlIGlmKHRoaXMuYWN0aW9uSWNvbil7dGhpcy5hY3Rpb25JY29uLmRlc3Ryb3kodHJ1ZSk7fXRoaXMuc2V0UHJvcGVydHkoInNob3dBY3Rpb25zSWNvbiIscyk7fTtULnByb3RvdHlwZS5zZXRJc0RyYWdnZWRJblRhYkJhclRvU291cmNlR3JvdXA9ZnVuY3Rpb24oZCl7dGhpcy5zZXRQcm9wZXJ0eSgiaXNEcmFnZ2VkSW5UYWJCYXJUb1NvdXJjZUdyb3VwIixkLHRydWUpO3RoaXMuc2V0VmlzaWJsZSghZCk7fTtULnByb3RvdHlwZS5zZXRWaXNpYmxlPWZ1bmN0aW9uKHYpe3RoaXMuc2V0UHJvcGVydHkoInZpc2libGUiLHYsdHJ1ZSk7cmV0dXJuIHRoaXMudG9nZ2xlU3R5bGVDbGFzcygic2FwVXNoZWxsSGlkZGVuIiwhdik7fTtULnByb3RvdHlwZS5zZXRUYXJnZXQ9ZnVuY3Rpb24odil7dGhpcy5zZXRQcm9wZXJ0eSgidGFyZ2V0Iix2LHRydWUpO3RoaXMuJCgpLmZpbmQoIi5zYXBVc2hlbGxUaWxlSW5uZXIiKS5hdHRyKCJocmVmIix2KTt9O1QucHJvdG90eXBlLnNldFJnYmE9ZnVuY3Rpb24odil7dGhpcy5zZXRQcm9wZXJ0eSgicmdiYSIsdix0cnVlKTt0aGlzLl9yZWRyYXdSR0JBKGFyZ3VtZW50cyk7fTtULnByb3RvdHlwZS5zZXRBbmltYXRpb25SZW5kZXJlZD1mdW5jdGlvbih2KXt0aGlzLnNldFByb3BlcnR5KCJhbmltYXRpb25SZW5kZXJlZCIsdix0cnVlKTt9O1QucHJvdG90eXBlLnNldE5hdmlnYXRpb25Nb2RlPWZ1bmN0aW9uKHYpe3RoaXMuc2V0UHJvcGVydHkoIm5hdmlnYXRpb25Nb2RlIix2LHRydWUpO307VC5wcm90b3R5cGUuX2hhbmRsZVRpbGVTaGFkb3c9ZnVuY3Rpb24oail7aWYoai5sZW5ndGgpe2oudW5iaW5kKCJtb3VzZWVudGVyIG1vdXNlbGVhdmUiKTt2YXIgdSx0PWouY3NzKCJib3JkZXIiKS5zcGxpdCgicHgiKVswXSxtPXRoaXMuZ2V0TW9kZWwoKTtpZih0PjApe3U9ai5jc3MoImJvcmRlci1jb2xvciIpO31lbHNle3U9dGhpcy5nZXRSZ2JhKCk7fWouaG92ZXIoZnVuY3Rpb24oKXtpZighbS5nZXRQcm9wZXJ0eSgiL3RpbGVBY3Rpb25Nb2RlQWN0aXZlIikpe3ZhciBvPXEoaikuY3NzKCJib3gtc2hhZG93Iikscz1vP28uc3BsaXQoIikgIilbMV06bnVsbCxVO2lmKHMpe1U9cysiICIrdTtxKHRoaXMpLmNzcygiYm94LXNoYWRvdyIsVSk7fX19LGZ1bmN0aW9uKCl7cSh0aGlzKS5jc3MoImJveC1zaGFkb3ciLCIiKTt9KTt9fTtULnByb3RvdHlwZS5fcmVkcmF3UkdCQT1mdW5jdGlvbihhKXt2YXIgUj10aGlzLmdldFJnYmEoKSxqO2lmKFIpe2o9cShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmdldElkKCkpKTtpZighail7cmV0dXJuO31pZighdGhpcy5nZXRNb2RlbCgpLmdldFByb3BlcnR5KCIvYW5pbWF0aW9uUmVuZGVyZWQiKSl7ai5jc3MoInRyYW5zaXRpb24iLCJiYWNrZ3JvdW5kLWNvbG9yIDJzIik7ai5jc3MoImJhY2tncm91bmQtY29sb3IiLFIpO31lbHNle2ouY3NzKCJiYWNrZ3JvdW5kLWNvbG9yIixSKTt9dGhpcy5faGFuZGxlVGlsZVNoYWRvdyhqLGEpO319O1QucHJvdG90eXBlLnNldExvbmc9ZnVuY3Rpb24obCl7dGhpcy5zZXRQcm9wZXJ0eSgibG9uZyIsbCx0cnVlKTtyZXR1cm4gdGhpcy50b2dnbGVTdHlsZUNsYXNzKCJzYXBVc2hlbGxMb25nIiwhIWwpO307VC5wcm90b3R5cGUuc2V0VXVpZD1mdW5jdGlvbih1KXt0aGlzLnNldFByb3BlcnR5KCJ1dWlkIix1LHRydWUpO3JldHVybiB0aGlzO307cmV0dXJuIFQ7fSk7CnNhcC51aS5wcmVkZWZpbmUoJ3NhcC91c2hlbGwvdWkvbGF1bmNocGFkL1RpbGVDb250YWluZXInLFsic2FwL3VpL3RoaXJkcGFydHkvanF1ZXJ5Iiwic2FwL3VpL2Jhc2UvTWFuYWdlZE9iamVjdCIsInNhcC91aS9jb3JlL0NvbnRyb2wiLCJzYXAvbS9saWJyYXJ5Iiwic2FwL3VpL2NvcmUvSWNvbiIsInNhcC9tL1RleHQiLCJzYXAvdXNoZWxsL292ZXJyaWRlIiwic2FwL3VzaGVsbC9yZXNvdXJjZXMiLCJzYXAvdXNoZWxsL3VpL2xhdW5jaHBhZC9QbHVzVGlsZSIsInNhcC9iYXNlL0xvZyIsInNhcC91c2hlbGwvdXRpbHMiLCJzYXAvdWkvRGV2aWNlIiwic2FwL3VzaGVsbC91aS9sYXVuY2hwYWQvVGlsZUNvbnRhaW5lclJlbmRlcmVyIl0sZnVuY3Rpb24ocSxNLEMsYSxJLFQsbyxyLFAsTCx1LEQpeyJ1c2Ugc3RyaWN0Ijt2YXIgSD1hLkhlYWRlckxldmVsO3ZhciBiPUMuZXh0ZW5kKCJzYXAudXNoZWxsLnVpLmxhdW5jaHBhZC5UaWxlQ29udGFpbmVyIix7bWV0YWRhdGE6e2xpYnJhcnk6InNhcC51c2hlbGwiLHByb3BlcnRpZXM6e3Njcm9sbFR5cGU6e3R5cGU6InN0cmluZyIsZ3JvdXA6Ik1pc2MiLGRlZmF1bHRWYWx1ZToiaXRlbSJ9LGFuaW1hdGlvblNwZWVkOnt0eXBlOiJpbnQiLGdyb3VwOiJNaXNjIixkZWZhdWx0VmFsdWU6NTAwfSxncm91cElkOnt0eXBlOiJzdHJpbmciLGdyb3VwOiJNaXNjIixkZWZhdWx0VmFsdWU6bnVsbH0sc2hvd0hlYWRlcjp7dHlwZToiYm9vbGVhbiIsZ3JvdXA6Ik1pc2MiLGRlZmF1bHRWYWx1ZTp0cnVlfSxzaG93UGxhY2Vob2xkZXI6e3R5cGU6ImJvb2xlYW4iLGdyb3VwOiJNaXNjIixkZWZhdWx0VmFsdWU6dHJ1ZX0sZGVmYXVsdEdyb3VwOnt0eXBlOiJib29sZWFuIixncm91cDoiTWlzYyIsZGVmYXVsdFZhbHVlOmZhbHNlfSxpc0xhc3RHcm91cDp7dHlwZToiYm9vbGVhbiIsZ3JvdXA6Ik1pc2MiLGRlZmF1bHRWYWx1ZTpmYWxzZX0saGVhZGVyVGV4dDp7dHlwZToic3RyaW5nIixncm91cDoiTWlzYyIsZGVmYXVsdFZhbHVlOm51bGx9LGhlYWRlckxldmVsOnt0eXBlOiJzYXAubS5IZWFkZXJMZXZlbCIsZ3JvdXA6Ik1pc2MiLGRlZmF1bHRWYWx1ZTpILkgyfSxncm91cEhlYWRlckxldmVsOnt0eXBlOiJzYXAubS5IZWFkZXJMZXZlbCIsZ3JvdXA6Ik1pc2MiLGRlZmF1bHRWYWx1ZTpILkg0fSxzaG93R3JvdXBIZWFkZXI6e3R5cGU6ImJvb2xlYW4iLGdyb3VwOiJNaXNjIixkZWZhdWx0VmFsdWU6dHJ1ZX0saG9tZVBhZ2VHcm91cERpc3BsYXk6e3R5cGU6InN0cmluZyIsZGVmYXVsdFZhbHVlOm51bGx9LHZpc2libGU6e3R5cGU6ImJvb2xlYW4iLGdyb3VwOiJNaXNjIixkZWZhdWx0VmFsdWU6dHJ1ZX0sc29ydGFibGU6e3R5cGU6ImJvb2xlYW4iLGdyb3VwOiJNaXNjIixkZWZhdWx0VmFsdWU6dHJ1ZX0sc2hvd05vRGF0YTp7dHlwZToiYm9vbGVhbiIsZ3JvdXA6Ik1pc2MiLGRlZmF1bHRWYWx1ZTpmYWxzZX0sbm9EYXRhVGV4dDp7dHlwZToic3RyaW5nIixncm91cDoiTWlzYyIsZGVmYXVsdFZhbHVlOm51bGx9LGlzR3JvdXBMb2NrZWQ6e3R5cGU6ImJvb2xlYW4iLGdyb3VwOiJNaXNjIixkZWZhdWx0VmFsdWU6bnVsbH0saXNHcm91cFNlbGVjdGVkOnt0eXBlOiJib29sZWFuIixncm91cDoiTWlzYyIsZGVmYXVsdFZhbHVlOmZhbHNlfSxlZGl0TW9kZTp7dHlwZToiYm9vbGVhbiIsZ3JvdXA6Ik1pc2MiLGRlZmF1bHRWYWx1ZTpmYWxzZX0sc2hvd0JhY2tncm91bmQ6e3R5cGU6ImJvb2xlYW4iLGdyb3VwOiJNaXNjIixkZWZhdWx0VmFsdWU6ZmFsc2V9LGljb246e3R5cGU6InN0cmluZyIsZ3JvdXA6Ik1pc2MiLGRlZmF1bHRWYWx1ZToic2FwLWljb246Ly9sb2NrZWQifSxzaG93SWNvbjp7dHlwZToiYm9vbGVhbiIsZ3JvdXA6Ik1pc2MiLGRlZmF1bHRWYWx1ZTpmYWxzZX0sZGVsdW1pbmF0ZTp7dHlwZToiYm9vbGVhbiIsZ3JvdXA6Ik1pc2MiLGRlZmF1bHRWYWx1ZTpmYWxzZX0sc2hvd01vYmlsZUFjdGlvbnM6e3R5cGU6ImJvb2xlYW4iLGdyb3VwOiJNaXNjIixkZWZhdWx0VmFsdWU6ZmFsc2V9LGVuYWJsZUhlbHA6e3R5cGU6ImJvb2xlYW4iLGdyb3VwOiJNaXNjIixkZWZhdWx0VmFsdWU6ZmFsc2V9LHRpbGVBY3Rpb25Nb2RlQWN0aXZlOnt0eXBlOiJib29sZWFuIixncm91cDoiTWlzYyIsZGVmYXVsdFZhbHVlOmZhbHNlfSxpZUh0bWw1RG5EOnt0eXBlOiJib29sZWFuIixncm91cDoiTWlzYyIsZGVmYXVsdFZhbHVlOmZhbHNlfSxzaG93RW1wdHlMaW5rc0FyZWE6e3R5cGU6ImJvb2xlYW4iLGdyb3VwOiJNaXNjIixkZWZhdWx0VmFsdWU6ZmFsc2V9LHNob3dFbXB0eUxpbmtzQXJlYVBsYWNlSG9sZGVyOnt0eXBlOiJib29sZWFuIixncm91cDoiTWlzYyIsZGVmYXVsdFZhbHVlOmZhbHNlfSxoaWRkZW46e3R5cGU6ImJvb2xlYW4iLGdyb3VwOiJNaXNjIixkZWZhdWx0VmFsdWU6ZmFsc2V9LHRyYW5zZm9ybWF0aW9uRXJyb3I6e3R5cGU6ImJvb2xlYW4iLGdyb3VwOiJNaXNjIixkZWZhdWx0VmFsdWU6ZmFsc2V9LHN1cHBvcnRMaW5rUGVyc29uYWxpemF0aW9uOnt0eXBlOiJib29sZWFuIixncm91cDoiTWlzYyIsZGVmYXVsdFZhbHVlOmZhbHNlfX0sYWdncmVnYXRpb25zOnt0aWxlczp7dHlwZToic2FwLnVpLmNvcmUuQ29udHJvbCIsbXVsdGlwbGU6dHJ1ZSxzaW5ndWxhck5hbWU6InRpbGUifSxsaW5rczp7dHlwZToic2FwLnVpLmNvcmUuQ29udHJvbCIsbXVsdGlwbGU6dHJ1ZSxzaW5ndWxhck5hbWU6ImxpbmsifSxiZWZvcmVDb250ZW50Ont0eXBlOiJzYXAudWkuY29yZS5Db250cm9sIixtdWx0aXBsZTp0cnVlLHNpbmd1bGFyTmFtZToiYmVmb3JlQ29udGVudCJ9LGFmdGVyQ29udGVudDp7dHlwZToic2FwLnVpLmNvcmUuQ29udHJvbCIsbXVsdGlwbGU6dHJ1ZSxzaW5ndWxhck5hbWU6ImFmdGVyQ29udGVudCJ9LGZvb3RlckNvbnRlbnQ6e3R5cGU6InNhcC51aS5jb3JlLkNvbnRyb2wiLG11bHRpcGxlOnRydWUsc2luZ3VsYXJOYW1lOiJmb290ZXJDb250ZW50In0saGVhZGVyQWN0aW9uczp7dHlwZToic2FwLnVpLmNvcmUuQ29udHJvbCIsbXVsdGlwbGU6dHJ1ZSxzaW5ndWxhck5hbWU6ImhlYWRlckFjdGlvbiJ9fSxldmVudHM6e2FmdGVyUmVuZGVyaW5nOnt9LGFkZDp7fSx0aXRsZUNoYW5nZTp7fX19fSk7Yi5wcm90b3R5cGUuaW5pdD1mdW5jdGlvbigpe3RoaXMuYklzRmlyc3RUaXRsZUNoYW5nZT10cnVlO3RoaXMuX3NEZWZhdWx0VmFsdWU9ci5pMThuLmdldFRleHQoIm5ld19ncm91cF9uYW1lIik7dGhpcy5fc09sZFRpdGxlPSIiO3RoaXMub05vTGlua3NUZXh0PW5ldyBUKHt0ZXh0OnIuaTE4bi5nZXRUZXh0KCJlbXB0eUxpbmtDb250YWluZXJJbkVkaXRNb2RlIil9KS5hZGRTdHlsZUNsYXNzKCJzYXBVc2hlbGxOb0xpbmtzQXJlYVByZXNlbnRUZXh0SW5uZXIiKTt0aGlzLm9UcmFuc2Zvcm1hdGlvbkVycm9yVGV4dD1uZXcgVCh7dGV4dDpyLmkxOG4uZ2V0VGV4dCgidHJhbnNmb3JtYXRpb25FcnJvclRleHQiKX0pLmFkZFN0eWxlQ2xhc3MoInNhcFVzaGVsbFRyYW5zZm9ybWF0aW9uRXJyb3JUZXh0Iik7dGhpcy5vVHJhbnNmb3JtYXRpb25FcnJvckljb249bmV3IEkoe3NyYzoic2FwLWljb246Ly9tZXNzYWdlLWVycm9yIn0pLmFkZFN0eWxlQ2xhc3MoInNhcFVzaGVsbFRyYW5zZm9ybWF0aW9uRXJyb3JJY29uIik7dGhpcy5vSWNvbj1uZXcgSSh7c3JjOnRoaXMuZ2V0SWNvbigpfSk7dGhpcy5vSWNvbi5hZGRTdHlsZUNsYXNzKCJzYXBVc2hlbGxDb250YWluZXJJY29uIik7dGhpcy5vUGx1c1RpbGU9bmV3IFAoe2dyb3VwSWQ6dGhpcy5nZXRHcm91cElkKCksZW5hYmxlSGVscDp0aGlzLmdldEVuYWJsZUhlbHAoKSxwcmVzczpbdGhpcy5maXJlQWRkLHRoaXNdfSk7dGhpcy5vUGx1c1RpbGUuc2V0UGFyZW50KHRoaXMpO2lmKHNhcC51c2hlbGwuQ29udGFpbmVyIT09dW5kZWZpbmVkKXtpZihzYXAudXNoZWxsLkNvbnRhaW5lci5nZXRTZXJ2aWNlKCJMYXVuY2hQYWdlIikuaXNMaW5rUGVyc29uYWxpemF0aW9uU3VwcG9ydGVkKCkpe2IucHJvdG90eXBlLmlzTGlua1BlcnNvbmFsaXphdGlvbk92ZXJpZGUoKTt9fX07Yi5wcm90b3R5cGUub25BZnRlclJlbmRlcmluZz1mdW5jdGlvbigpe3ZhciB0PXdpbmRvdy5kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmdldElkKCkrIi10aXRsZVRleHQiKTtpZih0KXt0LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixmdW5jdGlvbigpe3ZhciBFPXRoaXMuZ2V0TW9kZWwoKSYmdGhpcy5nZXRNb2RlbCgpLmdldFByb3BlcnR5KCIvZW5hYmxlUmVuYW1lTG9ja2VkR3JvdXAiKSxkPShFfHwhdGhpcy5nZXRJc0dyb3VwTG9ja2VkKCkpJiYhdGhpcy5nZXREZWZhdWx0R3JvdXAoKSYmdGhpcy5nZXRUaWxlQWN0aW9uTW9kZUFjdGl2ZSgpO3RoaXMuc2V0RWRpdE1vZGUoZCk7fS5iaW5kKHRoaXMpKTt9dmFyIGM9dGhpcy5nZXRUaWxlcygpLmZpbHRlcihmdW5jdGlvbihkKXtyZXR1cm4gZC5pc0EoInNhcC51aS5pbnRlZ3JhdGlvbi53aWRnZXRzLkNhcmQiKTt9KTt0aGlzLl9yZXNpemVDYXJkcyhjKTt2YXIgZT1zYXAudWkuZ2V0Q29yZSgpLmdldEV2ZW50QnVzKCk7ZS5wdWJsaXNoKCJsYXVuY2hwYWQiLCJHcm91cEhlYWRlclZpc2liaWxpdHkiLHtncm91cDp0aGlzfSk7dGhpcy5maXJlQWZ0ZXJSZW5kZXJpbmcoKTt9O2IucHJvdG90eXBlLmdldFRyYW5zZm9ybWF0aW9uRXJyb3JUZXh0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub1RyYW5zZm9ybWF0aW9uRXJyb3JUZXh0O307Yi5wcm90b3R5cGUuZ2V0VHJhbnNmb3JtYXRpb25FcnJvckljb249ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vVHJhbnNmb3JtYXRpb25FcnJvckljb247fTtiLnByb3RvdHlwZS5nZXROb0xpbmtzVGV4dD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm9Ob0xpbmtzVGV4dDt9O2IucHJvdG90eXBlLnNldFRyYW5zZm9ybWF0aW9uRXJyb3I9ZnVuY3Rpb24odCl7dGhpcy5zZXRQcm9wZXJ0eSgidHJhbnNmb3JtYXRpb25FcnJvciIsdCx0cnVlKTtpZih0KXt0aGlzLiQoKS5maW5kKCIuc2FwVXNoZWxsVHJhbnNmb3JtYXRpb25FcnJvciIpLnNob3coKTt9ZWxzZXt0aGlzLiQoKS5maW5kKCIuc2FwVXNoZWxsVHJhbnNmb3JtYXRpb25FcnJvciIpLmhpZGUoKTt9dGhpcy4kKCkuZmluZCgiLnNhcFVzaGVsbE5vTGlua3NBcmVhUHJlc2VudCIpLnRvZ2dsZUNsYXNzKCJzYXBVc2hlbGxOb0xpbmtzQXJlYVByZXNlbnRFcnJvciIsdCk7cmV0dXJuIHRoaXM7fTtiLnByb3RvdHlwZS51cGRhdGVBZ2dyZWdhdGlvbj1vLnVwZGF0ZUFnZ3JlZ2F0aW9uO2IucHJvdG90eXBlLnNldE5vRGF0YVRleHQ9ZnVuY3Rpb24obil7dGhpcy5zZXRQcm9wZXJ0eSgibm9EYXRhVGV4dCIsbix0cnVlKTtpZih0aGlzLmdldFNob3dOb0RhdGEoKSl7dGhpcy4kKCkuZmluZCgiLnNhcFVzaGVsbE5vRmlsdGVyZWRJdGVtcyIpLnRleHQobik7fXJldHVybiB0aGlzO307Yi5wcm90b3R5cGUuc2V0R3JvdXBJZD1mdW5jdGlvbih2KXt0aGlzLnNldFByb3BlcnR5KCJncm91cElkIix2LHRydWUpO2lmKHRoaXMub1BsdXNUaWxlKXt0aGlzLm9QbHVzVGlsZS5zZXRHcm91cElkKHYpO31yZXR1cm4gdGhpczt9O2IucHJvdG90eXBlLnNldEhlYWRlclRleHQ9ZnVuY3Rpb24oaCl7dGhpcy5zZXRQcm9wZXJ0eSgiaGVhZGVyVGV4dCIsaCx0cnVlKTt0aGlzLiQoKS5maW5kKCIuc2FwVXNoZWxsQ29udGFpbmVyVGl0bGUiKS50ZXh0KGgpO3JldHVybiB0aGlzO307Yi5wcm90b3R5cGUuc2V0VmlzaWJsZT1mdW5jdGlvbih2KXt0aGlzLnNldFByb3BlcnR5KCJ2aXNpYmxlIix2LHRydWUpO3RoaXMudG9nZ2xlU3R5bGVDbGFzcygic2FwVXNoZWxsSGlkZGVuIiwhdik7cmV0dXJuIHRoaXM7fTtiLnByb3RvdHlwZS5zZXRTaG93TW9iaWxlQWN0aW9ucz1mdW5jdGlvbihzKXt2YXIgUz10cnVlO2lmKHRoaXMub0hlYWRlckJ1dHRvbil7dGhpcy5vSGVhZGVyQnV0dG9uLnNldFZpc2libGUocyk7fWVsc2UgaWYocyl7Uz1mYWxzZTt9dGhpcy5zZXRQcm9wZXJ0eSgic2hvd01vYmlsZUFjdGlvbnMiLHMsUyk7fTtiLnByb3RvdHlwZS5zZXRTaG93SWNvbj1mdW5jdGlvbihzKXt0aGlzLnNldFByb3BlcnR5KCJzaG93SWNvbiIscyx0cnVlKTt0aGlzLiQoKS5maW5kKCIuc2FwVXNoZWxsQ29udGFpbmVySWNvbiIpLnRvZ2dsZUNsYXNzKCJzYXBVc2hlbGxDb250YWluZXJJY29uSGlkZGVuIiwhcyk7fTtiLnByb3RvdHlwZS5zZXREZWx1bWluYXRlPWZ1bmN0aW9uKGQpe3RoaXMuc2V0UHJvcGVydHkoImRlbHVtaW5hdGUiLGQsdHJ1ZSk7dGhpcy50b2dnbGVTdHlsZUNsYXNzKCJzYXBVc2hlbGxEaXNhYmxlTG9ja2VkR3JvdXBEdXJpbmdEcmFnIixkKTtyZXR1cm4gdGhpczt9O2IucHJvdG90eXBlLnNldEhpZGRlbj1mdW5jdGlvbihoKXt0aGlzLnNldFByb3BlcnR5KCJoaWRkZW4iLCEhaCx0cnVlKTt0aGlzLnRvZ2dsZVN0eWxlQ2xhc3MoInNhcFVzaGVsbFRpbGVDb250YWluZXJFZGl0TW9kZUhpZGRlbiIsISFoKTtyZXR1cm4gdGhpczt9O2IucHJvdG90eXBlLmdyb3VwSGFzVGlsZXM9ZnVuY3Rpb24oKXt2YXIgcD0iIix0PXRoaXMuZ2V0VGlsZXMoKSxsPVtdO2lmKHRoaXMuZ2V0QmluZGluZ0NvbnRleHQoKSl7cD10aGlzLmdldEJpbmRpbmdDb250ZXh0KCkuc1BhdGg7dD10aGlzLmdldE1vZGVsKCkuZ2V0UHJvcGVydHkocCkudGlsZXM7fXJldHVybiB1Lmdyb3VwSGFzVmlzaWJsZVRpbGVzKHQsbCk7fTtiLnByb3RvdHlwZS5nZXRJbm5lckNvbnRhaW5lckRvbVJlZj1mdW5jdGlvbigpe3JldHVybiB0aGlzLiQoKS5maW5kKCIuc2FwVXNoZWxsVGlsZXNDb250YWluZXItc29ydGFibGUiKVswXTt9O2IucHJvdG90eXBlLmdldElubmVyQ29udGFpbmVyc0RvbVJlZnM9ZnVuY3Rpb24oKXt2YXIgZD10aGlzLmdldERvbVJlZigpO2lmKCFkKXtyZXR1cm4gbnVsbDt9cmV0dXJuW2QucXVlcnlTZWxlY3RvcigiLnNhcFVzaGVsbFRpbGVzQ29udGFpbmVyLXNvcnRhYmxlIiksZC5xdWVyeVNlbGVjdG9yKCIuc2FwVXNoZWxsTGluZU1vZGVDb250YWluZXIiKV07fTtiLnByb3RvdHlwZS5zZXRFZGl0TW9kZT1mdW5jdGlvbih2KXtpZih2KXt0aGlzLmFkZFN0eWxlQ2xhc3MoInNhcFVzaGVsbEVkaXRpbmciKTt0aGlzLl9zdGFydEVkaXQoKTt9ZWxzZXt0aGlzLnNldFByb3BlcnR5KCJlZGl0TW9kZSIsdixmYWxzZSk7dGhpcy5yZW1vdmVTdHlsZUNsYXNzKCJzYXBVc2hlbGxFZGl0aW5nIik7fX07Yi5wcm90b3R5cGUuaXNMaW5rUGVyc29uYWxpemF0aW9uT3ZlcmlkZT1mdW5jdGlvbigpe2IucHJvdG90eXBlLnVwZGF0ZUxpbmtzPWZ1bmN0aW9uKFIpe3ZhciBnPXRoaXMuZ2V0UGFyZW50KCksdD1nJiZnLmdldERpc3BsYXlNb2RlJiZnLmdldERpc3BsYXlNb2RlKCk9PT0idGFicyI7aWYodCYmIXRoaXMuZ2V0VGlsZUFjdGlvbk1vZGVBY3RpdmUoKSl7Zy5yZW1vdmVMaW5rc0Zyb21VbnNlbGVjdGVkR3JvdXBzKCk7fWlmKHRoaXMuZ2V0TGlua3MoKS5sZW5ndGg+MCl7dGhpcy5yZW1vdmVBbGxMaW5rcygpO31NLnByb3RvdHlwZS51cGRhdGVBZ2dyZWdhdGlvbi5jYWxsKHRoaXMsImxpbmtzIik7fTtiLnByb3RvdHlwZS5kZXN0cm95TGlua3M9ZnVuY3Rpb24oUil7TC5kZWJ1ZygibGluayBpcyBkZXN0cm95ZWQgYmVjYXVzZTogIitSLG51bGwsInNhcC51c2hlbGwudWkubGF1bmNocGFkLlRpbGVDb250YWluZXIiKTt9O307Yi5wcm90b3R5cGUuc2V0U2hvd0VtcHR5TGlua3NBcmVhPWZ1bmN0aW9uKHYpe3RoaXMuc2V0UHJvcGVydHkoInNob3dFbXB0eUxpbmtzQXJlYSIsdix0cnVlKTt0aGlzLnRvZ2dsZVN0eWxlQ2xhc3MoInNhcFVzaGVsbExpbmtzQXJlYUhpZGRlbiIsIXYpO307Yi5wcm90b3R5cGUuc2V0U2hvd0VtcHR5TGlua3NBcmVhUGxhY2VIb2xkZXI9ZnVuY3Rpb24odil7dGhpcy5zZXRQcm9wZXJ0eSgic2hvd0VtcHR5TGlua3NBcmVhIix2LHRydWUpO3RoaXMudG9nZ2xlU3R5bGVDbGFzcygic2FwVXNoZWxsVGlsZUNvbnRhaW5lckVkaXRNb2RlIix2KTt0aGlzLnRvZ2dsZVN0eWxlQ2xhc3MoInNhcFVzaGVsbFRpbGVDb250YWluZXJUYWJzTW9kZUVtcHR5TGlua3NBcmVhIix2KTt0aGlzLnRvZ2dsZVN0eWxlQ2xhc3MoInNhcFVzaGVsbEVtcHR5TGlua3NBcmVhUGxhY2VIb2xkZXIiLCF2KTt9O2IucHJvdG90eXBlLl9yZXNpemVDYXJkcz1mdW5jdGlvbihjKXt2YXIgZCxtLHM9NS4zNSx0PTAuNSxlLGYsZyxoO2Zvcih2YXIgaT0wO2k8Yy5sZW5ndGg7aSsrKXtkPWNbaV07bT1kLmdldE1hbmlmZXN0KCk7ZT1tWyJzYXAuZmxwIl0ucm93cztmPW1bInNhcC5mbHAiXS5jb2x1bW5zO2c9ZipzKyhmLTEpKnQrInJlbSI7aD1lKnMrKGUtMSkqdCsicmVtIjtkLnNldEhlaWdodChoKTtkLnNldFdpZHRoKGcpO319O2IucHJvdG90eXBlLl9zdGFydEVkaXQ9ZnVuY3Rpb24oKXt2YXIgdD10aGlzO2lmKHRoaXMuZ2V0TW9kZWwoKSYmIXRoaXMuZ2V0TW9kZWwoKS5nZXRQcm9wZXJ0eSgiL2VkaXRUaXRsZSIpKXt0aGlzLmdldE1vZGVsKCkuc2V0UHJvcGVydHkoIi9lZGl0VGl0bGUiLHRydWUsZmFsc2UpO31pZighdGhpcy5vRWRpdElucHV0RmllbGQpe3NhcC51aS5yZXF1aXJlKFsic2FwL20vSW5wdXQiXSxmdW5jdGlvbihjKXt0LnNldFByb3BlcnR5KCJlZGl0TW9kZSIsdHJ1ZSxmYWxzZSk7dC5vRWRpdElucHV0RmllbGQ9bmV3IGMoe3BsYWNlaG9sZGVyOnQuX3NEZWZhdWx0VmFsdWUsdmFsdWU6dC5nZXRIZWFkZXJUZXh0KCl9KS5hZGRTdHlsZUNsYXNzKCJzYXBVc2hlbGxUaWxlQ29udGFpbmVyVGl0bGVJbnB1dCIpO3Qub0VkaXRJbnB1dEZpZWxkLmFkZEV2ZW50RGVsZWdhdGUoe29uQWZ0ZXJSZW5kZXJpbmc6ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYodC5vRWRpdElucHV0RmllbGQuJCgpLmlzKCI6dmlzaWJsZSIpKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5vRWRpdElucHV0RmllbGQuJCgpLmZpbmQoImlucHV0IikuZm9jdXMoKTt9LDEwMCk7dmFyIHc9cSh3aW5kb3cpLmhlaWdodCgpLGo9dC5nZXREb21SZWYoKSxnPWoub2Zmc2V0SGVpZ2h0LGQ9ai5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AsZT1qLm9mZnNldFRvcDtpZihnK2Q+dyl7cSgiLnNhcFVzaGVsbERhc2hib2FyZFZpZXcgc2VjdGlvbiIpLnN0b3AoKS5hbmltYXRlKHtzY3JvbGxUb3A6ZX0sMCk7fX19LDEwMCk7fSxvbmZvY3Vzb3V0OmZ1bmN0aW9uKCl7dC5fc3RvcEVkaXQoKTtxLnByb3h5KHQuc2V0RWRpdE1vZGUsdCxmYWxzZSkoKTt9LG9uc2FwZW50ZXI6ZnVuY3Rpb24oZSl7dC5fc3RvcEVkaXQoKTtxLnByb3h5KHQuc2V0RWRpdE1vZGUsdCxmYWxzZSkoKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dmFyIGQ9ZS5zcmNDb250cm9sLGo9ZC4kKCkucHJldigpO2ouZm9jdXMoKTt9LDApO319KTt0Lm9FZGl0SW5wdXRGaWVsZC5zZXRWYWx1ZSh0LmdldEhlYWRlclRleHQoKSk7fSk7fWVsc2V7dGhpcy5vRWRpdElucHV0RmllbGQuc2V0VmFsdWUodGhpcy5nZXRIZWFkZXJUZXh0KCkpO3Quc2V0UHJvcGVydHkoImVkaXRNb2RlIix0cnVlLGZhbHNlKTt9dGhpcy5fc09sZFRpdGxlPXRoaXMuX3NEZWZhdWx0VmFsdWU7aWYoRC5zeXN0ZW0ucGhvbmUpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt2YXIgZT1zYXAudWkuZ2V0Q29yZSgpLmdldEV2ZW50QnVzKCk7ZS5wdWJsaXNoKCJsYXVuY2hwYWQiLCJzY3JvbGxUb0dyb3VwIix7Z3JvdXA6dCxncm91cENoYW5nZWQ6ZmFsc2UsZm9jdXM6ZmFsc2V9KTt9LDEwMCk7fX07Yi5wcm90b3R5cGUuX3N0b3BFZGl0PWZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5nZXRIZWFkZXJUZXh0KCk7dmFyIG49dGhpcy5vRWRpdElucHV0RmllbGQuZ2V0VmFsdWUoKSxoO249bi5zdWJzdHJpbmcoMCwyNTYpLnRyaW0oKXx8dGhpcy5fc0RlZmF1bHRWYWx1ZTtoPW4hPT1jO2lmKHRoaXMuYklzRmlyc3RUaXRsZUNoYW5nZSYmbj09PXRoaXMub0VkaXRJbnB1dEZpZWxkLmdldFBsYWNlaG9sZGVyKCkpe2g9dHJ1ZTt9dGhpcy5iSXNGaXJzdFRpdGxlQ2hhbmdlPWZhbHNlO2lmKHRoaXMuZ2V0TW9kZWwoKSYmdGhpcy5nZXRNb2RlbCgpLmdldFByb3BlcnR5KCIvZWRpdFRpdGxlIikpe3RoaXMuZ2V0TW9kZWwoKS5zZXRQcm9wZXJ0eSgiL2VkaXRUaXRsZSIsZmFsc2UsZmFsc2UpO31pZighdGhpcy5fc09sZFRpdGxlKXt0aGlzLl9zT2xkVGl0bGU9Yzt0aGlzLnNldEhlYWRlclRleHQoYyk7fWVsc2UgaWYoaCl7dGhpcy5maXJlVGl0bGVDaGFuZ2Uoe25ld1RpdGxlOm59KTt0aGlzLnNldEhlYWRlclRleHQobik7fX07Yi5wcm90b3R5cGUuZXhpdD1mdW5jdGlvbigpe2lmKHRoaXMub1BsdXNUaWxlKXt0aGlzLm9QbHVzVGlsZS5kZXN0cm95KCk7fWlmKHRoaXMub0hlYWRlckJ1dHRvbil7dGhpcy5vSGVhZGVyQnV0dG9uLmRlc3Ryb3koKTt9aWYodGhpcy5vQWN0aW9uU2hlZXQpe3RoaXMub0FjdGlvblNoZWV0LmRlc3Ryb3koKTt9aWYoQy5wcm90b3R5cGUuZXhpdCl7Qy5wcm90b3R5cGUuZXhpdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7fX07cmV0dXJuIGI7fSk7CnNhcC51aS5wcmVkZWZpbmUoJ3NhcC91c2hlbGwvdWkvbGF1bmNocGFkL1RpbGVDb250YWluZXJSZW5kZXJlcicsWyJzYXAvdXNoZWxsL3Jlc291cmNlcyIsInNhcC91c2hlbGwvdXRpbHMiLCJzYXAvdXNoZWxsL2Jvb3RzdHJhcC9jb21tb24vY29tbW9uLmxvYWQubW9kZWwiLCJzYXAvdXNoZWxsL0NvbmZpZyIsInNhcC91c2hlbGwvdWkvbGF1bmNocGFkL0FjY2Vzc2liaWxpdHlDdXN0b21EYXRhIiwic2FwL3VpL2NvcmUvQ3VzdG9tRGF0YSJdLGZ1bmN0aW9uKHIsdSxtLEMsQSxhKXsidXNlIHN0cmljdCI7dmFyIFQ9e307VC5vTW9kZWw9bS5nZXRNb2RlbCgpO1QucmVuZGVyPWZ1bmN0aW9uKFIsYyl7dmFyIGg9Yy5nZXRIZWFkZXJBY3Rpb25zKCksYj1jLmdldEJlZm9yZUNvbnRlbnQoKSxkPWMuZ2V0QWZ0ZXJDb250ZW50KCksZj1jLmdldEZvb3RlckNvbnRlbnQoKXx8W10sZSxsPWMuZ2V0TGlua3MoKSx0PXRoaXM7Ui53cml0ZSgiPGRpdiIpO1Iud3JpdGVDb250cm9sRGF0YShjKTtSLmFkZENsYXNzKCJzYXBVc2hlbGxUaWxlQ29udGFpbmVyIik7Ui53cml0ZUNsYXNzZXMoKTtSLndyaXRlKCI+Iik7aWYoYi5sZW5ndGgmJmMuZ2V0VGlsZUFjdGlvbk1vZGVBY3RpdmUoKSl7Ui53cml0ZSgiPGRpdiIpO1IuYWRkQ2xhc3MoInNhcFVzaGVsbFRpbGVDb250YWluZXJCZWZvcmVDb250ZW50Iik7Ui5hZGRDbGFzcygic2FwQ29udHJhc3RQbHVzIik7Ui53cml0ZUNsYXNzZXMoKTtSLndyaXRlKCI+Iik7Yi5mb3JFYWNoKGZ1bmN0aW9uKGMpe1IucmVuZGVyQ29udHJvbChjKTt9KTtSLndyaXRlKCI8L2Rpdj4iKTt9Ui53cml0ZSgiPGRpdiIpO1IuYWRkQ2xhc3MoInNhcFVzaGVsbFRpbGVDb250YWluZXJDb250ZW50Iik7aWYoYy5nZXRJc0dyb3VwTG9ja2VkKCkpe1IuYWRkQ2xhc3MoInNhcFVzaGVsbFRpbGVDb250YWluZXJMb2NrZWQiKTt9aWYoYy5nZXREZWZhdWx0R3JvdXAoKSl7Ui5hZGRDbGFzcygic2FwVXNoZWxsVGlsZUNvbnRhaW5lckRlZmF1bHQiKTt9aWYoYy5nZXRTaG93QmFja2dyb3VuZCgpKXtSLmFkZENsYXNzKCJzYXBVc2hlbGxUaWxlQ29udGFpbmVyRWRpdE1vZGUiKTt9Ui53cml0ZUNsYXNzZXMoKTtSLndyaXRlQXR0cmlidXRlKCJ0YWJpbmRleCIsIi0xIik7Ui53cml0ZSgiPiIpO2lmKGMuZ2V0U2hvd0JhY2tncm91bmQoKSl7Ui53cml0ZSgiPGRpdiIpO1IuYWRkQ2xhc3MoInNhcFVzaGVsbEdyb3VwQmFja2dyb3VuZENvbnRhaW5lciBzYXBDb250cmFzdFBsdXMiKTtSLndyaXRlQ2xhc3NlcygpO1Iud3JpdGUoIj4iKTtSLndyaXRlKCI8L2Rpdj4iKTt9aWYoYy5nZXRTaG93SGVhZGVyKCkpe1Iud3JpdGUoIjxkaXYiKTtSLmFkZENsYXNzKCJzYXBVc2hlbGxUaWxlQ29udGFpbmVySGVhZGVyIHNhcENvbnRyYXN0UGx1cyIpO2lmKCFjLmdldFNob3dHcm91cEhlYWRlcigpfHwoYy5nZXRIb21lUGFnZUdyb3VwRGlzcGxheSgpPT09InRhYnMiJiYhYy5nZXRUaWxlQWN0aW9uTW9kZUFjdGl2ZSgpKSl7Ui5hZGRDbGFzcygic2FwVXNoZWxsRmlyc3RHcm91cEhlYWRlckhpZGRlbiBzYXBVaVBzZXVkb0ludmlzaWJsZVRleHQiKTt9Ui53cml0ZUF0dHJpYnV0ZSgiaWQiLGMuZ2V0SWQoKSsiLWdyb3VwaGVhZGVyIik7Ui53cml0ZUNsYXNzZXMoKTtpZihjLmdldEllSHRtbDVEbkQoKSYmIWMuZ2V0SXNHcm91cExvY2tlZCgpJiYhYy5nZXREZWZhdWx0R3JvdXAoKSYmYy5nZXRUaWxlQWN0aW9uTW9kZUFjdGl2ZSgpKXtSLndyaXRlQXR0cmlidXRlKCJkcmFnZ2FibGUiLCJ0cnVlIik7fXZhciBzO2lmKGMuZ2V0RGVmYXVsdEdyb3VwKCkpe3M9ci5pMThuLmdldFRleHQoImFyaWFMYWJlbEVkaXRNb2RlR3JvdXBEZWZhdWx0IixjLmdldEhlYWRlclRleHQoKSk7fWVsc2UgaWYoYy5nZXRJc0dyb3VwTG9ja2VkKCkpe3M9ci5pMThuLmdldFRleHQoImFyaWFMYWJlbEVkaXRNb2RlR3JvdXBMb2NrZWQiLGMuZ2V0SGVhZGVyVGV4dCgpKTt9ZWxzZXtzPXIuaTE4bi5nZXRUZXh0KCJhcmlhTGFiZWxFZGl0TW9kZUdyb3VwIixjLmdldEhlYWRlclRleHQoKSk7fVIud3JpdGVBY2Nlc3NpYmlsaXR5U3RhdGUoYyx7bGFiZWw6c30pO1Iud3JpdGUoIj4iKTtSLndyaXRlKCI8ZGl2Iik7Ui53cml0ZUF0dHJpYnV0ZSgiaWQiLGMuZ2V0SWQoKSsiLXRpdGxlIik7Ui53cml0ZSgiPiIpO1Iud3JpdGUoIjwiKTtSLndyaXRlKGMuZ2V0SGVhZGVyTGV2ZWwoKS50b0xvd2VyQ2FzZSgpKTtSLmFkZENsYXNzKCJzYXBVc2hlbGxDb250YWluZXJUaXRsZSIpO1Iud3JpdGVDbGFzc2VzKCk7Ui53cml0ZUF0dHJpYnV0ZUVzY2FwZWQoInRpdGxlIixjLmdldEhlYWRlclRleHQoKSk7Ui53cml0ZUF0dHJpYnV0ZSgiaWQiLGMuZ2V0SWQoKSsiLXRpdGxlVGV4dCIpO1Iud3JpdGVBdHRyaWJ1dGUoImRhdGEtcm9sZSIsImdyb3VwIik7Ui53cml0ZSgiPiIpO1Iud3JpdGVFc2NhcGVkKGMuZ2V0SGVhZGVyVGV4dCgpKTtSLndyaXRlKCI8LyIpO1Iud3JpdGUoYy5nZXRIZWFkZXJMZXZlbCgpLnRvTG93ZXJDYXNlKCkpO1Iud3JpdGVBdHRyaWJ1dGUoImlkIixjLmdldElkKCkrIi1ncm91cGhlYWRlciIpO1Iud3JpdGUoIj4iKTtpZihjLmdldFNob3dJY29uKCkpe2Mub0ljb24ucmVtb3ZlU3R5bGVDbGFzcygic2FwVXNoZWxsQ29udGFpbmVySWNvbkhpZGRlbiIpO31lbHNle2Mub0ljb24uYWRkU3R5bGVDbGFzcygic2FwVXNoZWxsQ29udGFpbmVySWNvbkhpZGRlbiIpO31SLnJlbmRlckNvbnRyb2woYy5vSWNvbik7Ui5yZW5kZXJDb250cm9sKGMub0VkaXRJbnB1dEZpZWxkKTtSLndyaXRlKCI8ZGl2Iik7Ui5hZGRDbGFzcygic2FwVXNoZWxsQ29udGFpbmVySGVhZGVyQWN0aW9ucyIpO1Iud3JpdGVDbGFzc2VzKCk7Ui53cml0ZSgiPiIpO2guZm9yRWFjaChmdW5jdGlvbihjKXtSLnJlbmRlckNvbnRyb2woYyk7fSk7Ui53cml0ZSgiPC9kaXY+Iik7Ui53cml0ZSgiPC9kaXY+Iik7Ui53cml0ZSgiPC9kaXY+Iik7fVIud3JpdGUoIjx1bCIpO2U9Yy5kYXRhKCJjb250YWluZXJIZWlnaHQiKTtpZihlKXtSLndyaXRlQXR0cmlidXRlKCJzdHlsZSIsImhlaWdodDoiK2UpO31SLmFkZENsYXNzKCJzYXBVc2hlbGxUaWxlc0NvbnRhaW5lci1zb3J0YWJsZSIpO1IuYWRkQ2xhc3MoInNhcFVzaGVsbElubmVyIik7Ui53cml0ZUNsYXNzZXMoKTtSLndyaXRlQWNjZXNzaWJpbGl0eVN0YXRlKGMse3JvbGU6Imxpc3Rib3gifSk7Ui53cml0ZSgiPiIpO3ZhciB2PVtdO2MuZ2V0VGlsZXMoKS5mb3JFYWNoKGZ1bmN0aW9uKG8pe2lmKG8uZ2V0VmlzaWJsZSgpKXt2LnB1c2gobyk7fX0pO3YuZm9yRWFjaChmdW5jdGlvbihvLHApe28uYWRkQ3VzdG9tRGF0YShuZXcgQSh7a2V5OiJhcmlhLXBvc2luc2V0Iix2YWx1ZToocCsxKS50b1N0cmluZygpLHdyaXRlVG9Eb206dHJ1ZX0pKTtvLmFkZEN1c3RvbURhdGEobmV3IEEoe2tleToiYXJpYS1zZXRzaXplIix2YWx1ZTp2Lmxlbmd0aC50b1N0cmluZygpLHdyaXRlVG9Eb206dHJ1ZX0pKTtpZih0Ll9pc1VzZXJBY3Rpdml0eUNhcmQobykpe3QuX3VwZGF0ZVVzZXJBY3Rpdml0eUNhcmRWaXNpYmlsaXR5KG8pO31SLnJlbmRlckNvbnRyb2wobyk7fSk7aWYoYy5nZXRTaG93UGxhY2Vob2xkZXIoKSl7Ui5yZW5kZXJDb250cm9sKGMub1BsdXNUaWxlKTt9aWYoYy5nZXRTaG93Tm9EYXRhKCkpe3RoaXMucmVuZGVyTm9EYXRhKFIsYywhdi5sZW5ndGgpO31SLndyaXRlKCI8L3VsPiIpO3ZhciBMPWMuZ2V0U3VwcG9ydExpbmtQZXJzb25hbGl6YXRpb24oKTtpZihsLmxlbmd0aD4wfHxMKXtpZihjLmdldFNob3dCYWNrZ3JvdW5kKCkmJiEoYy5nZXRJc0dyb3VwTG9ja2VkKCkmJiF2Lmxlbmd0aCkpe1Iud3JpdGUoIjxkaXYiKTtSLmFkZENsYXNzKCJzYXBVc2hlbGxUaWxlc0NvbnRhaW5lclNlcGFyYXRvciIpO1Iud3JpdGVDbGFzc2VzKCk7Ui53cml0ZSgiPiIpO1Iud3JpdGUoIjwvZGl2PiIpO31SLndyaXRlKCI8ZGl2IGFyaWEtaGlkZGVuPSd0cnVlJyIpO3ZhciBnPUw/InNhcFVzaGVsbExpbmVNb2RlQ29udGFpbmVyIjoic2FwVXNoZWxsTGlua3NDb250YWluZXIiO1IuYWRkQ2xhc3MoZyk7aWYoIWwubGVuZ3RoJiZMKXtSLmFkZENsYXNzKCJzYXBVc2hlbGxOb0xpbmtzQXJlYVByZXNlbnQiKTtSLndyaXRlQ2xhc3NlcygpO1Iud3JpdGUoIj4iKTtSLndyaXRlKCI8ZGl2Iik7Ui5hZGRDbGFzcygic2FwVXNoZWxsTm9MaW5rc0FyZWFQcmVzZW50VGV4dCIpO1Iud3JpdGVDbGFzc2VzKCk7Ui53cml0ZSgiPiIpO1IucmVuZGVyQ29udHJvbChjLmdldE5vTGlua3NUZXh0KCkpO1Iud3JpdGUoIjwvZGl2PiIpO31lbHNle1Iud3JpdGVDbGFzc2VzKCk7Ui53cml0ZSgiPiIpO31pZihMKXtSLndyaXRlKCI8ZGl2Iik7Ui5hZGRDbGFzcygic2FwVXNoZWxsVHJhbnNmb3JtYXRpb25FcnJvciIpO1Iud3JpdGVDbGFzc2VzKCk7aWYoIWMudHJhbnNmb3JtYXRpb25FcnJvcil7Ui53cml0ZUF0dHJpYnV0ZSgic3R5bGUiLCJkaXNwbGF5OiBub25lOyIpO31SLndyaXRlKCI+Iik7Ui53cml0ZSgiPGRpdiIpO1IuYWRkQ2xhc3MoInNhcFVzaGVsbFRyYW5zZm9ybWF0aW9uRXJyb3JJbm5lcldyYXBwZXIiKTtSLndyaXRlQ2xhc3NlcygpO1Iud3JpdGUoIj4iKTtSLnJlbmRlckNvbnRyb2woYy5nZXRUcmFuc2Zvcm1hdGlvbkVycm9ySWNvbigpKTtSLnJlbmRlckNvbnRyb2woYy5nZXRUcmFuc2Zvcm1hdGlvbkVycm9yVGV4dCgpKTtSLndyaXRlKCI8L2Rpdj4iKTtSLndyaXRlKCI8L2Rpdj4iKTt9aWYoTCl7Ui53cml0ZSgiPGRpdiBjbGFzcz0nc2FwVXNoZWxsTGlua3NJbm5lckNvbnRhaW5lcic+Iik7fWwubWFwKGZ1bmN0aW9uKGksaixsKXtpZihMKXt2YXIgaz1uZXcgQSh7a2V5OiJ0YWJpbmRleCIsdmFsdWU6Ii0xIix3cml0ZVRvRG9tOnRydWV9KTtpLmdldEN1c3RvbURhdGEoKS5tYXAoZnVuY3Rpb24obil7aWYobi5nZXRLZXkoKT09InRhYmluZGV4IiYmbi5nZXRWYWx1ZSgiMCIpKXtrPW47fWkucmVtb3ZlQ3VzdG9tRGF0YShuKTt9KTtpLmFkZEN1c3RvbURhdGEobmV3IEEoe2tleToiYXJpYS1wb3NpbnNldCIsdmFsdWU6KGorMSkudG9TdHJpbmcoKSx3cml0ZVRvRG9tOnRydWV9KSk7aS5hZGRDdXN0b21EYXRhKG5ldyBBKHtrZXk6ImFyaWEtc2V0c2l6ZSIsdmFsdWU6bC5sZW5ndGgudG9TdHJpbmcoKSx3cml0ZVRvRG9tOnRydWV9KSk7aS5hZGRDdXN0b21EYXRhKGspO2lmKGkuZ2V0TW9kZWwoKSYmaS5nZXRNb2RlbCgpLmdldFByb3BlcnR5KCIvZW5hYmxlSGVscCIpKXtpLmFkZEN1c3RvbURhdGEobmV3IGEoe2tleToiaGVscC1pZCIsdmFsdWU6aS5nZXRCaW5kaW5nQ29udGV4dCgpJiZpLmdldEJpbmRpbmdDb250ZXh0KCkuZ2V0UHJvcGVydHkoInRpbGVDYXRhbG9nSWQiKSx3cml0ZVRvRG9tOnRydWV9KSk7fWkuYWRkU3R5bGVDbGFzcygic2FwVXNoZWxsTGlua1RpbGUiKTtpZihjLmdldElzR3JvdXBMb2NrZWQoKSl7aS5hZGRTdHlsZUNsYXNzKCJzYXBVc2hlbGxMb2NrZWRUaWxlIik7fX1SLnJlbmRlckNvbnRyb2woaSk7fSk7aWYoTCl7Ui53cml0ZSgiPC9kaXY+Iik7fVIud3JpdGUoIjwvZGl2PiIpO31pZihmLmxlbmd0aD4wKXtSLndyaXRlKCI8Zm9vdGVyIik7Ui5hZGRDbGFzcygic2FwVXNoZWxsVGlsZXNDb250YWluZXJGdHIiKTtSLndyaXRlQ2xhc3NlcygpO1Iud3JpdGUoIj4iKTtmLmZvckVhY2goZnVuY3Rpb24oYyl7Ui5yZW5kZXJDb250cm9sKGMpO30pO1Iud3JpdGUoIjwvZm9vdGVyPiIpO31SLndyaXRlKCI8L2Rpdj4iKTtpZihkLmxlbmd0aCYmYy5nZXRUaWxlQWN0aW9uTW9kZUFjdGl2ZSgpKXtSLndyaXRlKCI8ZGl2Iik7Ui5hZGRDbGFzcygic2FwVXNoZWxsVGlsZUNvbnRhaW5lckFmdGVyQ29udGVudCIpO1IuYWRkQ2xhc3MoInNhcENvbnRyYXN0UGx1cyAiKTtSLndyaXRlQ2xhc3NlcygpO1Iud3JpdGUoIj4iKTtkLmZvckVhY2goZnVuY3Rpb24oYyl7Ui5yZW5kZXJDb250cm9sKGMpO30pO1Iud3JpdGUoIjwvZGl2PiIpO31SLndyaXRlKCI8L2Rpdj4iKTt1LnNldFBlcmZvcm1hbmNlTWFyaygiRkxQIC0tIHRpbGUgY29udGFpbmVyIHJlbmRlcmVyIik7fTtULnJlbmRlck5vRGF0YT1mdW5jdGlvbihSLGMsZCl7Ui53cml0ZSgiPGRpdiBpZD0nIitjLmdldElkKCkrIi1saXN0Tm9EYXRhJyBjbGFzcz0nc2FwVXNoZWxsTm9GaWx0ZXJlZEl0ZW1zIHNhcFVpU3Ryb25nQmFja2dyb3VuZFRleHRDb2xvcic+Iik7aWYoZCl7aWYoYy5nZXROb0RhdGFUZXh0KCkpe1Iud3JpdGVFc2NhcGVkKGMuZ2V0Tm9EYXRhVGV4dCgpKTt9ZWxzZXtSLndyaXRlRXNjYXBlZChjLmdldE5vRGF0YVRleHQoci5pMThuLmdldFRleHQoIm5vRmlsdGVyZWRJdGVtcyIpKSk7fX1lbHNle1Iud3JpdGVFc2NhcGVkKCIiKTt9Ui53cml0ZSgiPC9kaXY+Iik7fTtULl9pc1VzZXJBY3Rpdml0eUNhcmQ9ZnVuY3Rpb24oYyl7aWYodHlwZW9mIGMuZ2V0TWFuaWZlc3QhPT0iZnVuY3Rpb24iKXtyZXR1cm4gZmFsc2U7fXZhciBNPWMuZ2V0TWFuaWZlc3QoKTt2YXIgcz1NJiZNWyJzYXAuY2FyZCJdJiZNWyJzYXAuY2FyZCJdLmhlYWRlciYmTVsic2FwLmNhcmQiXS5oZWFkZXIudGl0bGU7cmV0dXJuIHM9PT1yLmkxOG4uZ2V0VGV4dCgicmVjZW50QWN0aXZpdGllcyIpfHxzPT09ci5pMThuLmdldFRleHQoImZyZXF1ZW50QWN0aXZpdGllcyIpO307VC5fdXBkYXRlVXNlckFjdGl2aXR5Q2FyZFZpc2liaWxpdHk9ZnVuY3Rpb24oYyl7Yy5zZXRWaXNpYmxlKEMubGFzdCgiL2NvcmUvc2hlbGwvbW9kZWwvZW5hYmxlVHJhY2tpbmdBY3Rpdml0eSIpKTtDLm9uKCIvY29yZS9zaGVsbC9tb2RlbC9lbmFibGVUcmFja2luZ0FjdGl2aXR5IikuZG8oZnVuY3Rpb24oZSl7Yy5zZXRWaXNpYmxlKGUpO30pO307cmV0dXJuIFQ7fSx0cnVlKTsKc2FwLnVpLnByZWRlZmluZSgnc2FwL3VzaGVsbC91aS9sYXVuY2hwYWQvVGlsZVJlbmRlcmVyJyxbInNhcC91c2hlbGwvQ29uZmlnIiwic2FwL2Jhc2UvTG9nIiwic2FwL20vVGV4dCJdLGZ1bmN0aW9uKEMsTCxUKXsidXNlIHN0cmljdCI7dmFyIGE9e307YS5yZW5kZXI9ZnVuY3Rpb24ocixjKXt2YXIgdD1udWxsLGIscD1jLmdldFBpbkJ1dHRvbigpO3A9cC5sZW5ndGg/cFswXTp1bmRlZmluZWQ7dHJ5e3Q9Yy5nZXRUaWxlVmlld3MoKVswXTt9Y2F0Y2goZSl7TC53YXJuaW5nKCJGYWlsZWQgdG8gbG9hZCB0aWxlIHZpZXc6ICIsZS5tZXNzYWdlKTt0PW5ldyBUKHt0ZXh0OiJGYWlsZWQgdG8gbG9hZC4gIn0pO312YXIgbz1DLmxhc3QoIi9jb3JlL2hvbWUvZ3JpZENvbnRhaW5lciIpJiZjLmdldFBhcmVudCgpLmdldFBhcmVudCgpfHxjLmdldFBhcmVudCgpLGQ9byYmby5nZXRUaWxlcz9vLmdldFRpbGVzKCk6W10sdj1kLmZpbHRlcihmdW5jdGlvbihnKXtyZXR1cm4gZy5nZXRWaXNpYmxlKCk7fSksaT12LmluZGV4T2YoYyk+LTE/di5pbmRleE9mKGMpKzE6IiI7aWYoIW8pe3JldHVybjt9ci53cml0ZSgiPGxpIik7aWYoQy5sYXN0KCIvY29yZS9zaGVsbC9tb2RlbC9lbmFibGVIZWxwIikpe3Iud3JpdGVBdHRyaWJ1dGUoImRhdGEtaGVscC1pZCIsYy5nZXRUaWxlQ2F0YWxvZ0lkKCkpO31yLndyaXRlQ29udHJvbERhdGEoYyk7ci5hZGRDbGFzcygic2FwVXNoZWxsVGlsZSIpO2lmKGMuZ2V0VGlsZUFjdGlvbk1vZGVBY3RpdmUoKSl7ci5hZGRDbGFzcygic2FwVXNoZWxsVGlsZVdyYXBwZXIiKTt9aWYodCYmdC5nZXRDb250ZW50KXtiPXQuZ2V0Q29udGVudCgpO2IuZm9yRWFjaChmdW5jdGlvbihJKXtpZihJLmlzQSgic2FwLnN1aXRlLnVpLmNvbW1vbnMuRmVlZFRpbGUiKSl7ci5hZGRDbGFzcygic2FwVXNoZWxsRmVlZFRpbGVCRyIpO319KTt9aWYoYy5nZXRMb25nKCkpe3IuYWRkQ2xhc3MoInNhcFVzaGVsbExvbmciKTt9aWYoIWMuZ2V0VmlzaWJsZSgpKXtyLmFkZENsYXNzKCJzYXBVc2hlbGxIaWRkZW4iKTt9aWYoYy5nZXRJc0xvY2tlZCgpKXtyLmFkZENsYXNzKCJzYXBVc2hlbGxMb2NrZWRUaWxlIik7fWlmKEMubGFzdCgiL2NvcmUvaG9tZS9zaXplQmVoYXZpb3IiKT09PSJTbWFsbCIpe3IuYWRkQ2xhc3MoInNhcFVzaGVsbFNtYWxsIik7fXIud3JpdGVDbGFzc2VzKCk7ci53cml0ZUFjY2Vzc2liaWxpdHlTdGF0ZShjLHtyb2xlOiJvcHRpb24iLHBvc2luc2V0Omksc2V0c2l6ZTp2Lmxlbmd0aH0pO3ZhciBmPW8uZ2V0SWQoKSsiLXRpdGxlVGV4dCI7ci53cml0ZUF0dHJpYnV0ZSgiYXJpYS1kZXNjcmliZWRieSIsZik7aWYoYy5nZXRJZUh0bWw1RG5EKCkpe3Iud3JpdGVBdHRyaWJ1dGUoImRyYWdnYWJsZSIsInRydWUiKTt9ci53cml0ZUF0dHJpYnV0ZUVzY2FwZWQoInRhYmluZGV4IiwiLTEiKTt2YXIgbD1jLmRhdGEoImxheW91dFBvc2l0aW9uIik7aWYobCl7dmFyIHM9Ii13ZWJraXQtdHJhbnNmb3JtOiIrbC50cmFuc2xhdGUzRCsiOy1tcy10cmFuc2Zvcm06IitsLnRyYW5zbGF0ZTJEKyI7dHJhbnNmb3JtOiIrbC50cmFuc2xhdGUzRDtyLndyaXRlQXR0cmlidXRlKCJzdHlsZSIscyk7fXIud3JpdGUoIj4iKTtpZighYy5nZXRUaWxlQWN0aW9uTW9kZUFjdGl2ZSgpKXtyLndyaXRlKCI8ZGl2Iik7ci5hZGRDbGFzcygic2FwVXNoZWxsVGlsZVdyYXBwZXIiKTtyLndyaXRlQ2xhc3NlcygpO3Iud3JpdGUoIj4iKTt9dGhpcy5yZW5kZXJUaWxlQWN0aW9uTW9kZShyLGMpO3IuYWRkQ2xhc3MoInNhcFVzaGVsbFRpbGVJbm5lciIpO2lmKGMuZ2V0UHJvcGVydHkoInRpbGVBY3Rpb25Nb2RlQWN0aXZlIikpe3IuYWRkQ2xhc3MoInNhcFVzaGVsbFRpbGVBY3Rpb25CRyIpO31pZih0aGlzLnJlbmRlclRpbGVWaWV3KXt0aGlzLnJlbmRlclRpbGVWaWV3KHIsdCxwLGMuZ2V0VGFyZ2V0KCksYy5nZXRJc0N1c3RvbVRpbGUoKSk7fWlmKGMuZ2V0U2hvd0FjdGlvbnNJY29uKCkmJiFjLmdldFRpbGVBY3Rpb25Nb2RlQWN0aXZlKCkpe3IucmVuZGVyQ29udHJvbChjLmFjdGlvbkljb24pO31pZighYy5nZXRUaWxlQWN0aW9uTW9kZUFjdGl2ZSgpKXtyLndyaXRlKCI8L2Rpdj4iKTtpZih0aGlzLnJlbmRlclRpbGVBY3Rpb25zQ29udGFpbmVyKXt0aGlzLnJlbmRlclRpbGVBY3Rpb25zQ29udGFpbmVyKHIsdCxwLGMuZ2V0VGFyZ2V0KCksYy5nZXRJc0N1c3RvbVRpbGUoKSk7fX1yLndyaXRlKCI8L2xpPiIpO307YS5yZW5kZXJUaWxlQWN0aW9uc0NvbnRhaW5lcj1mdW5jdGlvbihyLHQscCl7aWYocCl7cC5hZGRTdHlsZUNsYXNzKCJzYXBVc2hlbGxBY3Rpb25CdXR0b24iKTtyLndyaXRlKCI8ZGl2Iik7ci5hZGRDbGFzcygic2FwVXNoZWxsVGlsZVBpbkJ1dHRvbk92ZXJsYXkiKTtyLndyaXRlQ2xhc3NlcygpO2lmKHQuZ2V0SGVhZGVyKXtyLndyaXRlQWNjZXNzaWJpbGl0eVN0YXRlKHQse3JvbGU6InRvb2xiYXIiLGxhYmVsOnQuZ2V0SGVhZGVyKCl9KTt9ci53cml0ZSgiPiIpO3IucmVuZGVyQ29udHJvbChwKTtyLndyaXRlKCI8L2Rpdj4iKTt9fTthLnJlbmRlclRpbGVWaWV3PWZ1bmN0aW9uKHIsdCxwLHMsaSl7dmFyIHU9IiI7aWYoaSl7ci53cml0ZSgiPGRpdiIpO3Iud3JpdGVDbGFzc2VzKCk7ci53cml0ZSgiPiIpO3IucmVuZGVyQ29udHJvbCh0KTtyLndyaXRlKCI8L2Rpdj4iKTt9ZWxzZXtyLndyaXRlKCI8YSIpO3Iud3JpdGVDbGFzc2VzKCk7aWYocyl7aWYocy5jaGFyQXQoMCk9PT0iIyIpe2lmKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gmJndpbmRvdy5sb2NhdGlvbi5zZWFyY2gubGVuZ3RoPjApe3U9d2luZG93LmxvY2F0aW9uLm9yaWdpbit3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUrd2luZG93LmxvY2F0aW9uLnNlYXJjaCsiJmFwcFN0YXRlPWxlYW4iK3M7fWVsc2V7dT13aW5kb3cubG9jYXRpb24ub3JpZ2luK3dpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSsiP2FwcFN0YXRlPWxlYW4iK3M7fX1lbHNle3U9czt9ci53cml0ZUF0dHJpYnV0ZUVzY2FwZWQoInRhcmdldCIsIl9ibGFuayIpO3Iud3JpdGVBdHRyaWJ1dGVFc2NhcGVkKCJocmVmIix1KTt9ci53cml0ZSgidGFiaW5kZXg9XCItMVwiPiIpO3IucmVuZGVyQ29udHJvbCh0KTtyLndyaXRlKCI8L2E+Iik7fX07YS5yZW5kZXJUaWxlQWN0aW9uTW9kZT1mdW5jdGlvbihyLGMpe2lmKCFjLmdldFRpbGVBY3Rpb25Nb2RlQWN0aXZlKCkpe3JldHVybjt9ci53cml0ZSgiPGRpdiIpO3IuYWRkQ2xhc3MoInNhcFVzaGVsbFRpbGVBY3Rpb25MYXllckRpdiIpO3Iud3JpdGVDbGFzc2VzKCk7ci53cml0ZSgiPiIpO2lmKGMuZ2V0VGlsZUFjdGlvbk1vZGVBY3RpdmUoKSYmIWMuZ2V0SXNMb2NrZWQoKSl7ci53cml0ZSgiPGRpdiIpO3IuYWRkQ2xhc3MoInNhcFVzaGVsbFRpbGVEZWxldGVDbGlja0FyZWEiKTtyLndyaXRlQ2xhc3NlcygpO3Iud3JpdGUoIj4iKTtyLndyaXRlKCI8ZGl2Iik7ci5hZGRDbGFzcygic2FwVXNoZWxsVGlsZURlbGV0ZUljb25PdXRlckNsYXNzIik7ci53cml0ZUNsYXNzZXMoKTtyLndyaXRlKCI+Iik7ci5yZW5kZXJDb250cm9sKGMuX2luaXREZWxldGVBY3Rpb24oKSk7ci53cml0ZSgiPC9kaXY+Iik7ci53cml0ZSgiPC9kaXY+Iik7fXIud3JpdGUoIjxkaXYgY2xhc3M9J3NhcFVzaGVsbFRpbGVBY3Rpb25EaXZDZW50ZXInPjwvZGl2PiIpO3Iud3JpdGUoIjxkaXYiKTtyLmFkZENsYXNzKCJzYXBVc2hlbGxUaWxlQWN0aW9uSWNvbkRpdkJvdHRvbSIpO3Iud3JpdGVDbGFzc2VzKCk7ci53cml0ZSgiPiIpO3Iud3JpdGUoIjxkaXYiKTtyLmFkZENsYXNzKCJzYXBVc2hlbGxUaWxlQWN0aW9uSWNvbkRpdkJvdHRvbUlubmVyRGl2Iik7ci53cml0ZUNsYXNzZXMoKTtyLndyaXRlKCI+Iik7ci5yZW5kZXJDb250cm9sKGMuZ2V0QWN0aW9uU2hlZXRJY29uKCkpO3Iud3JpdGUoIjwvZGl2PiIpO3Iud3JpdGUoIjwvZGl2PiIpO3Iud3JpdGUoIjwvZGl2PiIpO307cmV0dXJuIGE7fSx0cnVlKTsKc2FwLnVpLnByZWRlZmluZSgnc2FwL3VzaGVsbC91aS9sYXVuY2hwYWQvVGlsZVN0YXRlJyxbJ3NhcC91aS9jb3JlL0NvbnRyb2wnLCdzYXAvdXNoZWxsL2xpYnJhcnknLCdzYXAvdWkvY29yZS9JY29uJywnc2FwL3VzaGVsbC9yZXNvdXJjZXMnLCcuL1RpbGVTdGF0ZVJlbmRlcmVyJ10sZnVuY3Rpb24oQyxsLEkscil7InVzZSBzdHJpY3QiO3ZhciBUPUMuZXh0ZW5kKCJzYXAudXNoZWxsLnVpLmxhdW5jaHBhZC5UaWxlU3RhdGUiLHttZXRhZGF0YTp7bGlicmFyeToic2FwLnVzaGVsbCIscHJvcGVydGllczp7c3RhdGU6e3R5cGU6InN0cmluZyIsZ3JvdXA6Ik1pc2MiLGRlZmF1bHRWYWx1ZTonTG9hZGVkJ319fX0pO1QucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXt0aGlzLl9yYj1yLmkxOG47dGhpcy5fc0ZhaWxlZFRvTG9hZD10aGlzLl9yYi5nZXRUZXh0KCJjYW5ub3RMb2FkVGlsZSIpO3RoaXMuX29XYXJuaW5nSWNvbj1uZXcgSSh0aGlzLmdldElkKCkrIi13YXJuLWljb24iLHtzcmM6InNhcC1pY29uOi8vbm90aWZpY2F0aW9uIixzaXplOiIxLjM3cmVtIn0pO3RoaXMuX29XYXJuaW5nSWNvbi5hZGRTdHlsZUNsYXNzKCJzYXBTdWl0ZUdURnRyRmxkSWNuTXJrIik7fTtULnByb3RvdHlwZS5leGl0PWZ1bmN0aW9uKCl7dGhpcy5fb1dhcm5pbmdJY29uLmRlc3Ryb3koKTt9O1QucHJvdG90eXBlLnNldFN0YXRlPWZ1bmN0aW9uKHMsaSl7dGhpcy5zZXRQcm9wZXJ0eSgic3RhdGUiLHMsaSk7cmV0dXJuIHRoaXM7fTtyZXR1cm4gVDt9KTsKc2FwLnVpLnByZWRlZmluZSgnc2FwL3VzaGVsbC91aS9sYXVuY2hwYWQvVGlsZVN0YXRlUmVuZGVyZXInLFsnc2FwL3VpL2NvcmUvSFRNTCddLGZ1bmN0aW9uKEgpeyJ1c2Ugc3RyaWN0Ijt2YXIgVD17fTtULnJlbmRlcj1mdW5jdGlvbihyLGMpe3Iud3JpdGUoIjxkaXYiKTtyLndyaXRlQ29udHJvbERhdGEoYyk7ci5hZGRDbGFzcygic2FwVXNoZWxsR1QiKTtyLndyaXRlQ2xhc3NlcygpO3Iud3JpdGUoIj4iKTt2YXIgcz1jLmdldFN0YXRlKCk7ci53cml0ZSgiPGRpdiIpO3IuYWRkQ2xhc3MoInNhcFVzaGVsbE92ZXJsYXkiKTtyLndyaXRlQ2xhc3NlcygpO3Iud3JpdGVBdHRyaWJ1dGUoImlkIixjLmdldElkKCkrIi1vdmVybGF5Iik7aWYocz09PSJGYWlsZWQiKXtyLndyaXRlQXR0cmlidXRlKCJ0aXRsZSIsYy5fc0ZhaWxlZFRvTG9hZCk7fXIud3JpdGUoIj4iKTtzd2l0Y2gocyl7Y2FzZSJMb2FkaW5nIjp2YXIgYj1uZXcgSCh7Y29udGVudDoiPGRpdiBjbGFzcz0nc2FwVXNoZWxsVGlsZVN0YXRlTG9hZGluZyc+PGRpdj4ifSk7Yi5zZXRCdXN5SW5kaWNhdG9yRGVsYXkoMCk7Yi5zZXRCdXN5KHRydWUpO3IucmVuZGVyQ29udHJvbChiKTticmVhaztjYXNlIkZhaWxlZCI6ci53cml0ZSgiPGRpdiIpO3Iud3JpdGVBdHRyaWJ1dGUoImlkIixjLmdldElkKCkrIi1mYWlsZWQtZnRyIik7ci5hZGRDbGFzcygic2FwVXNoZWxsVGlsZVN0YXRlRnRyRmxkIik7ci53cml0ZUNsYXNzZXMoKTtyLndyaXRlKCI+Iik7ci53cml0ZSgiPGRpdiIpO3Iud3JpdGVBdHRyaWJ1dGUoImlkIixjLmdldElkKCkrIi1mYWlsZWQtaWNvbiIpO3IuYWRkQ2xhc3MoInNhcFVzaGVsbFRpbGVTdGF0ZUZ0ckZsZEljbiIpO3Iud3JpdGVDbGFzc2VzKCk7ci53cml0ZSgiPiIpO3IucmVuZGVyQ29udHJvbChjLl9vV2FybmluZ0ljb24pO3Iud3JpdGUoIjwvZGl2PiIpO3Iud3JpdGUoIjxkaXYiKTtyLndyaXRlQXR0cmlidXRlKCJpZCIsYy5nZXRJZCgpKyItZmFpbGVkLXRleHQiKTtyLmFkZENsYXNzKCJzYXBVc2hlbGxUaWxlU3RhdGVGdHJGbGRUeHQiKTtyLndyaXRlQ2xhc3NlcygpO3Iud3JpdGUoIj4iKTtyLndyaXRlRXNjYXBlZChjLl9zRmFpbGVkVG9Mb2FkKTtyLndyaXRlKCI8L2Rpdj4iKTtyLndyaXRlKCI8L2Rpdj4iKTticmVhaztkZWZhdWx0On1yLndyaXRlKCI8L2Rpdj4iKTtyLndyaXRlKCI8L2Rpdj4iKTt9O3JldHVybiBUO30sdHJ1ZSk7CnNhcC51aS5wcmVkZWZpbmUoJ3NhcC91c2hlbGwvdWkvdGlsZS9EeW5hbWljVGlsZScsWydzYXAvdXNoZWxsL2xpYnJhcnknLCcuL1RpbGVCYXNlJywnLi9EeW5hbWljVGlsZVJlbmRlcmVyJ10sZnVuY3Rpb24obCxUKXsidXNlIHN0cmljdCI7dmFyIEQ9VC5leHRlbmQoInNhcC51c2hlbGwudWkudGlsZS5EeW5hbWljVGlsZSIse21ldGFkYXRhOntsaWJyYXJ5OiJzYXAudXNoZWxsIixwcm9wZXJ0aWVzOntudW1iZXJWYWx1ZTp7dHlwZToic3RyaW5nIixncm91cDoiRGF0YSIsZGVmYXVsdFZhbHVlOicwLjAnfSxudW1iZXJTdGF0ZTp7dHlwZToic2FwLnVzaGVsbC51aS50aWxlLlN0YXRlIixncm91cDoiQXBwZWFyYW5jZSIsZGVmYXVsdFZhbHVlOnNhcC51c2hlbGwudWkudGlsZS5TdGF0ZS5OZXV0cmFsfSxudW1iZXJVbml0Ont0eXBlOiJzdHJpbmciLGdyb3VwOiJEYXRhIixkZWZhdWx0VmFsdWU6bnVsbH0sbnVtYmVyRGlnaXRzOnt0eXBlOiJpbnQiLGdyb3VwOiJBcHBlYXJhbmNlIixkZWZhdWx0VmFsdWU6MH0sc3RhdGVBcnJvdzp7dHlwZToic2FwLnVzaGVsbC51aS50aWxlLlN0YXRlQXJyb3ciLGdyb3VwOiJBcHBlYXJhbmNlIixkZWZhdWx0VmFsdWU6c2FwLnVzaGVsbC51aS50aWxlLlN0YXRlQXJyb3cuTm9uZX0sbnVtYmVyRmFjdG9yOnt0eXBlOiJzdHJpbmciLGdyb3VwOiJEYXRhIixkZWZhdWx0VmFsdWU6bnVsbH19fX0pO3JldHVybiBEO30pOwpzYXAudWkucHJlZGVmaW5lKCdzYXAvdXNoZWxsL3VpL3RpbGUvRHluYW1pY1RpbGVSZW5kZXJlcicsWyJzYXAvdWkvY29yZS9SZW5kZXJlciIsInNhcC91aS9jb3JlL2Zvcm1hdC9OdW1iZXJGb3JtYXQiLCIuLi8uLi9saWJyYXJ5IiwiLi9UaWxlQmFzZVJlbmRlcmVyIiwic2FwL3VzaGVsbC9yZXNvdXJjZXMiXSxmdW5jdGlvbihSLE4sdSxULHIpeyJ1c2Ugc3RyaWN0Ijt2YXIgUz11LnVpLnRpbGUuU3RhdGU7dmFyIEQ9Ui5leHRlbmQoVCk7dmFyIHQ9ci5pMThuO0QucmVuZGVyUGFydD1mdW5jdGlvbihvLGMpe3ZhciBuPWMuZ2V0TnVtYmVyVmFsdWUoKSxhPWMuZ2V0TnVtYmVyRmFjdG9yKCksZD1uLnRvU3RyaW5nKCksbT1jLmdldEljb24oKT80OjUscz10aGlzLl9zaG91bGRQcm9jZXNzRGlnaXRzKGQsYyk7aWYoZC5sZW5ndGg+bXx8cyl7dmFyIGI9dGhpcy5fbm9ybWFsaXplTnVtYmVyKG4sbSxhLGMpO2E9Yi5udW1iZXJGYWN0b3I7ZD1iLmRpc3BsYXlOdW1iZXI7fWVsc2UgaWYoZCE9PSIiKXt2YXIgZT1OLmdldEZsb2F0SW5zdGFuY2Uoe21heEZyYWN0aW9uRGlnaXRzOm19KTtkPWUuZm9ybWF0KG4pO31vLndyaXRlKCI8ZGl2Iik7by5hZGRDbGFzcygic2FwVXNoZWxsRHluYW1pY1RpbGUiKTtvLndyaXRlQ2xhc3NlcygpO28ud3JpdGUoIj4iKTtvLndyaXRlKCI8ZGl2Iik7by5hZGRDbGFzcygic2FwVXNoZWxsRHluYW1pY1RpbGVEYXRhIik7by5hZGRDbGFzcygoYy5nZXROdW1iZXJTdGF0ZSgpPyJzYXBVc2hlbGxEeW5hbWljVGlsZURhdGEiK2MuZ2V0TnVtYmVyU3RhdGUoKToic2FwVXNoZWxsRHluYW1pY1RpbGVEYXRhIitTLk5ldXRyYWwpKTtvLndyaXRlQ2xhc3NlcygpO28ud3JpdGUoIj4iKTtvLndyaXRlKCI8ZGl2IGNsYXNzPSdzYXBVc2hlbGxEeW5hbWljVGlsZUluZGljYXRpb24nPiIpO2lmKGMuZ2V0U3RhdGVBcnJvdygpKXtvLndyaXRlKCI8ZGl2Iik7by5hZGRDbGFzcygic2FwVXNoZWxsRHluYW1pY1RpbGVTdGF0ZUFycm93Iik7by5hZGRDbGFzcygic2FwVXNoZWxsRHluYW1pY1RpbGVEYXRhIitjLmdldFN0YXRlQXJyb3coKSk7by53cml0ZUNsYXNzZXMoKTtvLndyaXRlKCI+Iik7by53cml0ZSgiPC9kaXY+Iik7fW8ud3JpdGUoIjxicj48ZGl2Iik7by5hZGRDbGFzcygic2FwVXNoZWxsRHluYW1pY1RpbGVOdW1iZXJGYWN0b3IiKTtvLndyaXRlQ2xhc3NlcygpO28ud3JpdGVBY2Nlc3NpYmlsaXR5U3RhdGUoYyx7bGFiZWw6dC5nZXRUZXh0KCJUaWxlVW5pdHNfbGFibGUiKSthfSk7by53cml0ZSgiPiIpO28ud3JpdGVFc2NhcGVkKGEpO28ud3JpdGUoIjwvZGl2PiIpO28ud3JpdGUoIjwvZGl2PiIpO28ud3JpdGUoIjxkaXYiKTtvLmFkZENsYXNzKCJzYXBVc2hlbGxEeW5hbWljVGlsZU51bWJlciIpO28ud3JpdGVDbGFzc2VzKCk7aWYoZCYmZCE9PSIiKXtvLndyaXRlQWNjZXNzaWJpbGl0eVN0YXRlKGMse2xhYmVsOnQuZ2V0VGV4dCgiVGlsZVZhbHVlX2xhYmxlIikrZH0pO28ud3JpdGUoIj4iKTtvLndyaXRlRXNjYXBlZChkKTt9ZWxzZXtvLndyaXRlKCI+Iik7by53cml0ZUVzY2FwZWQoYy5nZXROdW1iZXJWYWx1ZSgpKTt9by53cml0ZSgiPC9kaXY+Iik7by53cml0ZSgiPC9kaXY+Iik7by53cml0ZSgiPC9kaXY+Iik7fTtELl9ub3JtYWxpemVOdW1iZXI9ZnVuY3Rpb24obixtLGEsYyl7dmFyIGI7aWYoaXNOYU4obikpe2I9bjt9ZWxzZXt2YXIgbz1OLmdldEZsb2F0SW5zdGFuY2Uoe21heEZyYWN0aW9uRGlnaXRzOmMuZ2V0TnVtYmVyRGlnaXRzKCl9KTtpZighYSl7dmFyIGQ9TWF0aC5hYnMobik7aWYoZD49MTAwMDAwMDAwMCl7YT0iQiI7bi89MTAwMDAwMDAwMDt9ZWxzZSBpZihkPj0xMDAwMDAwKXthPSJNIjtuLz0xMDAwMDAwO31lbHNlIGlmKGQ+PTEwMDApe2E9IksiO24vPTEwMDA7fX1iPW8uZm9ybWF0KG4pO312YXIgZT1iO3ZhciBmPWVbbS0xXTttLT0oZj09PSIuInx8Zj09PSIsIik/MTowO2U9ZS5zdWJzdHJpbmcoMCxtKTtyZXR1cm57ZGlzcGxheU51bWJlcjplLG51bWJlckZhY3RvcjphfTt9O0QuX3Nob3VsZFByb2Nlc3NEaWdpdHM9ZnVuY3Rpb24oZCxjKXt2YXIgbj1jLmdldE51bWJlckRpZ2l0cygpLGE7aWYoZC5pbmRleE9mKCIuIikhPT0tMSl7YT1kLnNwbGl0KCIuIilbMV0ubGVuZ3RoO2lmKGE+bil7cmV0dXJuIHRydWU7fX1yZXR1cm4gZmFsc2U7fTtELmdldEluZm9QcmVmaXg9ZnVuY3Rpb24oYyl7cmV0dXJuIGMuZ2V0TnVtYmVyVW5pdCgpO307cmV0dXJuIEQ7fSx0cnVlKTsKc2FwLnVpLnByZWRlZmluZSgnc2FwL3VzaGVsbC91aS90aWxlL1N0YXRpY1RpbGUnLFsnc2FwL3VzaGVsbC9saWJyYXJ5JywnLi9UaWxlQmFzZScsJy4vU3RhdGljVGlsZVJlbmRlcmVyJ10sZnVuY3Rpb24obCxUKXsidXNlIHN0cmljdCI7dmFyIFM9VC5leHRlbmQoInNhcC51c2hlbGwudWkudGlsZS5TdGF0aWNUaWxlIix7bWV0YWRhdGE6e2xpYnJhcnk6InNhcC51c2hlbGwifX0pO3JldHVybiBTO30pOwpzYXAudWkucHJlZGVmaW5lKCdzYXAvdXNoZWxsL3VpL3RpbGUvU3RhdGljVGlsZVJlbmRlcmVyJyxbJ3NhcC91aS9jb3JlL1JlbmRlcmVyJywnLi9UaWxlQmFzZVJlbmRlcmVyJ10sZnVuY3Rpb24oUixUKXsidXNlIHN0cmljdCI7dmFyIFM9Ui5leHRlbmQoVCk7Uy5yZW5kZXJQYXJ0PWZ1bmN0aW9uKHIsYyl7ci53cml0ZSgiPHNwYW4iKTtyLmFkZENsYXNzKCJzYXBVc2hlbGxTdGF0aWNUaWxlIik7ci53cml0ZUNsYXNzZXMoKTtyLndyaXRlKCI+Iik7ci53cml0ZSgiPC9zcGFuPiIpO307cmV0dXJuIFM7fSx0cnVlKTsKc2FwLnVpLnByZWRlZmluZSgnc2FwL3VzaGVsbC91aS90aWxlL1RpbGVCYXNlJyxbJ3NhcC91aS9jb3JlL0NvbnRyb2wnLCdzYXAvdXNoZWxsL2xpYnJhcnknLCcuL1RpbGVCYXNlUmVuZGVyZXInXSxmdW5jdGlvbihDLGwpeyJ1c2Ugc3RyaWN0Ijt2YXIgVD1DLmV4dGVuZCgic2FwLnVzaGVsbC51aS50aWxlLlRpbGVCYXNlIix7bWV0YWRhdGE6e2xpYnJhcnk6InNhcC51c2hlbGwiLHByb3BlcnRpZXM6e3RpdGxlOnt0eXBlOiJzdHJpbmciLGdyb3VwOiJEYXRhIixkZWZhdWx0VmFsdWU6bnVsbH0sc3VidGl0bGU6e3R5cGU6InN0cmluZyIsZ3JvdXA6IkRhdGEiLGRlZmF1bHRWYWx1ZTpudWxsfSxpY29uOnt0eXBlOiJzdHJpbmciLGdyb3VwOiJEYXRhIixkZWZhdWx0VmFsdWU6bnVsbH0saW5mbzp7dHlwZToic3RyaW5nIixncm91cDoiRGF0YSIsZGVmYXVsdFZhbHVlOm51bGx9LGluZm9TdGF0ZTp7dHlwZToic2FwLnVzaGVsbC51aS50aWxlLlN0YXRlIixkZWZhdWx0VmFsdWU6c2FwLnVzaGVsbC51aS50aWxlLlN0YXRlLk5ldXRyYWx9LHRhcmdldFVSTDp7dHlwZToic3RyaW5nIixncm91cDoiQmVoYXZpb3IiLGRlZmF1bHRWYWx1ZTpudWxsfSxoaWdobGlnaHRUZXJtczp7dHlwZToiYW55Iixncm91cDoiQXBwZWFyYW5jZSIsZGVmYXVsdFZhbHVlOltdfX0sYWdncmVnYXRpb25zOntjb250ZW50Ont0eXBlOiJzYXAudWkuY29yZS5Db250cm9sIixtdWx0aXBsZTp0cnVlLHNpbmd1bGFyTmFtZToiY29udGVudCJ9fSxldmVudHM6e3ByZXNzOnt9fX19KTtULnByb3RvdHlwZS5vbnRhcD1mdW5jdGlvbihlKXt0aGlzLmZpcmVQcmVzcyh7fSk7fTtULnByb3RvdHlwZS5vbnNhcGVudGVyPWZ1bmN0aW9uKGUpe3RoaXMuZmlyZVByZXNzKHt9KTt9O1QucHJvdG90eXBlLm9uc2Fwc3BhY2U9ZnVuY3Rpb24oZSl7dGhpcy5maXJlUHJlc3Moe30pO307cmV0dXJuIFQ7fSk7CnNhcC51aS5wcmVkZWZpbmUoJ3NhcC91c2hlbGwvdWkvdGlsZS9UaWxlQmFzZVJlbmRlcmVyJyxbInNhcC91c2hlbGwvcmVzb3VyY2VzIiwic2FwL2Jhc2Uvc2VjdXJpdHkvZW5jb2RlWE1MIiwic2FwL3VpL2NvcmUvSWNvbiJdLGZ1bmN0aW9uKHIsZSxJKXsidXNlIHN0cmljdCI7dmFyIFQ9e307dmFyIHQ9ci5pMThuO1QuaGlnaGxpZ2h0PWZ1bmN0aW9uKGgscyl7dmFyIGksYSxFPWUocykucmVwbGFjZSgvJiN4YTsvZywiPGJyLz4iKTtpZihoJiZoLmxlbmd0aCYmaC5sZW5ndGg+MCl7Zm9yKGk9MDtpPGgubGVuZ3RoO2k9aSsxKXthPW5ldyBSZWdFeHAoIigiK2UoaFtpXSkucmVwbGFjZSgvKFsuKis/Xj0hOiR7fSgpfFtcXS9cXF0pL2csIlxcJDEiKSsiKSIsImdpIik7RT1FLnJlcGxhY2UoYSwiPGI+JDE8L2I+Iik7fX1yZXR1cm4gRTt9O1QucmVuZGVyPWZ1bmN0aW9uKFIsYyl7dmFyIGksbztSLndyaXRlKCI8ZGl2Iik7Ui53cml0ZUNvbnRyb2xEYXRhKGMpO2lmKGMuZ2V0VGFyZ2V0VVJMKCkpe1Iud3JpdGVBdHRyaWJ1dGVFc2NhcGVkKCJkYXRhLXRhcmdldHVybCIsYy5nZXRUYXJnZXRVUkwoKSk7fVIuYWRkQ2xhc3MoInNhcFVzaGVsbFRpbGVCYXNlIik7Ui53cml0ZUNsYXNzZXMoKTtSLndyaXRlKCI+Iik7Ui53cml0ZSgiPGRpdiIpO1IuYWRkQ2xhc3MoInNhcFVzaGVsbFRpbGVCYXNlSGVhZGVyIik7Ui53cml0ZUNsYXNzZXMoKTtSLndyaXRlKCI+Iik7Ui53cml0ZSgiPGgzIik7Ui5hZGRDbGFzcygic2FwVXNoZWxsVGlsZUJhc2VUaXRsZSIpO1Iud3JpdGVDbGFzc2VzKCk7Ui53cml0ZUFjY2Vzc2liaWxpdHlTdGF0ZShjLHtsYWJlbDp0LmdldFRleHQoInRpbGVUeXBlTGlzdEl0ZW0iKSt0LmdldFRleHQoIlRpbGVEZXRhaWxzX2xhYmxlIikrdC5nZXRUZXh0KCJUaWxlVGl0bGVfbGFibGUiKStjLmdldFRpdGxlKCl9KTtSLndyaXRlKCI+Iik7Ui53cml0ZSh0aGlzLmhpZ2hsaWdodChjLmdldEhpZ2hsaWdodFRlcm1zKCksYy5nZXRUaXRsZSgpfHwiIikpO1Iud3JpdGUoIjwvaDM+Iik7aWYoYy5nZXRTdWJ0aXRsZSgpKXtSLndyaXRlKCI8aDQiKTtSLmFkZENsYXNzKCJzYXBVc2hlbGxUaWxlQmFzZVN1YnRpdGxlIik7Ui53cml0ZUNsYXNzZXMoKTtSLndyaXRlQWNjZXNzaWJpbGl0eVN0YXRlKGMse2xhYmVsOnQuZ2V0VGV4dCgiVGlsZVN1YlRpdGxlX2xhYmxlIikrYy5nZXRTdWJ0aXRsZSgpfSk7Ui53cml0ZSgiPiIpO1Iud3JpdGUodGhpcy5oaWdobGlnaHQoYy5nZXRIaWdobGlnaHRUZXJtcygpLGMuZ2V0U3VidGl0bGUoKSkpO1Iud3JpdGUoIjwvaDQ+Iik7fVIud3JpdGUoIjwvZGl2PiIpO2lmKHR5cGVvZih0aGlzLnJlbmRlclBhcnQpPT09ImZ1bmN0aW9uIil7dGhpcy5yZW5kZXJQYXJ0KFIsYyk7fWlmKGMuZ2V0SWNvbigpKXtvPW5ldyBJKHtzcmM6Yy5nZXRJY29uKCl9KTtvLmFkZFN0eWxlQ2xhc3MoInNhcFVzaGVsbFRpbGVCYXNlSWNvbiIpO1IucmVuZGVyQ29udHJvbChvKTt9aWYoYy5nZXRJbmZvKCl8fCgodHlwZW9mKHRoaXMuZ2V0SW5mb1ByZWZpeCk9PT0iZnVuY3Rpb24iKSkmJnRoaXMuZ2V0SW5mb1ByZWZpeChjKSl7Ui53cml0ZSgiPGRpdiIpO1IuYWRkQ2xhc3MoInNhcFVzaGVsbFRpbGVCYXNlSW5mbyIpO1IuYWRkQ2xhc3MoYy5nZXRJbmZvU3RhdGUoKT8ic2FwVXNoZWxsVGlsZUJhc2UiK2MuZ2V0SW5mb1N0YXRlKCk6InNhcFVzaGVsbFRpbGVCYXNlIitzYXAudXNoZWxsLnVpLnRpbGUuU3RhdGUuTmV1dHJhbCk7Ui53cml0ZUNsYXNzZXMoKTtSLndyaXRlQWNjZXNzaWJpbGl0eVN0YXRlKGMse2xhYmVsOnQuZ2V0VGV4dCgiVGlsZUluZm9fbGFibGUiKStjLmdldEluZm8oKX0pO1Iud3JpdGUoIj4iKTtpZih0eXBlb2YodGhpcy5nZXRJbmZvUHJlZml4KT09PSJmdW5jdGlvbiIpe2k9dGhpcy5nZXRJbmZvUHJlZml4KGMpO1Iud3JpdGVFc2NhcGVkKGkpO31pZihjLmdldEluZm8oKSl7aWYoaSl7Ui53cml0ZSgiLCAiKTt9Ui53cml0ZSh0aGlzLmhpZ2hsaWdodChjLmdldEhpZ2hsaWdodFRlcm1zKCksYy5nZXRJbmZvKCkpKTt9Ui53cml0ZSgiPC9kaXY+Iik7fVIud3JpdGUoIjwvZGl2PiIpO307cmV0dXJuIFQ7fSx0cnVlKTsKc2FwLnVpLnJlcXVpcmUucHJlbG9hZCh7Cgkic2FwL3VzaGVsbC9jb21wb25lbnRzL3RpbGVzL2NkbS9hcHBsYXVuY2hlci9pMThuL2kxOG4ucHJvcGVydGllcyI6JyNcbiNXZWQgT2N0IDMwIDE1OjEwOjA5IFVUQyAyMDE5XG50aXRsZT1TdGF0aWMgQXBwIExhdW5jaGVyXG4nLAoJInNhcC91c2hlbGwvY29tcG9uZW50cy90aWxlcy9jZG0vYXBwbGF1bmNoZXIvbWFuaWZlc3QuanNvbiI6J3siX3ZlcnNpb24iOiIxLjEuMCIsInNhcC5mbHAiOnsidHlwZSI6InRpbGUiLCJ0aWxlU2l6ZSI6IjF4MSJ9LCJzYXAuYXBwIjp7ImlkIjoic2FwLnVzaGVsbC5jb21wb25lbnRzLnRpbGVzLmNkbS5hcHBsYXVuY2hlciIsIl92ZXJzaW9uIjoiMS4wLjAiLCJ0eXBlIjoiY29tcG9uZW50IiwiYXBwbGljYXRpb25WZXJzaW9uIjp7InZlcnNpb24iOiIxLjAuMCJ9LCJ0aXRsZSI6Int7dGl0bGV9fSIsImRlc2NyaXB0aW9uIjoiIiwidGFncyI6eyJrZXl3b3JkcyI6W119LCJhY2giOiJDQS1GRS1GTFAtRVUifSwic2FwLnVpIjp7Il92ZXJzaW9uIjoiMS4xLjAiLCJpY29ucyI6eyJpY29uIjoiIn0sImRldmljZVR5cGVzIjp7ImRlc2t0b3AiOnRydWUsInRhYmxldCI6dHJ1ZSwicGhvbmUiOnRydWV9LCJzdXBwb3J0ZWRUaGVtZXMiOlsic2FwX2hjYiIsInNhcF9iZWxpemUiLCJzYXBfYmVsaXplX3BsdXMiXX0sInNhcC51aTUiOnsiX3ZlcnNpb24iOiIxLjEuMCIsImNvbXBvbmVudE5hbWUiOiJzYXAudXNoZWxsLmNvbXBvbmVudHMudGlsZXMuY2RtLmFwcGxhdW5jaGVyIiwiZGVwZW5kZW5jaWVzIjp7Im1pblVJNVZlcnNpb24iOiIxLjQyIiwibGlicyI6eyJzYXAubSI6e319fSwibW9kZWxzIjp7ImkxOG4iOnsidHlwZSI6InNhcC51aS5tb2RlbC5yZXNvdXJjZS5SZXNvdXJjZU1vZGVsIiwidXJpIjoiaTE4bi9pMThuLnByb3BlcnRpZXMifX0sInJvb3RWaWV3Ijp7InZpZXdOYW1lIjoic2FwLnVzaGVsbC5jb21wb25lbnRzLnRpbGVzLmNkbS5hcHBsYXVuY2hlci5TdGF0aWNUaWxlIiwidHlwZSI6IkpTIn0sImhhbmRsZVZhbGlkYXRpb24iOmZhbHNlfX0nLAoJInNhcC91c2hlbGwvY29tcG9uZW50cy90aWxlcy9jZG0vYXBwbGF1bmNoZXJkeW5hbWljL2kxOG4vaTE4bi5wcm9wZXJ0aWVzIjonI1xuI1dlZCBPY3QgMzAgMTU6MTA6MDkgVVRDIDIwMTlcbnRpdGxlPUR5bmFtaWMgQXBwIExhdW5jaGVyXG4nLAoJInNhcC91c2hlbGwvY29tcG9uZW50cy90aWxlcy9jZG0vYXBwbGF1bmNoZXJkeW5hbWljL21hbmlmZXN0Lmpzb24iOid7Il92ZXJzaW9uIjoiMS4xLjAiLCJzYXAuZmxwIjp7InR5cGUiOiJ0aWxlIiwidGlsZVNpemUiOiIxeDEifSwic2FwLmFwcCI6eyJpZCI6InNhcC51c2hlbGwuY29tcG9uZW50cy50aWxlcy5jZG0uYXBwbGF1bmNoZXJkeW5hbWljIiwiX3ZlcnNpb24iOiIxLjAuMCIsInR5cGUiOiJjb21wb25lbnQiLCJhcHBsaWNhdGlvblZlcnNpb24iOnsidmVyc2lvbiI6IjEuMC4wIn0sInRpdGxlIjoie3t0aXRsZX19IiwiZGVzY3JpcHRpb24iOiIiLCJ0YWdzIjp7ImtleXdvcmRzIjpbXX0sImFjaCI6IkNBLUZFLUZMUC1FVSJ9LCJzYXAudWkiOnsiX3ZlcnNpb24iOiIxLjEuMCIsImljb25zIjp7Imljb24iOiIifSwiZGV2aWNlVHlwZXMiOnsiZGVza3RvcCI6dHJ1ZSwidGFibGV0Ijp0cnVlLCJwaG9uZSI6dHJ1ZX0sInN1cHBvcnRlZFRoZW1lcyI6WyJzYXBfaGNiIiwic2FwX2JlbGl6ZSIsInNhcF9iZWxpemVfcGx1cyJdfSwic2FwLnVpNSI6eyJfdmVyc2lvbiI6IjEuMS4wIiwiY29tcG9uZW50TmFtZSI6InNhcC51c2hlbGwuY29tcG9uZW50cy50aWxlcy5jZG0uYXBwbGF1bmNoZXJkeW5hbWljIiwiZGVwZW5kZW5jaWVzIjp7Im1pblVJNVZlcnNpb24iOiIxLjQyIiwibGlicyI6eyJzYXAubSI6e319fSwibW9kZWxzIjp7ImkxOG4iOnsidHlwZSI6InNhcC51aS5tb2RlbC5yZXNvdXJjZS5SZXNvdXJjZU1vZGVsIiwidXJpIjoiaTE4bi9pMThuLnByb3BlcnRpZXMifX0sInJvb3RWaWV3Ijp7InZpZXdOYW1lIjoic2FwLnVzaGVsbC5jb21wb25lbnRzLnRpbGVzLmNkbS5hcHBsYXVuY2hlcmR5bmFtaWMuRHluYW1pY1RpbGUiLCJ0eXBlIjoiSlMifSwiaGFuZGxlVmFsaWRhdGlvbiI6ZmFsc2V9fScKfSwic2FwL3VpL2NvcmUvbGlicmFyeS1wcmVsb2FkIgopOwovLyMgc291cmNlTWFwcGluZ1VSTD1mbHAtY29udHJvbHMuanMubWFw</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
      <TcpPackets>
        <PacketInfo time="1676515" offset="0" length="542" />
        <PacketInfo time="1676515" offset="542" length="45426" />
      </TcpPackets>
    </HTTPResponse>
  </HTTPTask>
</HTTPSnapshot>